import{a as y,b as k,c as pn,d as k_,e as P_,f as h,h as Kf,i as Yf,l as F_,m as Qf}from"./chunk-PZ5UXJ7I.js";var gf=pn(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});var hf=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};pf.default=hf});var vf=pn(wo=>{"use strict";var ny=wo&&wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wo,"__esModule",{value:!0});var kS=ny((Qf(),P_(F_))),PS=ny(gf()),mf=class{constructor(n){var e,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=kS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,c,l;let u=null,d=null,p=null,f=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let G=yield o.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=G:d=JSON.parse(G))}let _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),C=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&C&&C.length>1&&(p=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield o.text();try{u=JSON.parse(_),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,g="OK")}catch{o.status===404&&_===""?(f=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new PS.default(u)}return{error:u,data:d,count:p,status:f,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}};wo.default=mf});var _f=pn(Do=>{"use strict";var FS=Do&&Do.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Do,"__esModule",{value:!0});var LS=FS(vf()),yf=class extends LS.default{select(n){let e=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let c=[n?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};Do.default=yf});var lc=pn(bo=>{"use strict";var jS=bo&&bo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bo,"__esModule",{value:!0});var VS=jS(_f()),wf=class extends VS.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};bo.default=wf});var bf=pn(Eo=>{"use strict";var US=Eo&&Eo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Eo,"__esModule",{value:!0});var Co=US(lc()),Df=class{constructor(n,{headers:e={},schema:r,fetch:i}){this.url=n,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(n,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Co.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:r=!0}={}){var i;let o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let s=n.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Co.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let c=n.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Co.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:e}={}){var r;let i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Co.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var e;let r="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new Co.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};Eo.default=Df});var iy=pn(Io=>{"use strict";var ry=Io&&Io.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Io,"__esModule",{value:!0});var $S=ry(bf()),BS=ry(lc()),Cf=class t{constructor(n,{headers:e={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(e),this.schemaName=r,this.fetch=i}from(n){let e=new URL(`${this.url}/${n}`);return new $S.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${n}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(e).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{c.searchParams.append(d,p)})):(a="POST",l=e);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new BS.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Io.default=Cf});var dy=pn(ve=>{"use strict";var Xr=ve&&ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ve,"__esModule",{value:!0});ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;var oy=Xr(iy());ve.PostgrestClient=oy.default;var sy=Xr(bf());ve.PostgrestQueryBuilder=sy.default;var ay=Xr(lc());ve.PostgrestFilterBuilder=ay.default;var cy=Xr(_f());ve.PostgrestTransformBuilder=cy.default;var ly=Xr(vf());ve.PostgrestBuilder=ly.default;var uy=Xr(gf());ve.PostgrestError=uy.default;ve.default={PostgrestClient:oy.default,PostgrestQueryBuilder:sy.default,PostgrestFilterBuilder:ay.default,PostgrestTransformBuilder:cy.default,PostgrestBuilder:ly.default,PostgrestError:uy.default}});function Yc(t,n){return Object.is(t,n)}var se=null,Ko=!1,Qc=1,je=Symbol("SIGNAL");function F(t){let n=se;return se=t,n}function Jc(){return se}var pi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gi(t){if(Ko)throw new Error("");if(se===null)return;se.consumerOnSignalRead(t);let n=se.nextProducerIndex++;if(Xo(se),n<se.producerNode.length&&se.producerNode[n]!==t&&hi(se)){let e=se.producerNode[n];Jo(e,se.producerIndexOfThis[n])}se.producerNode[n]!==t&&(se.producerNode[n]=t,se.producerIndexOfThis[n]=hi(se)?Xf(t,se,n):0),se.producerLastReadVersion[n]=t.version}function Jf(){Qc++}function Xc(t){if(!(hi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qc)){if(!t.producerMustRecompute(t)&&!rl(t)){Kc(t);return}t.producerRecomputeValue(t),Kc(t)}}function el(t){if(t.liveConsumerNode===void 0)return;let n=Ko;Ko=!0;try{for(let e of t.liveConsumerNode)e.dirty||L_(e)}finally{Ko=n}}function tl(){return se?.consumerAllowSignalWrites!==!1}function L_(t){t.dirty=!0,el(t),t.consumerMarkedDirty?.(t)}function Kc(t){t.dirty=!1,t.lastCleanEpoch=Qc}function Qo(t){return t&&(t.nextProducerIndex=0),F(t)}function nl(t,n){if(F(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(hi(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Jo(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rl(t){Xo(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(Xc(e),r!==e.version))return!0}return!1}function il(t){if(Xo(t),hi(t))for(let n=0;n<t.producerNode.length;n++)Jo(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xf(t,n,e){if(eh(t),t.liveConsumerNode.length===0&&th(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Xf(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Jo(t,n){if(eh(t),t.liveConsumerNode.length===1&&th(t))for(let r=0;r<t.producerNode.length;r++)Jo(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];Xo(i),i.producerIndexOfThis[r]=n}}function hi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function eh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function th(t){return t.producerNode!==void 0}function ol(t,n){let e=Object.create(j_);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(Xc(e),gi(e),e.value===Yo)throw e.error;return e.value};return r[je]=e,r}var Gc=Symbol("UNSET"),Zc=Symbol("COMPUTING"),Yo=Symbol("ERRORED"),j_=k(y({},pi),{value:Gc,dirty:!0,error:null,equal:Yc,kind:"computed",producerMustRecompute(t){return t.value===Gc||t.value===Zc},producerRecomputeValue(t){if(t.value===Zc)throw new Error("Detected cycle in computations.");let n=t.value;t.value=Zc;let e=Qo(t),r,i=!1;try{r=t.computation(),F(null),i=n!==Gc&&n!==Yo&&r!==Yo&&t.equal(n,r)}catch(o){r=Yo,t.error=o}finally{nl(t,e)}if(i){t.value=n;return}t.value=r,t.version++}});function V_(){throw new Error}var nh=V_;function rh(t){nh(t)}function sl(t){nh=t}var U_=null;function al(t,n){let e=Object.create(es);e.value=t,n!==void 0&&(e.equal=n);let r=()=>(gi(e),e.value);return r[je]=e,r}function mi(t,n){tl()||rh(t),t.equal(t.value,n)||(t.value=n,$_(t))}function cl(t,n){tl()||rh(t),mi(t,n(t.value))}var es=k(y({},pi),{equal:Yc,value:void 0,kind:"signal"});function $_(t){t.version++,Jf(),el(t),U_?.()}function ll(t){let n=F(null);try{return t()}finally{F(n)}}var ul;function vi(){return ul}function St(t){let n=ul;return ul=t,n}var ts=Symbol("NotFound");function T(t){return typeof t=="function"}function rr(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var ns=rr(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function yi(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var re=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(T(r))try{r()}catch(o){n=o instanceof ns?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ih(o)}catch(s){n=n??[],s instanceof ns?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ns(n)}}add(n){var e;if(n&&n!==this)if(this.closed)ih(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&yi(e,n)}remove(n){let{_finalizers:e}=this;e&&yi(e,n),n instanceof t&&n._removeParent(this)}};re.EMPTY=(()=>{let t=new re;return t.closed=!0,t})();var dl=re.EMPTY;function rs(t){return t instanceof re||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function ih(t){T(t)?t():t.unsubscribe()}var Ye={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ir={setTimeout(t,n,...e){let{delegate:r}=ir;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=ir;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function is(t){ir.setTimeout(()=>{let{onUnhandledError:n}=Ye;if(n)n(t);else throw t})}function _i(){}var oh=fl("C",void 0,void 0);function sh(t){return fl("E",void 0,t)}function ah(t){return fl("N",t,void 0)}function fl(t,n,e){return{kind:t,value:n,error:e}}var gn=null;function or(t){if(Ye.useDeprecatedSynchronousErrorHandling){let n=!gn;if(n&&(gn={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=gn;if(gn=null,e)throw r}}else t()}function ch(t){Ye.useDeprecatedSynchronousErrorHandling&&gn&&(gn.errorThrown=!0,gn.error=t)}var mn=class extends re{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,rs(n)&&n.add(this)):this.destination=G_}static create(n,e,r){return new sr(n,e,r)}next(n){this.isStopped?pl(ah(n),this):this._next(n)}error(n){this.isStopped?pl(sh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?pl(oh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},q_=Function.prototype.bind;function hl(t,n){return q_.call(t,n)}var gl=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){os(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){os(r)}else os(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){os(e)}}},sr=class extends mn{constructor(n,e,r){super();let i;if(T(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Ye.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&hl(n.next,o),error:n.error&&hl(n.error,o),complete:n.complete&&hl(n.complete,o)}):i=n}this.destination=new gl(i)}};function os(t){Ye.useDeprecatedSynchronousErrorHandling?ch(t):is(t)}function W_(t){throw t}function pl(t,n){let{onStoppedNotification:e}=Ye;e&&ir.setTimeout(()=>e(t,n))}var G_={closed:!0,next:_i,error:W_,complete:_i};var ar=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ne(t){return t}function ml(...t){return vl(t)}function vl(t){return t.length===0?Ne:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var B=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=K_(e)?e:new sr(e,r,i);return or(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=lh(r),new r((i,o)=>{let s=new sr({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[ar](){return this}pipe(...e){return vl(e)(this)}toPromise(e){return e=lh(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function lh(t){var n;return(n=t??Ye.Promise)!==null&&n!==void 0?n:Promise}function Z_(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}function K_(t){return t&&t instanceof mn||Z_(t)&&rs(t)}function yl(t){return T(t?.lift)}function U(t){return n=>{if(yl(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function L(t,n,e,r,i){return new _l(t,n,e,r,i)}var _l=class extends mn{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function cr(){return U((t,n)=>{let e=null;t._refCount++;let r=L(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var lr=class extends B{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,yl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new re;let e=this.getSubject();n.add(this.source.subscribe(L(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=re.EMPTY)}return n}refCount(){return cr()(this)}};var uh=rr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=(()=>{class t extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new ss(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new uh}next(e){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dl:(this.currentObservers=null,o.push(e),new re(()=>{this.currentObservers=null,yi(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new B;return e.source=this,e}}return t.create=(n,e)=>new ss(n,e),t})(),ss=class extends ae{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:dl}};var ce=class extends ae{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var be=new B(t=>t.complete());function dh(t){return t&&T(t.schedule)}function fh(t){return t[t.length-1]}function as(t){return T(fh(t))?t.pop():void 0}function qt(t){return dh(fh(t))?t.pop():void 0}function ph(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})}function hh(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function vn(t){return this instanceof vn?(this.v=t,this):new vn(t)}function gh(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(v){return new Promise(function(_,C){o.push([f,v,_,C])>1||c(f,v)})},g&&(i[f]=g(i[f])))}function c(f,g){try{l(r[f](g))}catch(v){p(o[0][3],v)}}function l(f){f.value instanceof vn?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function mh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof hh=="function"?hh(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var cs=t=>t&&typeof t.length=="number"&&typeof t!="function";function ls(t){return T(t?.then)}function us(t){return T(t[ar])}function ds(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function fs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Y_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hs=Y_();function ps(t){return T(t?.[hs])}function gs(t){return gh(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield vn(e.read());if(i)return yield vn(void 0);yield yield vn(r)}}finally{e.releaseLock()}})}function ms(t){return T(t?.getReader)}function ie(t){if(t instanceof B)return t;if(t!=null){if(us(t))return Q_(t);if(cs(t))return J_(t);if(ls(t))return X_(t);if(ds(t))return vh(t);if(ps(t))return ew(t);if(ms(t))return tw(t)}throw fs(t)}function Q_(t){return new B(n=>{let e=t[ar]();if(T(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function J_(t){return new B(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function X_(t){return new B(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,is)})}function ew(t){return new B(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function vh(t){return new B(n=>{nw(t,n).catch(e=>n.error(e))})}function tw(t){return vh(gs(t))}function nw(t,n){var e,r,i,o;return ph(this,void 0,void 0,function*(){try{for(e=mh(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function Ce(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function vs(t,n=0){return U((e,r)=>{e.subscribe(L(r,i=>Ce(r,t,()=>r.next(i),n),()=>Ce(r,t,()=>r.complete(),n),i=>Ce(r,t,()=>r.error(i),n)))})}function ys(t,n=0){return U((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function yh(t,n){return ie(t).pipe(ys(n),vs(n))}function _h(t,n){return ie(t).pipe(ys(n),vs(n))}function wh(t,n){return new B(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function Dh(t,n){return new B(e=>{let r;return Ce(e,n,()=>{r=t[hs](),Ce(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}function _s(t,n){if(!t)throw new Error("Iterable cannot be null");return new B(e=>{Ce(e,n,()=>{let r=t[Symbol.asyncIterator]();Ce(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function bh(t,n){return _s(gs(t),n)}function Ch(t,n){if(t!=null){if(us(t))return yh(t,n);if(cs(t))return wh(t,n);if(ls(t))return _h(t,n);if(ds(t))return _s(t,n);if(ps(t))return Dh(t,n);if(ms(t))return bh(t,n)}throw fs(t)}function Q(t,n){return n?Ch(t,n):ie(t)}function S(...t){let n=qt(t);return Q(t,n)}function ur(t,n){let e=T(t)?t:()=>t,r=i=>i.error(e());return new B(n?i=>n.schedule(r,0,i):r)}function wl(t){return!!t&&(t instanceof B||T(t.lift)&&T(t.subscribe))}var Mt=rr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function j(t,n){return U((e,r)=>{let i=0;e.subscribe(L(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:rw}=Array;function iw(t,n){return rw(n)?t(...n):t(n)}function ws(t){return j(n=>iw(t,n))}var{isArray:ow}=Array,{getPrototypeOf:sw,prototype:aw,keys:cw}=Object;function Ds(t){if(t.length===1){let n=t[0];if(ow(n))return{args:n,keys:null};if(lw(n)){let e=cw(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function lw(t){return t&&typeof t=="object"&&sw(t)===aw}function bs(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function wi(...t){let n=qt(t),e=as(t),{args:r,keys:i}=Ds(t);if(r.length===0)return Q([],n);let o=new B(uw(r,n,i?s=>bs(i,s):Ne));return e?o.pipe(ws(e)):o}function uw(t,n,e=Ne){return r=>{Eh(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Eh(n,()=>{let l=Q(t[c],n),u=!1;l.subscribe(L(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Eh(t,n,e){t?Ce(e,t,n):n()}function Ih(t,n,e,r,i,o,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&n.complete()},f=v=>l<r?g(v):c.push(v),g=v=>{o&&n.next(v),l++;let _=!1;ie(e(v,u++)).subscribe(L(n,C=>{i?.(C),o?f(C):n.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let C=c.shift();s?Ce(n,s,()=>g(C)):g(C)}p()}catch(C){n.error(C)}}))};return t.subscribe(L(n,f,()=>{d=!0,p()})),()=>{a?.()}}function ee(t,n,e=1/0){return T(n)?ee((r,i)=>j((o,s)=>n(r,o,i,s))(ie(t(r,i))),e):(typeof n=="number"&&(e=n),U((r,i)=>Ih(r,i,t,e)))}function dr(t=1/0){return ee(Ne,t)}function Sh(){return dr(1)}function fr(...t){return Sh()(Q(t,qt(t)))}function Cs(t){return new B(n=>{ie(t()).subscribe(n)})}function Dl(...t){let n=as(t),{args:e,keys:r}=Ds(t),i=new B(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ie(e[u]).subscribe(L(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?bs(r,a):a),o.complete())}))}});return n?i.pipe(ws(n)):i}function Re(t,n){return U((e,r)=>{let i=0;e.subscribe(L(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Tt(t){return U((n,e)=>{let r=null,i=!1,o;r=n.subscribe(L(e,void 0,void 0,s=>{o=ie(t(s,Tt(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Mh(t,n,e,r,i){return(o,s)=>{let a=e,c=n,l=0;o.subscribe(L(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Wt(t,n){return T(n)?ee(t,n,1):ee(t,1)}function Gt(t){return U((n,e)=>{let r=!1;n.subscribe(L(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function xt(t){return t<=0?()=>be:U((n,e)=>{let r=0;n.subscribe(L(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Es(t=dw){return U((n,e)=>{let r=!1;n.subscribe(L(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function dw(){return new Mt}function Di(t){return U((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function At(t,n){let e=arguments.length>=2;return r=>r.pipe(t?Re((i,o)=>t(i,o,r)):Ne,xt(1),e?Gt(n):Es(()=>new Mt))}function hr(t){return t<=0?()=>be:U((n,e)=>{let r=[];n.subscribe(L(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function bl(t,n){let e=arguments.length>=2;return r=>r.pipe(t?Re((i,o)=>t(i,o,r)):Ne,hr(1),e?Gt(n):Es(()=>new Mt))}function Cl(t,n){return U(Mh(t,n,arguments.length>=2,!0))}function El(...t){let n=qt(t);return U((e,r)=>{(n?fr(t,e,n):fr(t,e)).subscribe(r)})}function Ve(t,n){return U((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(L(r,c=>{i?.unsubscribe();let l=0,u=o++;ie(t(c,u)).subscribe(i=L(r,d=>r.next(n?n(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Il(t){return U((n,e)=>{ie(t).subscribe(L(e,()=>e.complete(),_i)),!e.closed&&n.subscribe(e)})}function me(t,n,e){let r=T(t)||n||e?{next:t,error:n,complete:e}:t;return r?U((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(L(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ne}var fw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(n,e){super(gp(n,e)),this.code=n}};function hw(t){return`NG0${Math.abs(t)}`}function gp(t,n){return`${hw(t)}${n?": "+n:""}`}var mp=Symbol("InputSignalNode#UNSET"),pw=k(y({},es),{transformFn:void 0,applyValueToInputSignal(t,n){mi(t,n)}});function vp(t,n){let e=Object.create(pw);e.value=t,e.transformFn=n?.transform;function r(){if(gi(e),e.value===mp){let i=null;throw new w(-950,i)}return e.value}return r[je]=e,r}function Ri(t){return{toString:t}.toString()}var Is="__parameters__";function gw(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function yp(t,n,e){return Ri(()=>{let r=gw(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Is)?c[Is]:Object.defineProperty(c,Is,{value:[]})[Is];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function q(t){for(let n in t)if(t[n]===q)return n;throw Error("Could not find renamed property on target object.")}function mw(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ie(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ie).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function Th(t,n){return t?n?`${t} ${n}`:t:n||""}var vw=q({__forward_ref__:q});function xn(t){return t.__forward_ref__=xn,t.toString=function(){return Ie(this())},t}function _e(t){return _p(t)?t():t}function _p(t){return typeof t=="function"&&t.hasOwnProperty(vw)&&t.__forward_ref__===xn}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ia(t){return xh(t,Dp)||xh(t,bp)}function wp(t){return ia(t)!==null}function xh(t,n){return t.hasOwnProperty(n)?t[n]:null}function yw(t){let n=t&&(t[Dp]||t[bp]);return n||null}function Ah(t){return t&&(t.hasOwnProperty(Nh)||t.hasOwnProperty(_w))?t[Nh]:null}var Dp=q({\u0275prov:q}),Nh=q({\u0275inj:q}),bp=q({ngInjectableDef:q}),_w=q({ngInjectorDef:q}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=D({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cp(t){return t&&!!t.\u0275providers}var ww=q({\u0275cmp:q}),Dw=q({\u0275dir:q}),bw=q({\u0275pipe:q}),Cw=q({\u0275mod:q}),Rs=q({\u0275fac:q}),Ii=q({__NG_ELEMENT_ID__:q}),Rh=q({__NG_ENV_ID__:q});function Mu(t){return typeof t=="string"?t:t==null?"":String(t)}function Ew(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Mu(t)}function Ep(t,n){throw new w(-200,t)}function Tu(t,n){throw new w(-201,!1)}var R=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(R||{}),Vl;function Ip(){return Vl}function Ee(t){let n=Vl;return Vl=t,n}function Sp(t,n,e){let r=ia(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&R.Optional)return null;if(n!==void 0)return n;Tu(t,"Injector")}var Iw={},yn=Iw,Ul="__NG_DI_FLAG__",Os=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=e;return this.injector.get(n,r.optional?ts:yn,r)}},ks="ngTempTokenPath",Sw="ngTokenPath",Mw=/\n/gm,Tw="\u0275",Oh="__source";function xw(t,n=R.Default){if(vi()===void 0)throw new w(-203,!1);if(vi()===null)return Sp(t,void 0,n);{let e=vi(),r;return e instanceof Os?r=e.injector:r=e,r.get(t,n&R.Optional?null:void 0,n)}}function I(t,n=R.Default){return(Ip()||xw)(_e(t),n)}function m(t,n=R.Default){return I(t,oa(n))}function oa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $l(t){let n=[];for(let e=0;e<t.length;e++){let r=_e(t[e]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let i,o=R.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Aw(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(I(i,o))}else n.push(I(r))}return n}function Mp(t,n){return t[Ul]=n,t.prototype[Ul]=n,t}function Aw(t){return t[Ul]}function Nw(t,n,e,r){let i=t[ks];throw n[Oh]&&i.unshift(n[Oh]),t.message=Rw(`
`+t.message,i,e,r),t[Sw]=i,t[ks]=null,t}function Rw(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Tw?t.slice(2):t;let i=Ie(n);if(Array.isArray(n))i=n.map(Ie).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ie(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(Mw,`
  `)}`}var Ow=Mp(yp("Optional"),8);var kw=Mp(yp("SkipSelf"),4);function wn(t,n){let e=t.hasOwnProperty(Rs);return e?t[Rs]:null}function xu(t,n){t.forEach(e=>Array.isArray(e)?xu(e,n):n(e))}function Tp(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ps(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Pw(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function Fw(t,n,e){let r=Oi(t,n);return r>=0?t[r|1]=e:(r=~r,Pw(t,r,n,e)),r}function Sl(t,n){let e=Oi(t,n);if(e>=0)return t[e|1]}function Oi(t,n){return Lw(t,n,1)}function Lw(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var Dn={},Ue=[],Si=new b(""),xp=new b("",-1),Ap=new b(""),Fs=class{get(n,e=yn){if(e===yn){let r=new Error(`NullInjectorError: No provider for ${Ie(n)}!`);throw r.name="NullInjectorError",r}return e}};function Np(t,n){let e=t[Cw]||null;if(!e&&n===!0)throw new Error(`Type ${Ie(t)} does not have '\u0275mod' property.`);return e}function bn(t){return t[ww]||null}function jw(t){return t[Dw]||null}function Vw(t){return t[bw]||null}function Au(t){return{\u0275providers:t}}function Uw(...t){return{\u0275providers:Rp(!0,t),\u0275fromNgModule:!0}}function Rp(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return xu(n,s=>{let a=s;Bl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Op(i,o),e}function Op(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];Nu(i,o=>{n(o,r)})}}function Bl(t,n,e,r){if(t=_e(t),!t)return!1;let i=null,o=Ah(t),s=!o&&bn(t);if(!o&&!s){let c=t.ngModule;if(o=Ah(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Bl(l,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{xu(o.imports,u=>{Bl(u,n,e,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Op(l,n)}if(!a){let l=wn(i)||(()=>new i);n({provide:i,useFactory:l,deps:Ue},i),n({provide:Ap,useValue:i,multi:!0},i),n({provide:Si,useValue:()=>I(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Nu(c,u=>{n(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Nu(t,n){for(let e of t)Cp(e)&&(e=e.\u0275providers),Array.isArray(e)?Nu(e,n):n(e)}var $w=q({provide:String,useValue:q});function kp(t){return t!==null&&typeof t=="object"&&$w in t}function Bw(t){return!!(t&&t.useExisting)}function Hw(t){return!!(t&&t.useFactory)}function wr(t){return typeof t=="function"}function zw(t){return!!t.useClass}var sa=new b(""),Ms={},kh={},Ml;function Ru(){return Ml===void 0&&(Ml=new Fs),Ml}var Se=class{},Mi=class extends Se{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,zl(n,s=>this.processProvider(s)),this.records.set(xp,pr(void 0,this)),i.has("environment")&&this.records.set(Se,pr(void 0,this));let o=this.records.get(sa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ap,Ue,R.Self))}retrieve(n,e){let r=e;return this.get(n,r.optional?ts:yn,r)}destroy(){Ci(this),this._destroyed=!0;let n=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(n)}}onDestroy(n){return Ci(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ci(this);let e=St(this),r=Ee(void 0),i;try{return n()}finally{St(e),Ee(r)}}get(n,e=yn,r=R.Default){if(Ci(this),n.hasOwnProperty(Rh))return n[Rh](this);r=oa(r);let i,o=St(this),s=Ee(void 0);try{if(!(r&R.SkipSelf)){let c=this.records.get(n);if(c===void 0){let l=Kw(n)&&ia(n);l&&this.injectableDefInScope(l)?c=pr(Hl(n),Ms):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,r)}let a=r&R.Self?Ru():this.parent;return e=r&R.Optional&&e===yn?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[ks]=a[ks]||[]).unshift(Ie(n)),o)throw a;return Nw(a,n,"R3InjectorError",this.source)}else throw a}finally{Ee(s),St(o)}}resolveInjectorInitializers(){let n=F(null),e=St(this),r=Ee(void 0),i;try{let o=this.get(Si,Ue,R.Self);for(let s of o)s()}finally{St(e),Ee(r),F(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(Ie(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=_e(n);let e=wr(n)?n:_e(n&&n.provide),r=Ww(n);if(!wr(n)&&n.multi===!0){let i=this.records.get(e);i||(i=pr(void 0,Ms,!0),i.factory=()=>$l(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e,r){let i=F(null);try{return e.value===kh?Ep(Ie(n)):e.value===Ms&&(e.value=kh,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&Zw(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{F(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=_e(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Hl(t){let n=ia(t),e=n!==null?n.factory:wn(t);if(e!==null)return e;if(t instanceof b)throw new w(204,!1);if(t instanceof Function)return qw(t);throw new w(204,!1)}function qw(t){if(t.length>0)throw new w(204,!1);let e=yw(t);return e!==null?()=>e.factory(t):()=>new t}function Ww(t){if(kp(t))return pr(void 0,t.useValue);{let n=Pp(t);return pr(n,Ms)}}function Pp(t,n,e){let r;if(wr(t)){let i=_e(t);return wn(i)||Hl(i)}else if(kp(t))r=()=>_e(t.useValue);else if(Hw(t))r=()=>t.useFactory(...$l(t.deps||[]));else if(Bw(t))r=(i,o)=>I(_e(t.useExisting),o!==void 0&&o&R.Optional?R.Optional:void 0);else{let i=_e(t&&(t.useClass||t.provide));if(Gw(t))r=()=>new i(...$l(t.deps));else return wn(i)||Hl(i)}return r}function Ci(t){if(t.destroyed)throw new w(205,!1)}function pr(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Gw(t){return!!t.deps}function Zw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Kw(t){return typeof t=="function"||typeof t=="object"&&t instanceof b}function zl(t,n){for(let e of t)Array.isArray(e)?zl(e,n):e&&Cp(e)?zl(e.\u0275providers,n):n(e)}function ze(t,n){let e;t instanceof Mi?(Ci(t),e=t):e=new Os(t);let r,i=St(e),o=Ee(void 0);try{return n()}finally{St(i),Ee(o)}}function Fp(){return Ip()!==void 0||vi()!=null}function Yw(t){if(!Fp())throw new w(-203,!1)}function Qw(t){return typeof t=="function"}var Ot=0,V=1,x=2,we=3,Je=4,et=5,Ls=6,js=7,Me=8,Dr=9,Yt=10,ue=11,Ti=12,Ph=13,xr=14,at=15,br=16,gr=17,Cr=18,aa=19,Lp=20,Zt=21,Tl=22,Vs=23,$e=24,yr=25,Xe=26,jp=1;var Cn=7,Us=8,$s=9,Be=10;function Kt(t){return Array.isArray(t)&&typeof t[jp]=="object"}function kt(t){return Array.isArray(t)&&t[jp]===!0}function Vp(t){return(t.flags&4)!==0}function Ar(t){return t.componentOffset>-1}function Ou(t){return(t.flags&1)===1}function ct(t){return!!t.template}function Bs(t){return(t[x]&512)!==0}function Nr(t){return(t[x]&256)===256}var ql=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Up(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var An=(()=>{let t=()=>$p;return t.ngInherit=!0,t})();function $p(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xw),Jw}function Jw(){let t=Hp(this),n=t?.current;if(n){let e=t.previous;if(e===Dn)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Xw(t,n,e,r,i){let o=this.declaredInputs[r],s=Hp(t)||eD(t,{previous:Dn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new ql(l&&l.currentValue,e,c===Dn),Up(t,n,i,e)}var Bp="__ngSimpleChanges__";function Hp(t){return t[Bp]||null}function eD(t,n){return t[Bp]=n}var Fh=null;var H=function(t,n=null,e){Fh?.(t,n,e)},tD="svg",nD="math";function lt(t){for(;Array.isArray(t);)t=t[Ot];return t}function zp(t,n){return lt(n[t])}function ht(t,n){return lt(n[t.index])}function qp(t,n){return t.data[n]}function rD(t,n){return t[n]}function iD(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function ut(t,n){let e=n[t];return Kt(e)?e:e[Ot]}function ku(t){return(t[x]&128)===128}function oD(t){return kt(t[we])}function Hs(t,n){return n==null?null:t[n]}function Wp(t){t[gr]=0}function Gp(t){t[x]&1024||(t[x]|=1024,ku(t)&&ki(t))}function sD(t,n){for(;t>0;)n=n[xr],t--;return n}function ca(t){return!!(t[x]&9216||t[$e]?.dirty)}function Wl(t){t[Yt].changeDetectionScheduler?.notify(8),t[x]&64&&(t[x]|=1024),ca(t)&&ki(t)}function ki(t){t[Yt].changeDetectionScheduler?.notify(0);let n=En(t);for(;n!==null&&!(n[x]&8192||(n[x]|=8192,!ku(n)));)n=En(n)}function Zp(t,n){if(Nr(t))throw new w(911,!1);t[Zt]===null&&(t[Zt]=[]),t[Zt].push(n)}function aD(t,n){if(t[Zt]===null)return;let e=t[Zt].indexOf(n);e!==-1&&t[Zt].splice(e,1)}function En(t){let n=t[we];return kt(n)?n[we]:n}function Kp(t){return t[js]??=[]}function Yp(t){return t.cleanup??=[]}var P={lFrame:og(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Gl=!1;function cD(){return P.lFrame.elementDepthCount}function lD(){P.lFrame.elementDepthCount++}function uD(){P.lFrame.elementDepthCount--}function Qp(){return P.bindingsEnabled}function dD(){return P.skipHydrationRootTNode!==null}function fD(t){return P.skipHydrationRootTNode===t}function hD(){P.skipHydrationRootTNode=null}function W(){return P.lFrame.lView}function Te(){return P.lFrame.tView}function Pt(t){return P.lFrame.contextLView=t,t[Me]}function Ft(t){return P.lFrame.contextLView=null,t}function Oe(){let t=Jp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Jp(){return P.lFrame.currentTNode}function pD(){let t=P.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Pi(t,n){let e=P.lFrame;e.currentTNode=t,e.isParent=n}function Xp(){return P.lFrame.isParent}function gD(){P.lFrame.isParent=!1}function eg(){return Gl}function Lh(t){let n=Gl;return Gl=t,n}function tg(){let t=P.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function mD(t){return P.lFrame.bindingIndex=t}function la(){return P.lFrame.bindingIndex++}function vD(t){let n=P.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function yD(){return P.lFrame.inI18n}function _D(t,n){let e=P.lFrame;e.bindingIndex=e.bindingRootIndex=t,Zl(n)}function wD(){return P.lFrame.currentDirectiveIndex}function Zl(t){P.lFrame.currentDirectiveIndex=t}function DD(t){let n=P.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function ng(t){P.lFrame.currentQueryIndex=t}function bD(t){let n=t[V];return n.type===2?n.declTNode:n.type===1?t[et]:null}function rg(t,n,e){if(e&R.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&R.Host);)if(i=bD(o),i===null||(o=o[xr],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=P.lFrame=ig();return r.currentTNode=n,r.lView=t,!0}function Pu(t){let n=ig(),e=t[V];P.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function ig(){let t=P.lFrame,n=t===null?null:t.child;return n===null?og(t):n}function og(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function sg(){let t=P.lFrame;return P.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ag=sg;function Fu(){let t=sg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function CD(t){return(P.lFrame.contextLView=sD(t,P.lFrame.contextLView))[Me]}function Rr(){return P.lFrame.selectedIndex}function In(t){P.lFrame.selectedIndex=t}function Lu(){let t=P.lFrame;return qp(t.tView,t.selectedIndex)}function ED(){return P.lFrame.currentNamespace}var cg=!0;function ju(){return cg}function Vu(t){cg=t}function ID(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=$p(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function lg(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),c&&(t.viewHooks??=[]).push(-e,c),l&&((t.viewHooks??=[]).push(e,l),(t.viewCheckHooks??=[]).push(e,l)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function Ts(t,n,e){ug(t,n,3,e)}function xs(t,n,e,r){(t[x]&3)===e&&ug(t,n,e,r)}function xl(t,n){let e=t[x];(e&3)===n&&(e&=16383,e+=1,t[x]=e)}function ug(t,n,e,r){let i=r!==void 0?t[gr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(t[gr]+=65536),(a<o||o==-1)&&(SD(t,e,n,c),t[gr]=(t[gr]&4294901760)+c+2),c++}function jh(t,n){H(4,t,n);let e=F(null);try{n.call(t)}finally{F(e),H(5,t,n)}}function SD(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[x]>>14<t[gr]>>16&&(t[x]&3)===n&&(t[x]+=16384,jh(a,o)):jh(a,o)}var _r=-1,Sn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function MD(t){return(t.flags&8)!==0}function TD(t){return(t.flags&16)!==0}function xD(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];ND(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function AD(t){return t===3||t===4||t===6}function ND(t){return t.charCodeAt(0)===64}function xi(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?Vh(t,e,i,null,n[++r]):Vh(t,e,i,null,null))}}return t}function Vh(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i)}function dg(t){return t!==_r}function zs(t){return t&32767}function RD(t){return t>>16}function qs(t,n){let e=RD(t),r=n;for(;e>0;)r=r[xr],e--;return r}var Kl=!0;function Ws(t){let n=Kl;return Kl=t,n}var OD=256,fg=OD-1,hg=5,kD=0,st={};function PD(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ii)&&(r=e[Ii]),r==null&&(r=e[Ii]=kD++);let i=r&fg,o=1<<i;n.data[t+(i>>hg)]|=o}function Gs(t,n){let e=pg(t,n);if(e!==-1)return e;let r=n[V];r.firstCreatePass&&(t.injectorIndex=n.length,Al(r.data,t),Al(n,null),Al(r.blueprint,null));let i=Uu(t,n),o=t.injectorIndex;if(dg(i)){let s=zs(i),a=qs(i,n),c=a[V].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|c[s+l]}return n[o+8]=i,o}function Al(t,n){t.push(0,0,0,0,0,0,0,0,n)}function pg(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Uu(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=_g(i),r===null)return _r;if(e++,i=i[xr],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return _r}function Yl(t,n,e){PD(t,n,e)}function gg(t,n,e){if(e&R.Optional||t!==void 0)return t;Tu(n,"NodeInjector")}function mg(t,n,e,r){if(e&R.Optional&&r===void 0&&(r=null),(e&(R.Self|R.Host))===0){let i=t[Dr],o=Ee(void 0);try{return i?i.get(n,r,e&R.Optional):Sp(n,r,e&R.Optional)}finally{Ee(o)}}return gg(r,n,e)}function vg(t,n,e,r=R.Default,i){if(t!==null){if(n[x]&2048&&!(r&R.Self)){let s=UD(t,n,e,r,st);if(s!==st)return s}let o=yg(t,n,e,r,st);if(o!==st)return o}return mg(n,e,r,i)}function yg(t,n,e,r,i){let o=jD(e);if(typeof o=="function"){if(!rg(n,t,r))return r&R.Host?gg(i,e,r):mg(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&R.Optional))Tu(e);else return s}finally{ag()}}else if(typeof o=="number"){let s=null,a=pg(t,n),c=_r,l=r&R.Host?n[at][et]:null;for((a===-1||r&R.SkipSelf)&&(c=a===-1?Uu(t,n):n[a+8],c===_r||!$h(r,!1)?a=-1:(s=n[V],a=zs(c),n=qs(c,n)));a!==-1;){let u=n[V];if(Uh(o,a,u.data)){let d=FD(a,n,e,s,r,l);if(d!==st)return d}c=n[a+8],c!==_r&&$h(r,n[V].data[a+8]===l)&&Uh(o,a,n)?(s=u,a=zs(c),n=qs(c,n)):a=-1}}return i}function FD(t,n,e,r,i,o){let s=n[V],a=s.data[t+8],c=r==null?Ar(a)&&Kl:r!=s&&(a.type&3)!==0,l=i&R.Host&&o===a,u=LD(a,s,e,c,l);return u!==null?Zs(n,s,u,a,i):st}function LD(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let f=d;f<p;f++){let g=s[f];if(f<c&&e===g||f>=c&&g.type===e)return f}if(i){let f=s[c];if(f&&ct(f)&&f.type===e)return c}return null}function Zs(t,n,e,r,i){let o=t[e],s=n.data;if(o instanceof Sn){let a=o;a.resolving&&Ep(Ew(s[e]));let c=Ws(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Ee(a.injectImpl):null,d=rg(t,r,R.Default);try{o=t[e]=a.factory(void 0,i,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&ID(e,s[e],n)}finally{u!==null&&Ee(u),Ws(c),a.resolving=!1,ag()}}return o}function jD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Ii)?t[Ii]:void 0;return typeof n=="number"?n>=0?n&fg:VD:n}function Uh(t,n,e){let r=1<<t;return!!(e[n+(t>>hg)]&r)}function $h(t,n){return!(t&R.Self)&&!(t&R.Host&&n)}var _n=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return vg(this._tNode,this._lView,n,oa(r),e)}};function VD(){return new _n(Oe(),W())}function Or(t){return Ri(()=>{let n=t.prototype.constructor,e=n[Rs]||Ql(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Rs]||Ql(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ql(t){return _p(t)?()=>{let n=Ql(_e(t));return n&&n()}:wn(t)}function UD(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[x]&2048&&!Bs(s);){let a=yg(o,s,e,r|R.Self,st);if(a!==st)return a;let c=o.parent;if(!c){let l=s[Lp];if(l){let u=l.get(e,st,r);if(u!==st)return u}c=_g(s),s=s[xr]}o=c}return i}function _g(t){let n=t[V],e=n.type;return e===2?n.declTNode:e===1?t[et]:null}function Bh(t,n=null,e=null,r){let i=wg(t,n,e,r);return i.resolveInjectorInitializers(),i}function wg(t,n=null,e=null,r,i=new Set){let o=[e||Ue,Uw(t)];return r=r||(typeof t=="object"?void 0:Ie(t)),new Mi(o,n||Ru(),r||null,i)}var He=class t{static THROW_IF_NOT_FOUND=yn;static NULL=new Fs;static create(n,e){if(Array.isArray(n))return Bh({name:""},e,n,"");{let r=n.name??"";return Bh({name:r},n.parent,n.providers,r)}}static \u0275prov=D({token:t,providedIn:"any",factory:()=>I(xp)});static __NG_ELEMENT_ID__=-1};var $D=new b("");$D.__NG_ELEMENT_ID__=t=>{let n=Oe();if(n===null)throw new w(204,!1);if(n.type&2)return n.value;if(t&R.Optional)return null;throw new w(204,!1)};var Dg=!1,Fi=(()=>{class t{static __NG_ELEMENT_ID__=BD;static __NG_ENV_ID__=e=>e}return t})(),Jl=class extends Fi{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let e=this._lView;return Nr(e)?(n(),()=>{}):(Zp(e,n),()=>aD(e,n))}};function BD(){return new Jl(W())}var Er=class{},bg=new b("",{providedIn:"root",factory:()=>!1});var Cg=new b(""),Eg=new b(""),kr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ce(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})();var Xl=class extends ae{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Fp()&&(this.destroyRef=m(Fi,{optional:!0})??void 0,this.pendingTasks=m(kr,{optional:!0})??void 0)}emit(n){let e=F(null);try{super.next(n)}finally{F(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof re&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},le=Xl;function Ks(...t){}function Ig(t){let n,e;function r(){t=Ks;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Hh(t){return queueMicrotask(()=>t()),()=>{t=Ks}}var $u="isAngularZone",Ys=$u+"_ID",HD=0,oe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new le(!1);onMicrotaskEmpty=new le(!1);onStable=new le(!1);onError=new le(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Dg}=n;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,WD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($u)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new w(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,zD,Ks,Ks);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},zD={};function Bu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qD(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Ig(()=>{t.callbackScheduled=!1,eu(t),t.isCheckStableRunning=!0,Bu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),eu(t)}function WD(t){let n=()=>{qD(t)},e=HD++;t._inner=t._inner.fork({name:"angular",properties:{[$u]:!0,[Ys]:e,[Ys+e]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(GD(c))return r.invokeTask(o,s,a,c);try{return zh(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),qh(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return zh(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ZD(c)&&n(),qh(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,eu(t),Bu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function eu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qh(t){t._nesting--,Bu(t)}var tu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new le;onMicrotaskEmpty=new le;onStable=new le;onError=new le;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function GD(t){return Sg(t,"__ignore_ng_zone__")}function ZD(t){return Sg(t,"__scheduler_tick__")}function Sg(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var dt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},KD=new b("",{providedIn:"root",factory:()=>{let t=m(oe),n=m(dt);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function Wh(t,n){return vp(t,n)}function YD(t){return vp(mp,t)}var Mg=(Wh.required=YD,Wh);function QD(){return ua(Oe(),W())}function ua(t,n){return new Qt(ht(t,n))}var Qt=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=QD}return t})();function JD(t){return typeof t=="function"&&t[je]!==void 0}function Li(t,n){let e=al(t,n?.equal),r=e[je];return e.set=i=>mi(r,i),e.update=i=>cl(r,i),e.asReadonly=XD.bind(e),e}function XD(){let t=this[je];if(t.readonlyFn===void 0){let n=()=>this();n[je]=t,t.readonlyFn=n}return t.readonlyFn}function Tg(t){return JD(t)&&typeof t.set=="function"}function xg(t){return(t.flags&128)===128}var Ag=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ag||{}),Ng=new Map,eb=0;function tb(){return eb++}function nb(t){Ng.set(t[aa],t)}function nu(t){Ng.delete(t[aa])}var Gh="__ngContext__";function ji(t,n){Kt(n)?(t[Gh]=n[aa],nb(n)):t[Gh]=n}function Rg(t){return kg(t[Ti])}function Og(t){return kg(t[Je])}function kg(t){for(;t!==null&&!kt(t);)t=t[Je];return t}var ru;function Pg(t){ru=t}function rb(){if(ru!==void 0)return ru;if(typeof document<"u")return document;throw new w(210,!1)}var Hu=new b("",{providedIn:"root",factory:()=>ib}),ib="ng",zu=new b(""),Pr=new b("",{providedIn:"platform",factory:()=>"unknown"});var qu=new b("",{providedIn:"root",factory:()=>rb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ob="h",sb="b";var Fg=!1,ab=new b("",{providedIn:"root",factory:()=>Fg});var Wu=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Wu||{}),Fr=new b(""),Zh=new Set;function Vi(t){Zh.has(t)||(Zh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Lg=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=cb}return t})();function cb(){return new Lg(W(),Oe())}var mr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(mr||{}),jg=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})(),lb=[mr.EarlyRead,mr.Write,mr.MixedReadWrite,mr.Read],ub=(()=>{class t{ngZone=m(oe);scheduler=m(Er);errorHandler=m(dt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(Fr,{optional:!0})}execute(){let e=this.sequences.size>0;e&&H(16),this.executing=!0;for(let r of lb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&H(17)}register(e){let{view:r}=e;r!==void 0?((r[yr]??=[]).push(e),ki(r),r[x]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Wu.AFTER_NEXT_RENDER,e):e()}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})(),iu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,i,o,s=null){this.impl=n,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[yr];n&&(this.view[yr]=n.filter(e=>e!==this))}};function Gu(t,n){!n?.injector&&Yw(Gu);let e=n?.injector??m(He);return Vi("NgAfterNextRender"),fb(t,e,n,!0)}function db(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function fb(t,n,e,r){let i=n.get(jg);i.impl??=n.get(ub);let o=n.get(Fr,null,{optional:!0}),s=e?.phase??mr.MixedReadWrite,a=e?.manualCleanup!==!0?n.get(Fi):null,c=n.get(Lg,null,{optional:!0}),l=new iu(i.impl,db(t,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var hb=(t,n,e,r)=>{};function pb(t,n,e,r){hb(t,n,e,r)}var gb=()=>null;function Vg(t,n,e=!1){return gb(t,n,e)}function Ug(t,n){let e=t.contentQueries;if(e!==null){let r=F(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];ng(o),a.contentQueries(2,n[s],s)}}}finally{F(r)}}}function ou(t,n,e){ng(0);let r=F(null);try{n(t,e)}finally{F(r)}}function $g(t,n,e){if(Vp(n)){let r=F(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{F(r)}}}var ft=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ft||{});var su=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fw})`}};function Bg(t){return t instanceof su?t.changingThisBreaksApplicationSecurity:t}function Hg(t){return t instanceof Function?t():t}function mb(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var zg="ng-template";function vb(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&mb(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Zu(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Zu(t){return t.type===4&&t.value!==zg}function yb(t,n,e){let r=t.type===4&&!e?zg:t.value;return n===r}function _b(t,n,e){let r=4,i=t.attrs,o=i!==null?bb(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Qe(r)&&!Qe(c))return!1;if(s&&Qe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!yb(t,c,e)||c===""&&n.length===1){if(Qe(r))return!1;s=!0}}else if(r&8){if(i===null||!vb(t,i,c,e)){if(Qe(r))return!1;s=!0}}else{let l=n[++a],u=wb(c,i,Zu(t),e);if(u===-1){if(Qe(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Qe(r))return!1;s=!0}}}}return Qe(r)||s}function Qe(t){return(t&1)===0}function wb(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Cb(n,t)}function Db(t,n,e=!1){for(let r=0;r<n.length;r++)if(_b(t,n[r],e))return!0;return!1}function bb(t){for(let n=0;n<t.length;n++){let e=t[n];if(AD(e))return n}return t.length}function Cb(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function Kh(t,n){return t?":not("+n.trim()+")":n}function Eb(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Qe(s)&&(n+=Kh(o,i),i=""),r=s,o=o||!Qe(r);e++}return i!==""&&(n+=Kh(o,i)),n}function Ib(t){return t.map(Eb).join(",")}function Sb(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!Qe(i))break;i=o}r++}return e.length&&n.push(1,...e),n}var Nn={};function Mb(t,n){return t.createText(n)}function Tb(t,n,e){t.setValue(n,e)}function qg(t,n,e){return t.createElement(n,e)}function Qs(t,n,e,r,i){t.insertBefore(n,e,r,i)}function Wg(t,n,e){t.appendChild(n,e)}function Yh(t,n,e,r,i){r!==null?Qs(t,n,e,r,i):Wg(t,n,e)}function xb(t,n,e){t.removeChild(null,n,e)}function Ab(t,n,e){t.setAttribute(n,"style",e)}function Nb(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Gg(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&xD(t,n,r),i!==null&&Nb(t,n,i),o!==null&&Ab(t,n,o)}function Ku(t,n,e,r,i,o,s,a,c,l,u){let d=Xe+r,p=d+i,f=Rb(d,p),g=typeof l=="function"?l():l;return f[V]={type:t,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Rb(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:Nn);return e}function Ob(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Ku(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Yu(t,n,e,r,i,o,s,a,c,l,u){let d=n.blueprint.slice();return d[Ot]=i,d[x]=r|4|128|8|64|1024,(l!==null||t&&t[x]&2048)&&(d[x]|=2048),Wp(d),d[we]=d[xr]=t,d[Me]=e,d[Yt]=s||t&&t[Yt],d[ue]=a||t&&t[ue],d[Dr]=c||t&&t[Dr]||null,d[et]=o,d[aa]=tb(),d[Ls]=u,d[Lp]=l,d[at]=n.type==2?t[at]:d,d}function kb(t,n,e){let r=ht(n,t),i=Ob(e),o=t[Yt].rendererFactory,s=Qu(t,Yu(t,i,null,Zg(e),r,n,null,o.createRenderer(r,e),null,null,null));return t[n.index]=s}function Zg(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function Kg(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Qu(t,n){return t[Ti]?t[Ph][Je]=n:t[Ti]=n,t[Ph]=n,n}function te(t=1){Yg(Te(),W(),Rr()+t,!1)}function Yg(t,n,e,r){if(!r)if((n[x]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ts(n,o,e)}else{let o=t.preOrderHooks;o!==null&&xs(n,o,0,e)}In(e)}var da=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(da||{});function au(t,n,e,r){let i=F(null);try{let[o,s,a]=t.inputs[e],c=null;(s&da.SignalBased)!==0&&(c=n[o][je]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),t.setInput!==null?t.setInput(n,c,r,e,o):Up(n,c,o,r)}finally{F(i)}}function Qg(t,n,e,r,i){let o=Rr(),s=r&2;try{In(-1),s&&n.length>Xe&&Yg(t,n,Xe,!1),H(s?2:0,i),e(r,i)}finally{In(o),H(s?3:1,i)}}function Ju(t,n,e){Ub(t,n,e),(e.flags&64)===64&&$b(t,n,e)}function Jg(t,n,e=ht){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function Pb(t,n,e,r){let o=r.get(ab,Fg)||e===ft.ShadowDom,s=t.selectRootElement(n,o);return Fb(s),s}function Fb(t){Lb(t)}var Lb=()=>null;function jb(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xg(t,n,e,r,i,o,s,a){if(!a&&Xu(n,t,e,r,i)){Ar(n)&&Vb(e,n.index);return}if(n.type&3){let c=ht(n,e);r=jb(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(c,r,i)}else n.type&12}function Vb(t,n){let e=ut(n,t);e[x]&16||(e[x]|=64)}function Ub(t,n,e){let r=e.directiveStart,i=e.directiveEnd;Ar(e)&&kb(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Gs(e,n);let o=e.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Zs(n,t,s,e);if(ji(c,n),o!==null&&qb(n,s-r,c,a,e,o),ct(a)){let l=ut(e.index,n);l[Me]=Zs(n,t,s,e)}}}function $b(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=wD();try{In(o);for(let a=r;a<i;a++){let c=t.data[a],l=n[a];Zl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Bb(c,l)}}finally{In(-1),Zl(s)}}function Bb(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function em(t,n){let e=t.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];Db(n,o.selectors,!1)&&(r??=[],ct(o)?r.unshift(o):r.push(o))}return r}function Hb(t,n,e,r,i,o){let s=ht(t,n);zb(n[ue],s,o,t.value,e,r,i)}function zb(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?Mu(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function qb(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];au(r,e,c,l)}}function Wb(t,n){let e=t[Dr],r=e?e.get(dt,null):null;r&&r.handleError(n)}function Xu(t,n,e,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=n.data[l];au(d,e[l],u,i),a=!0}if(o)for(let c of o){let l=e[c],u=n.data[c];au(u,l,r,i),a=!0}return a}function Gb(t,n){let e=ut(n,t),r=e[V];Zb(r,e);let i=e[Ot];i!==null&&e[Ls]===null&&(e[Ls]=Vg(i,e[Dr])),H(18),ed(r,e,e[Me]),H(19,e[Me])}function Zb(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function ed(t,n,e){Pu(n);try{let r=t.viewQuery;r!==null&&ou(1,r,e);let i=t.template;i!==null&&Qg(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Cr]?.finishViewCreation(t),t.staticContentQueries&&Ug(t,n),t.staticViewQueries&&ou(2,t.viewQuery,e);let o=t.components;o!==null&&Kb(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[x]&=-5,Fu()}}function Kb(t,n){for(let e=0;e<n.length;e++)Gb(t,n[e])}function Yb(t,n,e,r){let i=F(null);try{let o=n.tView,a=t[x]&4096?4096:16,c=Yu(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[n.index];c[br]=l;let u=t[Cr];return u!==null&&(c[Cr]=u.createEmbeddedView(o)),ed(o,c,e),c}finally{F(i)}}function Qh(t,n){return!n||n.firstChild===null||xg(t)}var Qb;function td(t,n){return Qb(t,n)}var Nt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Nt||{});function tm(t){return(t.flags&32)===32}function vr(t,n,e,r,i){if(r!=null){let o,s=!1;kt(r)?o=r:Kt(r)&&(s=!0,r=r[Ot]);let a=lt(r);t===0&&e!==null?i==null?Wg(n,e,a):Qs(n,e,a,i||null,!0):t===1&&e!==null?Qs(n,e,a,i||null,!0):t===2?xb(n,a,s):t===3&&n.destroyNode(a),o!=null&&lC(n,t,o,e,i)}}function Jb(t,n){nm(t,n),n[Ot]=null,n[et]=null}function Xb(t,n,e,r,i,o){r[Ot]=i,r[et]=n,fa(t,r,e,1,i,o)}function nm(t,n){n[Yt].changeDetectionScheduler?.notify(9),fa(t,n,n[ue],2,null,null)}function eC(t){let n=t[Ti];if(!n)return Nl(t[V],t);for(;n;){let e=null;if(Kt(n))e=n[Ti];else{let r=n[Be];r&&(e=r)}if(!e){for(;n&&!n[Je]&&n!==t;)Kt(n)&&Nl(n[V],n),n=n[we];n===null&&(n=t),Kt(n)&&Nl(n[V],n),e=n&&n[Je]}n=e}}function nd(t,n){let e=t[$s],r=e.indexOf(n);e.splice(r,1)}function rm(t,n){if(Nr(n))return;let e=n[ue];e.destroyNode&&fa(t,n,e,3,null,null),eC(n)}function Nl(t,n){if(Nr(n))return;let e=F(null);try{n[x]&=-129,n[x]|=256,n[$e]&&il(n[$e]),nC(t,n),tC(t,n),n[V].type===1&&n[ue].destroy();let r=n[br];if(r!==null&&kt(n[we])){r!==n[we]&&nd(r,n);let i=n[Cr];i!==null&&i.detachView(t)}nu(n)}finally{F(e)}}function tC(t,n){let e=t.cleanup,r=n[js];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[js]=null);let i=n[Zt];if(i!==null){n[Zt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Vs];if(o!==null){n[Vs]=null;for(let s of o)s.destroy()}}function nC(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof Sn)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];H(4,a,c);try{c.call(a)}finally{H(5,a,c)}}else{H(4,i,o);try{o.call(i)}finally{H(5,i,o)}}}}}function rC(t,n,e){return iC(t,n.parent,e)}function iC(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[Ot];if(Ar(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ft.None||i===ft.Emulated)return null}return ht(r,e)}function oC(t,n,e){return aC(t,n,e)}function sC(t,n,e){return t.type&40?ht(t,e):null}var aC=sC,Jh;function rd(t,n,e,r){let i=rC(t,r,n),o=n[ue],s=r.parent||n[et],a=oC(s,r,n);if(i!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Yh(o,i,e[c],a,!1);else Yh(o,i,e,a,!1);Jh!==void 0&&Jh(o,r,n,e,i)}function Ei(t,n){if(n!==null){let e=n.type;if(e&3)return ht(n,t);if(e&4)return cu(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return Ei(t,r);{let i=t[n.index];return kt(i)?cu(-1,i):lt(i)}}else{if(e&128)return Ei(t,n.next);if(e&32)return td(n,t)()||lt(t[n.index]);{let r=im(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=En(t[at]);return Ei(i,r)}else return Ei(t,n.next)}}}return null}function im(t,n){if(n!==null){let r=t[at][et],i=n.projection;return r.projection[i]}return null}function cu(t,n){let e=Be+t+1;if(e<n.length){let r=n[e],i=r[V].firstChild;if(i!==null)return Ei(r,i)}return n[Cn]}function id(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],c=e.type;if(s&&n===0&&(a&&ji(lt(a),r),e.flags|=2),!tm(e))if(c&8)id(t,n,e.child,r,i,o,!1),vr(n,t,i,a,o);else if(c&32){let l=td(e,r),u;for(;u=l();)vr(n,t,i,u,o);vr(n,t,i,a,o)}else c&16?cC(t,n,r,e,i,o):vr(n,t,i,a,o);e=s?e.projectionNext:e.next}}function fa(t,n,e,r,i,o){id(e,r,t.firstChild,n,i,o,!1)}function cC(t,n,e,r,i,o){let s=e[at],c=s[et].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];vr(n,t,i,u,o)}else{let l=c,u=s[we];xg(r)&&(l.flags|=128),id(t,n,l,u,i,o,!0)}}function lC(t,n,e,r,i){let o=e[Cn],s=lt(e);o!==s&&vr(n,t,r,o,i);for(let a=Be;a<e.length;a++){let c=e[a];fa(c[V],c,t,n,r,o)}}function uC(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Nt.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Nt.Important),t.setStyle(e,r,i,o))}}function Js(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(lt(o)),kt(o)&&dC(o,r);let s=e.type;if(s&8)Js(t,n,e.child,r);else if(s&32){let a=td(e,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=im(n,e);if(Array.isArray(a))r.push(...a);else{let c=En(n[at]);Js(c[V],c,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function dC(t,n){for(let e=Be;e<t.length;e++){let r=t[e],i=r[V].firstChild;i!==null&&Js(r[V],r,i,n)}t[Cn]!==t[Ot]&&n.push(t[Cn])}function om(t){if(t[yr]!==null){for(let n of t[yr])n.impl.addSequence(n);t[yr].length=0}}var sm=[];function fC(t){return t[$e]??hC(t)}function hC(t){let n=sm.pop()??Object.create(gC);return n.lView=t,n}function pC(t){t.lView[$e]!==t&&(t.lView=null,sm.push(t))}var gC=k(y({},pi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ki(t.lView)},consumerOnSignalRead(){this.lView[$e]=this}});function mC(t){let n=t[$e]??Object.create(vC);return n.lView=t,n}var vC=k(y({},pi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=En(t.lView);for(;n&&!am(n[V]);)n=En(n);n&&Gp(n)},consumerOnSignalRead(){this.lView[$e]=this}});function am(t){return t.type!==2}function cm(t){if(t[Vs]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[Vs])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[x]&8192)}}var yC=100;function lm(t,n=!0,e=0){let i=t[Yt].rendererFactory,o=!1;o||i.begin?.();try{_C(t,e)}catch(s){throw n&&Wb(t,s),s}finally{o||i.end?.()}}function _C(t,n){let e=eg();try{Lh(!0),lu(t,n);let r=0;for(;ca(t);){if(r===yC)throw new w(103,!1);r++,lu(t,1)}}finally{Lh(e)}}function wC(t,n,e,r){if(Nr(n))return;let i=n[x],o=!1,s=!1;Pu(n);let a=!0,c=null,l=null;o||(am(t)?(l=fC(n),c=Qo(l)):Jc()===null?(a=!1,l=mC(n),c=Qo(l)):n[$e]&&(il(n[$e]),n[$e]=null));try{Wp(n),mD(t.bindingStartIndex),e!==null&&Qg(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&Ts(n,f,null)}else{let f=t.preOrderHooks;f!==null&&xs(n,f,0,null),xl(n,0)}if(s||DC(n),cm(n),um(n,0),t.contentQueries!==null&&Ug(t,n),!o)if(u){let f=t.contentCheckHooks;f!==null&&Ts(n,f)}else{let f=t.contentHooks;f!==null&&xs(n,f,1),xl(n,1)}CC(t,n);let d=t.components;d!==null&&fm(n,d,0);let p=t.viewQuery;if(p!==null&&ou(2,p,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&Ts(n,f)}else{let f=t.viewHooks;f!==null&&xs(n,f,2),xl(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[Tl]){for(let f of n[Tl])f();n[Tl]=null}o||(om(n),n[x]&=-73)}catch(u){throw o||ki(n),u}finally{l!==null&&(nl(l,c),a&&pC(l)),Fu()}}function um(t,n){for(let e=Rg(t);e!==null;e=Og(e))for(let r=Be;r<e.length;r++){let i=e[r];dm(i,n)}}function DC(t){for(let n=Rg(t);n!==null;n=Og(n)){if(!(n[x]&2))continue;let e=n[$s];for(let r=0;r<e.length;r++){let i=e[r];Gp(i)}}}function bC(t,n,e){H(18);let r=ut(n,t);dm(r,e),H(19,r[Me])}function dm(t,n){ku(t)&&lu(t,n)}function lu(t,n){let r=t[V],i=t[x],o=t[$e],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&rl(o)),s||=!1,o&&(o.dirty=!1),t[x]&=-9217,s)wC(r,t,r.template,t[Me]);else if(i&8192){cm(t),um(t,1);let a=r.components;a!==null&&fm(t,a,1),om(t)}}function fm(t,n,e){for(let r=0;r<n.length;r++)bC(t,n[r],e)}function CC(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)In(~i);else{let o=i,s=e[++r],a=e[++r];_D(s,o);let c=n[o];H(24,c),a(2,c),H(25,c)}}}finally{In(-1)}}function od(t,n){let e=eg()?64:1088;for(t[Yt].changeDetectionScheduler?.notify(n);t;){t[x]|=e;let r=En(t);if(Bs(t)&&!r)return t;t=r}return null}function hm(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function EC(t,n,e,r=!0){let i=n[V];if(IC(i,n,t,e),r){let s=cu(e,t),a=n[ue],c=a.parentNode(t[Cn]);c!==null&&Xb(i,t[et],a,n,c,s)}let o=n[Ls];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function uu(t,n){if(t.length<=Be)return;let e=Be+n,r=t[e];if(r){let i=r[br];i!==null&&i!==t&&nd(i,r),n>0&&(t[e-1][Je]=r[Je]);let o=Ps(t,Be+n);Jb(r[V],r);let s=o[Cr];s!==null&&s.detachView(o[V]),r[we]=null,r[Je]=null,r[x]&=-129}return r}function IC(t,n,e,r){let i=Be+r,o=e.length;r>0&&(e[i-1][Je]=n),r<o-Be?(n[Je]=e[i],Tp(e,Be+r,n)):(e.push(n),n[Je]=null),n[we]=e;let s=n[br];s!==null&&e!==s&&pm(s,n);let a=n[Cr];a!==null&&a.insertView(t),Wl(n),n[x]|=128}function pm(t,n){let e=t[$s],r=n[we];if(Kt(r))t[x]|=2;else{let i=r[we][at];n[at]!==i&&(t[x]|=2)}e===null?t[$s]=[n]:e.push(n)}var Ai=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[V];return Js(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[Me]}set context(n){this._lView[Me]=n}get destroyed(){return Nr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[we];if(kt(n)){let e=n[Us],r=e?e.indexOf(this):-1;r>-1&&(uu(n,r),Ps(e,r))}this._attachedToViewContainer=!1}rm(this._lView[V],this._lView)}onDestroy(n){Zp(this._lView,n)}markForCheck(){od(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){Wl(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,lm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Bs(this._lView),e=this._lView[br];e!==null&&!n&&nd(e,this._lView),nm(this._lView[V],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=n;let e=Bs(this._lView),r=this._lView[br];r!==null&&!e&&pm(r,this._lView),Wl(this._lView)}};var ha=(()=>{class t{static __NG_ELEMENT_ID__=TC}return t})(),SC=ha,MC=class extends SC{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=Yb(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new Ai(i)}};function TC(){return xC(Oe(),W())}function xC(t,n){return t.type&4?new MC(n,t,ua(t,n)):null}function sd(t,n,e,r,i){let o=t.data[n];if(o===null)o=AC(t,n,e,r,i),yD()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=pD();o.injectorIndex=s===null?-1:s.injectorIndex}return Pi(o,!0),o}function AC(t,n,e,r,i){let o=Jp(),s=Xp(),a=s?o:o&&o.parent,c=t.data[n]=RC(t,a,e,n,r,i);return NC(t,c,o,s),c}function NC(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function RC(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return dD()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var gk=new RegExp(`^(\\d+)*(${sb}|${ob})*(.*)`);var OC=()=>null;function Xh(t,n){return OC(t,n)}var kC=class{},gm=class{},du=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Ie(n)}.`)}},pa=class{static NULL=new du},Ir=class{},Rn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>PC()}return t})();function PC(){let t=W(),n=Oe(),e=ut(n.index,t);return(Kt(e)?e:t)[ue]}var FC=(()=>{class t{static \u0275prov=D({token:t,providedIn:"root",factory:()=>null})}return t})();var Rl={},fu=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=oa(r);let i=this.injector.get(n,Rl,r);return i!==Rl||e===Rl?i:this.parentInjector.get(n,e,r)}};function ep(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Th(i,a);else if(o==2){let c=a,l=n[++s];r=Th(r,c+": "+l+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function A(t,n=R.Default){let e=W();if(e===null)return I(t,n);let r=Oe();return vg(r,e,_e(t),n)}function mm(){let t="invalid";throw new Error(t)}function vm(t,n,e,r,i){let o=r===null?null:{"":-1},s=i(t,e);if(s!==null){let a,c=null,l=null,u=jC(s);u===null?a=s:[a,c,l]=u,$C(t,n,e,a,o,c,l)}o!==null&&r!==null&&LC(e,r,o)}function LC(t,n,e){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new w(-301,!1);r.push(n[i],o)}}function jC(t){let n=null,e=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&ct(a)&&(n=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,VC(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?t:t.slice(1)),[r,i,o]):null}function VC(t,n,e,r){let i=n.length;t.findHostDirectiveDefs(t,n,r),e.set(t,[i,n.length-1])}function UC(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function $C(t,n,e,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&ct(f)&&(c=!0,UC(t,e,p)),Yl(Gs(e,n),t,f.type)}GC(e,t.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Kg(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(e.mergedAttrs=xi(e.mergedAttrs,f.hostAttrs),HC(t,e,n,d,f),WC(d,f,i),s!==null&&s.has(f)){let[v,_]=s.get(f);e.directiveToIndex.set(f.type,[d,v+e.directiveStart,_+e.directiveStart])}else(o===null||!o.has(f))&&e.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}BC(t,e,o)}function BC(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=t.data[r];if(e===null||!e.has(i))tp(0,n,i,r),tp(1,n,i,r),rp(n,r,!1);else{let o=e.get(i);np(0,n,o,r),np(1,n,o,r),rp(n,r,!0)}}}function tp(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),ym(n,o)}}function np(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),ym(n,s)}}function ym(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function rp(t,n,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!e&&i===null||e&&o===null||Zu(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!e&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(e&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function HC(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=wn(i.type,!0)),s=new Sn(o,ct(i),A);t.blueprint[r]=s,e[r]=s,zC(t,n,r,Kg(t,e,i.hostVars,Nn),i)}function zC(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;qC(s)!=a&&s.push(a),s.push(e,r,o)}}function qC(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function WC(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;ct(n)&&(e[""]=t)}}function GC(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function _m(t,n,e,r,i,o,s,a){let c=n.consts,l=Hs(c,s),u=sd(n,t,2,r,l);return o&&vm(n,e,u,Hs(c,a),i),u.mergedAttrs=xi(u.mergedAttrs,u.attrs),u.attrs!==null&&ep(u,u.attrs,!1),u.mergedAttrs!==null&&ep(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function wm(t,n){lg(t,n),Vp(n)&&t.queries.elementEnd(n)}var Xs=class extends pa{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=bn(n);return new Sr(e,this.ngModule)}};function ZC(t){return Object.keys(t).map(n=>{let[e,r,i]=t[n],o={propName:e,templateName:n,isSignal:(r&da.SignalBased)!==0};return i&&(o.transform=i),o})}function KC(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function YC(t,n,e){let r=n instanceof Se?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new fu(e,r):e}function QC(t){let n=t.get(Ir,null);if(n===null)throw new w(407,!1);let e=t.get(FC,null),r=t.get(Er,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r}}function JC(t,n){let e=(t.selectors[0][0]||"div").toLowerCase();return qg(n,e,e==="svg"?tD:e==="math"?nD:null)}var Sr=class extends gm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ZC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=KC(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=Ib(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,i){H(22);let o=F(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:Sb(this.componentDef.selectors[0]),c=Ku(0,null,null,1,0,null,null,null,null,[a],null),l=YC(s,i||this.ngModule,n),u=QC(l),d=u.rendererFactory.createRenderer(null,s),p=r?Pb(d,r,s.encapsulation,l):JC(s,d),f=Yu(null,c,null,512|Zg(s),null,null,u,d,l,null,Vg(p,l,!0));f[Xe]=p,Pu(f);let g=null;try{let v=_m(Xe,c,f,"#host",()=>[this.componentDef],!0,0);p&&(Gg(d,p,v),ji(p,f)),Ju(c,f,v),$g(c,v,f),wm(c,v),e!==void 0&&XC(v,this.ngContentSelectors,e),g=ut(v.index,f),f[Me]=g[Me],ed(c,f,null)}catch(v){throw g!==null&&nu(g),nu(f),v}finally{H(23),Fu()}return new hu(this.componentType,f)}finally{F(o)}}},hu=class extends kC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e){super(),this._rootLView=e,this._tNode=qp(e[V],Xe),this.location=ua(this._tNode,e),this.instance=ut(this._tNode.index,e)[Me],this.hostView=this.changeDetectorRef=new Ai(e,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let i=this._rootLView,o=Xu(r,i[V],i,n,e);this.previousInputValues.set(n,e);let s=ut(r.index,i);od(s,1)}get injector(){return new _n(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function XC(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Lr=(()=>{class t{static __NG_ELEMENT_ID__=eE}return t})();function eE(){let t=Oe();return nE(t,W())}var tE=Lr,Dm=class extends tE{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new _n(this._hostTNode,this._hostLView)}get parentInjector(){let n=Uu(this._hostTNode,this._hostLView);if(dg(n)){let e=qs(n,this._hostLView),r=zs(n),i=e[V].data[r+8];return new _n(i,e)}else return new _n(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=ip(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Xh(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,Qh(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!Qw(n),a;if(s)a=e;else{let g=e||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?n:new Sr(bn(n)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let v=(s?l:this.parentInjector).get(Se,null);v&&(o=v)}let u=bn(c.componentType??{}),d=Xh(this._lContainer,u?.id??null),p=d?.firstChild??null,f=c.create(l,i,p,o);return this.insertImpl(f.hostView,a,Qh(this._hostTNode,d)),f}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(oD(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[we],l=new Dm(c,c[et],c[we]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return EC(s,i,o,r),n.attachToViewContainerRef(),Tp(Ol(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=ip(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=uu(this._lContainer,e);r&&(Ps(Ol(this._lContainer),e),rm(r[V],r))}detach(n){let e=this._adjustIndex(n,-1),r=uu(this._lContainer,e);return r&&Ps(Ol(this._lContainer),e)!=null?new Ai(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function ip(t){return t[Us]}function Ol(t){return t[Us]||(t[Us]=[])}function nE(t,n){let e,r=n[t.index];return kt(r)?e=r:(e=hm(r,n,null,t),n[t.index]=e,Qu(n,e)),iE(e,n,t,r),new Dm(e,t,n)}function rE(t,n){let e=t[ue],r=e.createComment(""),i=ht(n,t),o=e.parentNode(i);return Qs(e,o,r,e.nextSibling(i),!1),r}var iE=aE,oE=()=>!1;function sE(t,n,e){return oE(t,n,e)}function aE(t,n,e,r){if(t[Cn])return;let i;e.type&8?i=lt(r):i=rE(n,e),t[Cn]=i}var Mr=class{},ad=class{};var pu=class extends Mr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Xs(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=Np(n);this._bootstrapComponents=Hg(o.bootstrap),this._r3Injector=wg(n,e,[{provide:Mr,useValue:this},{provide:pa,useValue:this.componentFactoryResolver},...r],Ie(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},gu=class extends ad{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new pu(this.moduleType,n,[])}};var ea=class extends Mr{injector;componentFactoryResolver=new Xs(this);instance=null;constructor(n){super();let e=new Mi([...n.providers,{provide:Mr,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],n.parent||Ru(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ui(t,n,e=null){return new ea({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var cE=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=Rp(!1,e.type),i=r.length>0?Ui([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:t,providedIn:"environment",factory:()=>new t(I(Se))})}return t})();function pt(t){return Ri(()=>{let n=Cm(t),e=k(y({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ag.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(cE).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ft.Emulated,styles:t.styles||Ue,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Vi("NgStandalone"),Em(e);let r=t.dependencies;return e.directiveDefs=op(r,!1),e.pipeDefs=op(r,!0),e.id=hE(e),e})}function lE(t){return bn(t)||jw(t)}function uE(t){return t!==null}function Lt(t){return Ri(()=>({type:t.type,bootstrap:t.bootstrap||Ue,declarations:t.declarations||Ue,imports:t.imports||Ue,exports:t.exports||Ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dE(t,n){if(t==null)return Dn;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=da.None,c=null),e[o]=[r,a,c],n[o]=s}return e}function fE(t){if(t==null)return Dn;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function he(t){return Ri(()=>{let n=Cm(t);return Em(n),n})}function bm(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Cm(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||Dn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ue,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dE(t.inputs,n),outputs:fE(t.outputs),debugInfo:null}}function Em(t){t.features?.forEach(n=>n(t))}function op(t,n){if(!t)return null;let e=n?Vw:lE;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(uE)}function hE(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function pE(t){return Object.getPrototypeOf(t.prototype).constructor}function jt(t){let n=pE(t.type),e=!0,r=[t];for(;n;){let i;if(ct(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new w(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=kl(t.inputs),s.declaredInputs=kl(t.declaredInputs),s.outputs=kl(t.outputs);let a=i.hostBindings;a&&_E(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&vE(t,c),l&&yE(t,l),gE(t,i),mw(t.outputs,i.outputs),ct(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===jt&&(e=!1)}}n=Object.getPrototypeOf(n)}mE(r)}function gE(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function mE(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=xi(i.hostAttrs,e=xi(e,i.hostAttrs))}}function kl(t){return t===Dn?{}:t===Ue?[]:t}function vE(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function yE(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function _E(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function Im(t){return DE(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function wE(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function DE(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function bE(t,n,e){return t[n]=e}function jr(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function CE(t,n,e,r,i,o,s,a,c){let l=n.consts,u=sd(n,t,4,s||null,a||null);Qp()&&vm(n,e,u,Hs(l,c),em),u.mergedAttrs=xi(u.mergedAttrs,u.attrs),lg(n,u);let d=u.tView=Ku(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function EE(t,n,e,r,i,o,s,a,c,l){let u=e+Xe,d=n.firstCreatePass?CE(u,n,t,r,i,o,s,a,c):n.data[u];Pi(d,!1);let p=IE(n,t,d,e);ju()&&rd(n,t,p,d),ji(p,t);let f=hm(p,t,p,d);return t[u]=f,Qu(t,f),sE(f,d,t),Ou(d)&&Ju(n,t,d),c!=null&&Jg(t,d,l),d}function Vt(t,n,e,r,i,o,s,a){let c=W(),l=Te(),u=Hs(l.consts,o);return EE(c,l,t,n,e,r,i,u,s,a),Vt}var IE=SE;function SE(t,n,e,r){return Vu(!0),n[ue].createComment("")}var Sm=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Mm=new b("");var ME=(()=>{class t{static \u0275prov=D({token:t,providedIn:"root",factory:()=>new mu})}return t})(),mu=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}};function Jt(t){return!!t&&typeof t.then=="function"}function cd(t){return!!t&&typeof t.subscribe=="function"}var Tm=new b("");function ld(t){return Au([{provide:Tm,multi:!0,useValue:t}])}var xm=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=m(Tm,{optional:!0})??[];injector=m(He);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=ze(this.injector,i);if(Jt(o))e.push(o);else if(cd(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ga=new b("");function TE(){sl(()=>{throw new w(600,!1)})}function xE(t){return t.isBoundToModule}var AE=10;var Mn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(KD);afterRenderManager=m(jg);zonelessEnabled=m(bg);rootEffectScheduler=m(ME);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ae;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(kr).hasPendingTasks.pipe(j(e=>!e));constructor(){m(Fr,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=m(Se);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=He.NULL){H(10);let o=e instanceof gm;if(!this._injector.get(xm).done){let f="";throw new w(405,f)}let a;o?a=e:a=this._injector.get(pa).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let c=xE(a)?void 0:this._injector.get(Mr),l=r||a.selector,u=a.create(i,[],l,c),d=u.location.nativeElement,p=u.injector.get(Mm,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),As(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),H(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){H(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Wu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let e=F(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(e),this.afterTick.next(),H(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ir,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<AE;)H(14),this.synchronizeOnce(),H(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)NE(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>ca(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;As(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ga,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>As(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new w(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function As(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function NE(t,n,e,r){if(!e&&!ca(t))return;lm(t,n,e&&!r?0:1)}function ma(t,n,e,r){let i=W(),o=la();if(jr(i,o,n)){let s=Te(),a=Lu();Hb(a,i,t,n,e,r)}return ma}function RE(t,n,e,r){return jr(t,la(),e)?n+Mu(e)+r:Nn}function Ss(t,n){return t<<17|n<<2}function Tn(t){return t>>17&32767}function OE(t){return(t&2)==2}function kE(t,n){return t&131071|n<<17}function vu(t){return t|2}function Tr(t){return(t&131068)>>2}function Pl(t,n){return t&-131069|n<<2}function PE(t){return(t&1)===1}function yu(t){return t|1}function FE(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Tn(s),c=Tr(s);t[r]=e;let l=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Oi(d,u)>0)&&(l=!0)}else u=e;if(i)if(c!==0){let p=Tn(t[a+1]);t[r+1]=Ss(p,a),p!==0&&(t[p+1]=Pl(t[p+1],r)),t[a+1]=kE(t[a+1],r)}else t[r+1]=Ss(a,0),a!==0&&(t[a+1]=Pl(t[a+1],r)),a=r;else t[r+1]=Ss(c,0),a===0?a=r:t[c+1]=Pl(t[c+1],r),c=r;l&&(t[r+1]=vu(t[r+1])),sp(t,u,r,!0),sp(t,u,r,!1),LE(n,u,t,r,o),s=Ss(a,c),o?n.classBindings=s:n.styleBindings=s}function LE(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Oi(o,n)>=0&&(e[r+1]=yu(e[r+1]))}function sp(t,n,e,r){let i=t[e+1],o=n===null,s=r?Tn(i):Tr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];jE(c,n)&&(a=!0,t[s+1]=r?yu(l):vu(l)),s=r?Tn(l):Tr(l)}a&&(t[e+1]=r?vu(i):yu(i))}function jE(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Oi(t,n)>=0:!1}function gt(t,n,e){let r=W(),i=la();if(jr(r,i,n)){let o=Te(),s=Lu();Xg(o,s,r,t,n,r[ue],e,!1)}return gt}function ap(t,n,e,r,i){Xu(n,t,e,i?"class":"style",r)}function Xt(t,n){return VE(t,n,null,!0),Xt}function VE(t,n,e,r){let i=W(),o=Te(),s=vD(2);if(o.firstUpdatePass&&$E(o,t,s,r),n!==Nn&&jr(i,s,n)){let a=o.data[Rr()];WE(o,a,i,i[ue],t,i[s+1]=GE(n,e),r,s)}}function UE(t,n){return n>=t.expandoStartIndex}function $E(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[Rr()],s=UE(t,e);ZE(o,r)&&n===null&&!s&&(n=!1),n=BE(i,o,n,r),FE(i,o,n,e,s,r)}}function BE(t,n,e,r){let i=DD(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=Fl(null,t,n,e,r),e=Ni(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=Fl(i,t,n,e,r),o===null){let c=HE(t,n,r);c!==void 0&&Array.isArray(c)&&(c=Fl(null,t,n,c[1],r),c=Ni(c,n.attrs,r),zE(t,n,r,c))}else o=qE(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function HE(t,n,e){let r=e?n.classBindings:n.styleBindings;if(Tr(r)!==0)return t[Tn(r)]}function zE(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[Tn(i)]=r}function qE(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ni(r,s,e)}return Ni(r,n.attrs,e)}function Fl(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=Ni(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function Ni(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Fw(t,s,e?!0:n[++o]))}return t===void 0?null:t}function WE(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let c=t.data,l=c[a+1],u=PE(l)?cp(c,n,e,i,Tr(l),s):void 0;if(!ta(u)){ta(o)||OE(l)&&(o=cp(c,null,e,i,a,s));let d=zp(Rr(),e);uC(r,s,d,i,o)}}function cp(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=e[i+1];p===Nn&&(p=d?Ue:void 0);let f=d?Sl(p,r):u===r?p:void 0;if(l&&!ta(f)&&(f=Sl(c,r)),ta(f)&&(a=f,s))return a;let g=t[i+1];i=s?Tn(g):Tr(g)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=Sl(c,r))}return a}function ta(t){return t!==void 0}function GE(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Ie(Bg(t)))),t}function ZE(t,n){return(t.flags&(n?8:16))!==0}function z(t,n,e,r){let i=W(),o=Te(),s=Xe+t,a=i[ue],c=o.firstCreatePass?_m(s,o,i,n,em,Qp(),e,r):o.data[s],l=KE(o,i,c,a,n,t);i[s]=l;let u=Ou(c);return Pi(c,!0),Gg(a,l,c),!tm(c)&&ju()&&rd(o,i,l,c),(cD()===0||u)&&ji(l,i),lD(),u&&(Ju(o,i,c),$g(o,c,i)),r!==null&&Jg(i,c),z}function K(){let t=Oe();Xp()?gD():(t=t.parent,Pi(t,!1));let n=t;fD(n)&&hD(),uD();let e=Te();return e.firstCreatePass&&wm(e,n),n.classesWithoutHost!=null&&MD(n)&&ap(e,n,W(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&TD(n)&&ap(e,n,W(),n.stylesWithoutHost,!1),K}function en(t,n,e,r){return z(t,n,e,r),K(),en}var KE=(t,n,e,r,i,o)=>(Vu(!0),qg(r,i,ED()));function va(){return W()}var na="en-US";var YE=na;function QE(t){typeof t=="string"&&(YE=t.toLowerCase().replace(/_/g,"-"))}function lp(t,n,e){return function r(i){if(i===Function)return e;let o=Ar(t)?ut(t.index,n):n;od(o,5);let s=n[Me],a=up(n,s,e,i),c=r.__ngNextListenerFn__;for(;c;)a=up(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function up(t,n,e,r){let i=F(null);try{return H(6,n,e),e(r)!==!1}catch(o){return JE(t,o),!1}finally{H(7,n,e),F(i)}}function JE(t,n){let e=t[Dr],r=e?e.get(dt,null):null;r&&r.handleError(n)}function dp(t,n,e,r,i,o){let s=n[e],a=n[V],l=a.data[e].outputs[r],u=s[l],d=a.firstCreatePass?Yp(a):null,p=Kp(n),f=u.subscribe(o),g=p.length;p.push(o,f),d&&d.push(i,t.index,g,-(g+1))}function ke(t,n,e,r){let i=W(),o=Te(),s=Oe();return Am(o,i,i[ue],s,t,n,r),ke}function XE(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[js],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Am(t,n,e,r,i,o,s){let a=Ou(r),l=t.firstCreatePass?Yp(t):null,u=Kp(n),d=!0;if(r.type&3||s){let p=ht(r,n),f=s?s(p):p,g=u.length,v=s?C=>s(lt(C[r.index])):r.index,_=null;if(!s&&a&&(_=XE(t,n,i,r.index)),_!==null){let C=_.__ngLastListenerFn__||_;C.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,d=!1}else{o=lp(r,n,o),pb(n,f,i,o);let C=e.listen(f,i,o);u.push(o,C),l&&l.push(i,v,g,g+1)}}else o=lp(r,n,o);if(d){let p=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let g=0;g<f.length;g+=2){let v=f[g],_=f[g+1];dp(r,n,v,_,i,o)}if(p&&p.length)for(let g of p)dp(r,n,g,i,i,o)}}function tt(t=1){return CD(t)}function pe(t,n=""){let e=W(),r=Te(),i=t+Xe,o=r.firstCreatePass?sd(r,i,1,n,null):r.data[i],s=e0(r,e,o,n,t);e[i]=s,ju()&&rd(r,e,s,o),Pi(o,!1)}var e0=(t,n,e,r,i)=>(Vu(!0),Mb(n[ue],r));function tn(t){return nn("",t,""),tn}function nn(t,n,e){let r=W(),i=RE(r,t,n,e);return i!==Nn&&t0(r,Rr(),i),nn}function t0(t,n,e){let r=zp(n,t);Tb(t[ue],r,e)}function Ut(t,n,e){Tg(n)&&(n=n());let r=W(),i=la();if(jr(r,i,n)){let o=Te(),s=Lu();Xg(o,s,r,t,n,r[ue],e,!1)}return Ut}function rn(t,n){let e=Tg(t);return e&&t.set(n),e}function $t(t,n){let e=W(),r=Te(),i=Oe();return Am(r,e,e[ue],i,t,n),$t}function n0(t,n,e){let r=Te();if(r.firstCreatePass){let i=ct(t);_u(e,r.data,r.blueprint,i,!0),_u(n,r.data,r.blueprint,i,!1)}}function _u(t,n,e,r,i){if(t=_e(t),Array.isArray(t))for(let o=0;o<t.length;o++)_u(t[o],n,e,r,i);else{let o=Te(),s=W(),a=Oe(),c=wr(t)?t:_e(t.provide),l=Pp(t),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(wr(t)||!t.multi){let f=new Sn(l,i,A),g=jl(c,n,i?u:u+p,d);g===-1?(Yl(Gs(a,s),o,c),Ll(o,t,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[g]=f,s[g]=f)}else{let f=jl(c,n,u+p,d),g=jl(c,n,u,u+p),v=f>=0&&e[f],_=g>=0&&e[g];if(i&&!_||!i&&!v){Yl(Gs(a,s),o,c);let C=o0(i?i0:r0,e.length,i,r,l);!i&&_&&(e[g].providerFactory=C),Ll(o,t,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(C),s.push(C)}else{let C=Nm(e[i?g:f],l,!i&&r);Ll(o,t,f>-1?f:g,C)}!i&&r&&_&&e[g].componentProviders++}}}function Ll(t,n,e,r){let i=wr(n),o=zw(n);if(i||o){let c=(o?_e(n.useClass):n).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=l.indexOf(e);u===-1?l.push(e,[r,c]):l[u+1].push(r,c)}else l.push(e,c)}}}function Nm(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function jl(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function r0(t,n,e,r,i){return wu(this.multi,[])}function i0(t,n,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Zs(r,r[V],this.providerFactory.index,i);s=c.slice(0,a),wu(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],wu(o,s);return s}function wu(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function o0(t,n,e,r,i){let o=new Sn(t,e,A);return o.multi=[],o.index=n,o.componentProviders=0,Nm(o,i,r&&!e),o}function $i(t,n=[]){return e=>{e.providersResolver=(r,i)=>n0(r,i?i(t):t,n)}}function Rm(t,n,e,r){return Om(W(),tg(),t,n,e,r)}function s0(t,n){let e=t[n];return e===Nn?void 0:e}function Om(t,n,e,r,i,o){let s=n+e;return jr(t,s,i)?bE(t,s+1,o?r.call(o,i):r(i)):s0(t,s+1)}function km(t,n){let e=Te(),r,i=t+Xe;e.firstCreatePass?(r=a0(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=wn(r.type,!0)),s,a=Ee(A);try{let c=Ws(!1),l=o();return Ws(c),iD(e,W(),i,l),l}finally{Ee(a)}}function a0(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function Pm(t,n,e){let r=t+Xe,i=W(),o=rD(i,r);return c0(i,r)?Om(i,tg(),n,o.transform,e,o):o.transform(e)}function c0(t,n){return t[V].data[n].pure}var Du=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Fm=(()=>{class t{compileModuleSync(e){return new gu(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Np(e),o=Hg(i.declarations).reduce((s,a)=>{let c=bn(a);return c&&s.push(new Sr(c)),s},[]);return new Du(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var l0=(()=>{class t{zone=m(oe);changeDetectionScheduler=m(Er);applicationRef=m(Mn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function u0({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new oe(k(y({},d0()),{scheduleInRootZone:e})),[{provide:oe,useFactory:t},{provide:Si,multi:!0,useFactory:()=>{let r=m(l0,{optional:!0});return()=>r.initialize()}},{provide:Si,multi:!0,useFactory:()=>{let r=m(f0);return()=>{r.initialize()}}},n===!0?{provide:Cg,useValue:!0}:[],{provide:Eg,useValue:e??Dg}]}function d0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var f0=(()=>{class t{subscription=new re;initialized=!1;zone=m(oe);pendingTasks=m(kr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var h0=(()=>{class t{appRef=m(Mn);taskService=m(kr);ngZone=m(oe);zonelessEnabled=m(bg);tracing=m(Fr,{optional:!0});disableScheduling=m(Cg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ys):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Eg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tu||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Hh:Ig;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ys+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function p0(){return typeof $localize<"u"&&$localize.locale||na}var ud=new b("",{providedIn:"root",factory:()=>m(ud,R.Optional|R.SkipSelf)||p0()});var bu=new b(""),g0=new b("");function bi(t){return!t.moduleRef}function m0(t){let n=bi(t)?t.r3Injector:t.moduleRef.injector,e=n.get(oe);return e.run(()=>{bi(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(dt,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),bi(t)){let o=()=>n.destroy(),s=t.platformInjector.get(bu);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(bu);s.add(o),t.moduleRef.onDestroy(()=>{As(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return y0(r,e,()=>{let o=n.get(xm);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(ud,na);if(QE(s||na),!n.get(g0,!0))return bi(t)?n.get(Mn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(bi(t)){let c=n.get(Mn);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return v0(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function v0(t,n){let e=t.injector.get(Mn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new w(-403,!1);n.push(t)}function y0(t,n,e){try{let r=e();return Jt(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var Ns=null;function _0(t=[],n){return He.create({name:n,providers:[{provide:sa,useValue:"platform"},{provide:bu,useValue:new Set([()=>Ns=null])},...t]})}function w0(t=[]){if(Ns)return Ns;let n=_0(t);return Ns=n,TE(),D0(n),n}function D0(t){let n=t.get(zu,null);ze(t,()=>{n?.forEach(e=>e())})}var on=(()=>{class t{static __NG_ELEMENT_ID__=b0}return t})();function b0(t){return C0(Oe(),W(),(t&16)===16)}function C0(t,n,e){if(Ar(t)&&!e){let r=ut(t.index,n);return new Ai(r,r)}else if(t.type&175){let r=n[at];return new Ai(r,n)}return null}var Cu=class{constructor(){}supports(n){return Im(n)}create(n){return new Eu(n)}},E0=(t,n)=>n,Eu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||E0}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<fp(r,i,o)?e:r,a=fp(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let p=0;p<l;p++){let f=p<o.length?o[p]:o[p]=0,g=f+p;u<=g&&g<l&&(o[p]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!Im(n))throw new w(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,wE(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new Iu(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new ra),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ra),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Iu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},Su=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},ra=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Su,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fp(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function hp(){return new dd([new Cu])}var dd=(()=>{class t{factories;static \u0275prov=D({token:t,providedIn:"root",factory:hp});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||hp()),deps:[[t,new kw,new Ow]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new w(901,!1)}}return t})();function Lm(t){let{rootComponent:n,appProviders:e,platformProviders:r,platformRef:i}=t;H(8);try{let o=i?.injector??w0(r),s=[u0({}),{provide:Er,useExisting:h0},...e||[]],a=new ea({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return m0({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{H(9)}}function Bi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function nt(t){return ll(t)}function Hi(t,n){return ol(t,n?.equal)}var pp=class{[je];constructor(n){this[je]=n}destroy(){this[je].destroy()}};function jm(t){let n=bn(t);if(!n)return null;let e=new Sr(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var ge=new b("");var $m=null;function qe(){return $m}function fd(t){$m??=t}var zi=class{},qi=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>m(Bm),providedIn:"platform"})}return t})(),hd=new b(""),Bm=(()=>{class t extends qi{_location;_history;_doc=m(ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qe().getBaseHref(this._doc)}onPopState(e){let r=qe().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=qe().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ya(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function Vm(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function rt(t){return t&&t[0]!=="?"?`?${t}`:t}var mt=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>m(wa),providedIn:"root"})}return t})(),_a=new b(""),wa=(()=>{class t extends mt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ya(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+rt(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+rt(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+rt(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(I(qi),I(_a,8))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sn=(()=>{class t{_subject=new ae;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=M0(Vm(Um(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+rt(r))}normalize(e){return t.stripTrailingSlash(S0(this._basePath,Um(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rt(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=rt;static joinWithSlash=ya;static stripTrailingSlash=Vm;static \u0275fac=function(r){return new(r||t)(I(mt))};static \u0275prov=D({token:t,factory:()=>I0(),providedIn:"root"})}return t})();function I0(){return new sn(I(mt))}function S0(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function Um(t){return t.replace(/\/index.html$/,"")}function M0(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Ca=(()=>{class t extends mt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=ya(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+rt(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+rt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(I(qi),I(_a,8))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();var pd=/\s+/,Hm=[],vd=(()=>{class t{_ngEl;_renderer;initialClasses=Hm;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(pd):Hm}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(pd):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(pd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(A(Qt),A(Rn))};static \u0275dir=he({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Da=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ea=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Da(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),zm(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);zm(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(A(Lr),A(ha),A(dd))};static \u0275dir=he({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function zm(t,n){t.context.$implicit=n.item}var On=(()=>{class t{_viewContainer;_context=new ba;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){qm(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){qm(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(A(Lr),A(ha))};static \u0275dir=he({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),ba=class{$implicit=null;ngIf=null};function qm(t,n){if(t&&!t.createEmbeddedView)throw new w(2020,!1)}function x0(t,n){return new w(2100,!1)}var gd=class{createSubscription(n,e){return nt(()=>n.subscribe({next:e,error:r=>{throw r}}))}dispose(n){nt(()=>n.unsubscribe())}},md=class{createSubscription(n,e){return n.then(r=>e?.(r),r=>{throw r}),{unsubscribe:()=>{e=null}}}dispose(n){n.unsubscribe()}},A0=new md,N0=new gd,yd=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Jt(e))return A0;if(cd(e))return N0;throw x0(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(A(on,16))};static \u0275pipe=bm({name:"async",type:t,pure:!1})}return t})();var vt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Lt({type:t});static \u0275inj=Rt({})}return t})();function _d(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var wd="browser",Wm="server";function Ia(t){return t===Wm}var Wi=class{};var Gm=(()=>{class t{static \u0275prov=D({token:t,providedIn:"root",factory:()=>new Dd(m(ge),window)})}return t})(),Dd=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=O0(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function O0(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Ta=new b(""),Sd=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(I(Ta),I(oe))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),Gi=class{_doc;constructor(n){this._doc=n}manager},Sa="ng-app-id";function Zm(t){for(let n of t)n.remove()}function Km(t,n){let e=n.createElement("style");return e.textContent=t,e}function k0(t,n,e,r){let i=t.head?.querySelectorAll(`style[${Sa}="${n}"],link[${Sa}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Sa),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Ed(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Md=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Ia(o),k0(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,Km);r?.forEach(i=>this.addUsage(i,this.external,Ed))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(Zm(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Zm(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,Km(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Ed(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Sa,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(I(ge),I(Hu),I(qu,8),I(Pr))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),Cd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Td=/%COMP%/g;var Qm="%COMP%",P0=`_nghost-${Qm}`,F0=`_ngcontent-${Qm}`,L0=!0,j0=new b("",{providedIn:"root",factory:()=>L0});function V0(t){return F0.replace(Td,t)}function U0(t){return P0.replace(Td,t)}function Jm(t,n){return n.map(e=>e.replace(Td,t))}var xd=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,c,l=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Ia(a),this.defaultRenderer=new Zi(e,s,c,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ft.ShadowDom&&(r=k(y({},r),{encapsulation:ft.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Ma?i.applyToHost(e):i instanceof Ki&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case ft.Emulated:o=new Ma(c,l,r,this.appId,u,s,a,d,p);break;case ft.ShadowDom:return new Id(c,l,e,r,s,a,this.nonce,d,p);default:o=new Ki(c,l,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(I(Sd),I(Md),I(Hu),I(j0),I(ge),I(Pr),I(oe),I(qu),I(Fr,8))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),Zi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Cd[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Ym(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Ym(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new w(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=Cd[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=Cd[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Nt.DashCase|Nt.Important)?n.style.setProperty(e,r,i&Nt.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Nt.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,i){if(typeof n=="string"&&(n=qe().getGlobalEventTarget(this.doc,n),!n))throw new w(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,i)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function Ym(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Id=class extends Zi{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,c,l){super(n,o,s,c,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Jm(i.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=Ed(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ki=class extends Zi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,c,l){super(n,o,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?Jm(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ma=class extends Ki{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(n,e,r,o,s,a,c,l,u),this.contentAttr=V0(u),this.hostAttr=U0(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var xa=class t extends zi{supportsDOMEvents=!0;static makeCurrent(){fd(new t)}onAndCancel(n,e,r,i){return n.addEventListener(e,r,i),()=>{n.removeEventListener(e,r,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=$0();return e==null?null:B0(e)}resetBaseElement(){Yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return _d(document.cookie,n)}},Yi=null;function $0(){return Yi=Yi||document.head.querySelector("base"),Yi?Yi.getAttribute("href"):null}function B0(t){return new URL(t,document.baseURI).pathname}var H0=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),ev=(()=>{class t extends Gi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(I(ge))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),Xm=["alt","control","meta","shift"],z0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q0={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},tv=(()=>{class t extends Gi{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qe().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Xm.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let i=z0[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Xm.forEach(s=>{if(s!==i){let a=q0[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(I(ge))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();function Ad(t,n,e){return Lm(y({rootComponent:t,platformRef:e?.platformRef},W0(n)))}function W0(t){return{appProviders:[...Q0,...t?.providers??[]],platformProviders:Y0}}function G0(){xa.makeCurrent()}function Z0(){return new dt}function K0(){return Pg(document),document}var Y0=[{provide:Pr,useValue:wd},{provide:zu,useValue:G0,multi:!0},{provide:ge,useFactory:K0}];var Q0=[{provide:sa,useValue:"root"},{provide:dt,useFactory:Z0},{provide:Ta,useClass:ev,multi:!0,deps:[ge]},{provide:Ta,useClass:tv,multi:!0,deps:[ge]},xd,Md,Sd,{provide:Ir,useExisting:xd},{provide:Wi,useClass:H0},[]];var Vr=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(I(ge))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var N="primary",lo=Symbol("RouteTitle"),Fd=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Fn(t){return new Fd(t)}function lv(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function J0(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!yt(t[e],n[e]))return!1;return!0}function yt(t,n){let e=t?Ld(t):void 0,r=n?Ld(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!uv(t[i],n[i]))return!1;return!0}function Ld(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function uv(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function dv(t){return t.length>0?t[t.length-1]:null}function un(t){return wl(t)?t:Jt(t)?Q(Promise.resolve(t)):S(t)}var X0={exact:hv,subset:pv},fv={exact:eI,subset:tI,ignored:()=>!0};function nv(t,n,e){return X0[e.paths](t.root,n.root,e.matrixParams)&&fv[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function eI(t,n){return yt(t,n)}function hv(t,n,e){if(!kn(t.segments,n.segments)||!Ra(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!hv(t.children[r],n.children[r],e))return!1;return!0}function tI(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>uv(t[e],n[e]))}function pv(t,n,e){return gv(t,n,n.segments,e)}function gv(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!kn(i,e)||n.hasChildren()||!Ra(i,e,r))}else if(t.segments.length===e.length){if(!kn(t.segments,e)||!Ra(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!pv(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!kn(t.segments,i)||!Ra(t.segments,i,r)||!t.children[N]?!1:gv(t.children[N],n,o,r)}}function Ra(t,n,e){return n.every((r,i)=>fv[e](t[i].parameters,r.parameters))}var wt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new $([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fn(this.queryParams),this._queryParamMap}toString(){return iI.serialize(this)}},$=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oa(this)}},an=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Fn(this.parameters),this._parameterMap}toString(){return vv(this)}};function nI(t,n){return kn(t,n)&&t.every((e,r)=>yt(e.parameters,n[r].parameters))}function kn(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function rI(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===N&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==N&&(e=e.concat(n(i,r)))}),e}var Ln=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>new cn,providedIn:"root"})}return t})(),cn=class{parse(n){let e=new Vd(n);return new wt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Qi(n.root,!0)}`,r=aI(n.queryParams),i=typeof n.fragment=="string"?`#${oI(n.fragment)}`:"";return`${e}${r}${i}`}},iI=new cn;function Oa(t){return t.segments.map(n=>vv(n)).join("/")}function Qi(t,n){if(!t.hasChildren())return Oa(t);if(n){let e=t.children[N]?Qi(t.children[N],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==N&&r.push(`${i}:${Qi(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=rI(t,(r,i)=>i===N?[Qi(t.children[N],!1)]:[`${i}:${Qi(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[N]!=null?`${Oa(t)}/${e[0]}`:`${Oa(t)}/(${e.join("//")})`}}function mv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Aa(t){return mv(t).replace(/%3B/gi,";")}function oI(t){return encodeURI(t)}function jd(t){return mv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ka(t){return decodeURIComponent(t)}function rv(t){return ka(t.replace(/\+/g,"%20"))}function vv(t){return`${jd(t.path)}${sI(t.parameters)}`}function sI(t){return Object.entries(t).map(([n,e])=>`;${jd(n)}=${jd(e)}`).join("")}function aI(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Aa(e)}=${Aa(i)}`).join("&"):`${Aa(e)}=${Aa(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var cI=/^[^\/()?;#]+/;function Rd(t){let n=t.match(cI);return n?n[0]:""}var lI=/^[^\/()?;=#]+/;function uI(t){let n=t.match(lI);return n?n[0]:""}var dI=/^[^=?&#]+/;function fI(t){let n=t.match(dI);return n?n[0]:""}var hI=/^[^&#]+/;function pI(t){let n=t.match(hI);return n?n[0]:""}var Vd=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[N]=new $(n,e)),r}parseSegment(){let n=Rd(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(n),new an(ka(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=uI(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Rd(this.remaining);i&&(r=i,this.capture(r))}n[ka(e)]=ka(r)}parseQueryParam(n){let e=fI(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=pI(this.remaining);s&&(r=s,this.capture(r))}let i=rv(e),o=rv(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Rd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=N);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[N]:new $([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new w(4011,!1)}};function yv(t){return t.segments.length>0?new $([],{[N]:t}):t}function _v(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=_v(i);if(r===N&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new $(t.segments,n);return gI(e)}function gI(t){if(t.numberOfChildren===1&&t.children[N]){let n=t.children[N];return new $(t.segments.concat(n.segments),n.children)}return t}function zr(t){return t instanceof wt}function wv(t,n,e=null,r=null){let i=Dv(t);return bv(i,n,e,r)}function Dv(t){let n;function e(o){let s={};for(let c of o.children){let l=e(c);s[c.outlet]=l}let a=new $(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=yv(r);return n??i}function bv(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return Od(i,i,i,e,r);let o=mI(n);if(o.toRoot())return Od(i,i,new $([],{}),e,r);let s=vI(o,i,t),a=s.processChildren?Xi(s.segmentGroup,s.index,o.commands):Ev(s.segmentGroup,s.index,o.commands);return Od(i,s.segmentGroup,a,e,r)}function Fa(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function to(t){return typeof t=="object"&&t!=null&&t.outlets}function Od(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===n?s=e:s=Cv(t,n,e);let a=yv(_v(s));return new wt(a,o,i)}function Cv(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=Cv(o,n,e)}),new $(t.segments,r)}var La=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Fa(r[0]))throw new w(4003,!1);let i=r.find(to);if(i&&i!==dv(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mI(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new La(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new La(e,n,r)}var Br=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function vI(t,n,e){if(t.isAbsolute)return new Br(n,!0,0);if(!e)return new Br(n,!1,NaN);if(e.parent===null)return new Br(e,!0,0);let r=Fa(t.commands[0])?0:1,i=e.segments.length-1+r;return yI(e,i,t.numberOfDoubleDots)}function yI(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new Br(r,!1,i-o)}function _I(t){return to(t[0])?t[0].outlets:{[N]:t}}function Ev(t,n,e){if(t??=new $([],{}),t.segments.length===0&&t.hasChildren())return Xi(t,n,e);let r=wI(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new $(t.segments.slice(0,r.pathIndex),{});return o.children[N]=new $(t.segments.slice(r.pathIndex),t.children),Xi(o,0,i)}else return r.match&&i.length===0?new $(t.segments,{}):r.match&&!t.hasChildren()?Ud(t,n,e):r.match?Xi(t,0,i):Ud(t,n,e)}function Xi(t,n,e){if(e.length===0)return new $(t.segments,{});{let r=_I(e),i={};if(Object.keys(r).some(o=>o!==N)&&t.children[N]&&t.numberOfChildren===1&&t.children[N].segments.length===0){let o=Xi(t.children[N],n,e);return new $(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Ev(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new $(t.segments,i)}}function wI(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(to(a))break;let c=`${a}`,l=r<e.length-1?e[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!ov(c,l,s))return o;r+=2}else{if(!ov(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ud(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(to(o)){let c=DI(o.outlets);return new $(r,c)}if(i===0&&Fa(e[0])){let c=t.segments[n];r.push(new an(c.path,iv(e[0]))),i++;continue}let s=to(o)?o.outlets[N]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Fa(a)?(r.push(new an(s,iv(a))),i+=2):(r.push(new an(s,{})),i++)}return new $(r,{})}function DI(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=Ud(new $([],{}),0,r))}),n}function iv(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function ov(t,n,e){return t==e.path&&yt(n,e.parameters)}var Pa="imperative",de=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(de||{}),Fe=class{id;url;constructor(n,e){this.id=n,this.url=e}},ln=class extends Fe{type=de.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ot=class extends Fe{urlAfterRedirects;type=de.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ae=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ae||{}),qr=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(qr||{}),_t=class extends Fe{reason;code;type=de.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dt=class extends Fe{reason;code;type=de.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},Wr=class extends Fe{error;target;type=de.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},no=class extends Fe{urlAfterRedirects;state;type=de.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ja=class extends Fe{urlAfterRedirects;state;type=de.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Va=class extends Fe{urlAfterRedirects;state;shouldActivate;type=de.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ua=class extends Fe{urlAfterRedirects;state;type=de.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$a=class extends Fe{urlAfterRedirects;state;type=de.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ba=class{route;type=de.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ha=class{route;type=de.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},za=class{snapshot;type=de.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qa=class{snapshot;type=de.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wa=class{snapshot;type=de.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ga=class{snapshot;type=de.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gr=class{routerEvent;position;anchor;type=de.Scroll;constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},ro=class{},Zr=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function bI(t,n){return t.providers&&!t._injector&&(t._injector=Ui(t.providers,n,`Route: ${t.path}`)),t._injector??n}function it(t){return t.outlet||N}function CI(t,n){let e=t.filter(r=>it(r)===n);return e.push(...t.filter(r=>it(r)!==n)),e}function uo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Za=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return uo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new jn(this.rootInjector)}},jn=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Za(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(I(Se))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ka=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=$d(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=$d(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Bd(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Bd(n,this._root).map(e=>e.value)}};function $d(t,n){if(t===n.value)return n;for(let e of n.children){let r=$d(t,e);if(r)return r}return null}function Bd(t,n){if(t===n.value)return[n];for(let e of n.children){let r=Bd(t,e);if(r.length)return r.unshift(n),r}return[]}var Pe=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function $r(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var io=class extends Ka{snapshot;constructor(n,e){super(n),this.snapshot=e,Yd(this,n)}toString(){return this.snapshot.toString()}};function Iv(t){let n=EI(t),e=new ce([new an("",{})]),r=new ce({}),i=new ce({}),o=new ce({}),s=new ce(""),a=new Bt(e,r,o,s,i,N,t,n.root);return a.snapshot=n.root,new io(new Pe(a,[]),n)}function EI(t){let n={},e={},r={},i="",o=new Pn([],n,r,i,e,N,t,null,{});return new oo("",new Pe(o,[]))}var Bt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[lo]))??S(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(n=>Fn(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(n=>Fn(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ya(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:y(y({},n.params),t.params),data:y(y({},n.data),t.data),resolve:y(y(y(y({},t.data),n.data),i?.data),t._resolvedData)}:r={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},i&&Mv(i)&&(r.resolve[lo]=i.title),r}var Pn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lo]}constructor(n,e,r,i,o,s,a,c,l){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fn(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},oo=class extends Ka{url;constructor(n,e){super(e),this.url=n,Yd(this,e)}toString(){return Sv(this._root)}};function Yd(t,n){n.value._routerState=t,n.children.forEach(e=>Yd(t,e))}function Sv(t){let n=t.children.length>0?` { ${t.children.map(Sv).join(", ")} } `:"";return`${t.value}${n}`}function kd(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,yt(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),yt(n.params,e.params)||t.paramsSubject.next(e.params),J0(n.url,e.url)||t.urlSubject.next(e.url),yt(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Hd(t,n){let e=yt(t.params,n.params)&&nI(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||Hd(t.parent,n.parent))}function Mv(t){return typeof t.title=="string"||t.title===null}var Tv=new b(""),fo=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=N;activateEvents=new le;deactivateEvents=new le;attachEvents=new le;detachEvents=new le;routerOutletData=Mg(void 0);parentContexts=m(jn);location=m(Lr);changeDetector=m(on);inputBinder=m(ho,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new zd(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=he({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[An]})}return t})(),zd=class{route;childContexts;parent;outletData;constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===Bt?this.route:n===jn?this.childContexts:n===Tv?this.outletData:this.parent.get(n,e)}},ho=new b(""),Qd=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=wi([r.queryParams,r.params,r.data]).pipe(Ve(([o,s,a],c)=>(a=y(y(y({},o),s),a),c===0?S(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=jm(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),Jd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=pt({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&en(0,"router-outlet")},dependencies:[fo],encapsulation:2})}return t})();function Xd(t){let n=t.children&&t.children.map(Xd),e=n?k(y({},t),{children:n}):y({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==N&&(e.component=Jd),e}function II(t,n,e){let r=so(t,n._root,e?e._root:void 0);return new io(r,n)}function so(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=SI(t,n,e);return new Pe(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>so(t,a)),s}}let r=MI(n.value),i=n.children.map(o=>so(t,o));return new Pe(r,i)}}function SI(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return so(t,r,i);return so(t,r)})}function MI(t){return new Bt(new ce(t.url),new ce(t.params),new ce(t.queryParams),new ce(t.fragment),new ce(t.data),t.outlet,t.component,t)}var Kr=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},xv="ngNavigationCancelingError";function Qa(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=zr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Av(!1,Ae.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Av(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[xv]=!0,e.cancellationCode=n,e}function TI(t){return Nv(t)&&zr(t.url)}function Nv(t){return!!t&&t[xv]}var xI=(t,n,e,r)=>j(i=>(new qd(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),qd=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),kd(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=$r(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=$r(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=$r(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=$r(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ga(o.value.snapshot))}),n.children.length&&this.forwardEvent(new qa(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(kd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kd(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Ja=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Hr=class{component;route;constructor(n,e){this.component=n,this.route=e}};function AI(t,n,e){let r=t._root,i=n?n._root:null;return Ji(r,i,e,[r.value])}function NI(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Qr(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!wp(t)?t:n.get(t):r}function Ji(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$r(n);return t.children.forEach(s=>{RI(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>eo(a,e.getContext(s),i)),i}function RI(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=OI(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ja(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ji(t,n,a?a.children:null,r,i):Ji(t,n,e,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hr(a.outlet.component,s))}else s&&eo(n,a,i),i.canActivateChecks.push(new Ja(r)),o.component?Ji(t,null,a?a.children:null,r,i):Ji(t,null,e,r,i);return i}function OI(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!kn(t.url,n.url);case"pathParamsOrQueryParamsChange":return!kn(t.url,n.url)||!yt(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hd(t,n)||!yt(t.queryParams,n.queryParams);case"paramsChange":default:return!Hd(t,n)}}function eo(t,n,e){let r=$r(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?eo(s,n.children.getContext(o),e):eo(s,null,e):eo(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Hr(n.outlet.component,i)):e.canDeactivateChecks.push(new Hr(null,i)):e.canDeactivateChecks.push(new Hr(null,i))}function po(t){return typeof t=="function"}function kI(t){return typeof t=="boolean"}function PI(t){return t&&po(t.canLoad)}function FI(t){return t&&po(t.canActivate)}function LI(t){return t&&po(t.canActivateChild)}function jI(t){return t&&po(t.canDeactivate)}function VI(t){return t&&po(t.canMatch)}function Rv(t){return t instanceof Mt||t?.name==="EmptyError"}var Na=Symbol("INITIAL_VALUE");function Yr(){return Ve(t=>wi(t.map(n=>n.pipe(xt(1),El(Na)))).pipe(j(n=>{for(let e of n)if(e!==!0){if(e===Na)return Na;if(e===!1||UI(e))return e}return!0}),Re(n=>n!==Na),xt(1)))}function UI(t){return zr(t)||t instanceof Kr}function $I(t,n){return ee(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?S(k(y({},e),{guardsResult:!0})):BI(s,r,i,t).pipe(ee(a=>a&&kI(a)?HI(r,o,t,n):S(a)),j(a=>k(y({},e),{guardsResult:a})))})}function BI(t,n,e,r){return Q(t).pipe(ee(i=>ZI(i.component,i.route,e,n,r)),At(i=>i!==!0,!0))}function HI(t,n,e,r){return Q(n).pipe(Wt(i=>fr(qI(i.route.parent,r),zI(i.route,r),GI(t,i.path,e),WI(t,i.route,e))),At(i=>i!==!0,!0))}function zI(t,n){return t!==null&&n&&n(new Wa(t)),S(!0)}function qI(t,n){return t!==null&&n&&n(new za(t)),S(!0)}function WI(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(o=>Cs(()=>{let s=uo(n)??e,a=Qr(o,s),c=FI(a)?a.canActivate(n,t):ze(s,()=>a(n,t));return un(c).pipe(At())}));return S(i).pipe(Yr())}function GI(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>NI(s)).filter(s=>s!==null).map(s=>Cs(()=>{let a=s.guards.map(c=>{let l=uo(s.node)??e,u=Qr(c,l),d=LI(u)?u.canActivateChild(r,t):ze(l,()=>u(r,t));return un(d).pipe(At())});return S(a).pipe(Yr())}));return S(o).pipe(Yr())}function ZI(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let s=o.map(a=>{let c=uo(n)??i,l=Qr(a,c),u=jI(l)?l.canDeactivate(t,n,e,r):ze(c,()=>l(t,n,e,r));return un(u).pipe(At())});return S(s).pipe(Yr())}function KI(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return S(!0);let o=i.map(s=>{let a=Qr(s,t),c=PI(a)?a.canLoad(n,e):ze(t,()=>a(n,e));return un(c)});return S(o).pipe(Yr(),Ov(r))}function Ov(t){return ml(me(n=>{if(typeof n!="boolean")throw Qa(t,n)}),j(n=>n===!0))}function YI(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return S(!0);let o=i.map(s=>{let a=Qr(s,t),c=VI(a)?a.canMatch(n,e):ze(t,()=>a(n,e));return un(c)});return S(o).pipe(Yr(),Ov(r))}var ao=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},co=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Ur(t){return ur(new ao(t))}function QI(t){return ur(new w(4e3,!1))}function JI(t){return ur(Av(!1,Ae.GuardRejected))}var Wd=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return S(r);if(i.numberOfChildren>1||!i.children[N])return QI(`${n.redirectTo}`);i=i.children[N]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,params:f,data:g,title:v}=i,_=ze(o,()=>a({params:f,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,title:v}));if(_ instanceof wt)throw new co(_);e=_}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new co(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new wt(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new $(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},Gd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XI(t,n,e,r,i){let o=kv(t,n,e);return o.matched?(r=bI(n,r),YI(r,n,e,i).pipe(j(s=>s===!0?o:y({},Gd)))):S(o)}function kv(t,n,e){if(n.path==="**")return eS(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?y({},Gd):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||lv)(e,t,n);if(!i)return y({},Gd);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function eS(t){return{matched:!0,parameters:t.length>0?dv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function sv(t,n,e,r){return e.length>0&&rS(t,e,r)?{segmentGroup:new $(n,nS(r,new $(e,t.children))),slicedSegments:[]}:e.length===0&&iS(t,e,r)?{segmentGroup:new $(t.segments,tS(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new $(t.segments,t.children),slicedSegments:e}}function tS(t,n,e,r){let i={};for(let o of e)if(ec(t,n,o)&&!r[it(o)]){let s=new $([],{});i[it(o)]=s}return y(y({},r),i)}function nS(t,n){let e={};e[N]=n;for(let r of t)if(r.path===""&&it(r)!==N){let i=new $([],{});e[it(r)]=i}return e}function rS(t,n,e){return e.some(r=>ec(t,n,r)&&it(r)!==N)}function iS(t,n,e){return e.some(r=>ec(t,n,r))}function ec(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function oS(t,n,e){return n.length===0&&!t.children[e]}var Zd=class{};function sS(t,n,e,r,i,o,s="emptyOnly"){return new Kd(t,n,e,r,i,s,o).recognize()}var aS=31,Kd=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wd(this.urlSerializer,this.urlTree)}noMatchError(n){return new w(4002,`'${n.segmentGroup}'`)}recognize(){let n=sv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(j(({children:e,rootSnapshot:r})=>{let i=new Pe(r,e),o=new oo("",i),s=wv(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new Pn([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),N,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,N,e).pipe(j(r=>({children:r,rootSnapshot:e})),Tt(r=>{if(r instanceof co)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ao?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(j(s=>s instanceof Pe?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Q(o).pipe(Wt(s=>{let a=r.children[s],c=CI(e,s);return this.processSegmentGroup(n,c,a,s,i)}),Cl((s,a)=>(s.push(...a),s)),Gt(null),bl(),ee(s=>{if(s===null)return Ur(r);let a=Pv(s);return cS(a),S(a)}))}processSegment(n,e,r,i,o,s,a){return Q(e).pipe(Wt(c=>this.processSegmentAgainstRoute(c._injector??n,e,c,r,i,o,s,a).pipe(Tt(l=>{if(l instanceof ao)return S(null);throw l}))),At(c=>!!c),Tt(c=>{if(Rv(c))return oS(r,i,o)?S(new Zd):Ur(r);throw c}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,c){return it(r)!==s&&(s===N||!ec(i,o,r))?Ur(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,c):Ur(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=kv(e,i,o);if(!c)return Ur(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aS&&(this.allowRedirects=!1));let f=new Pn(o,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,av(i),it(i),i.component??i._loadedComponent??null,i,cv(i)),g=Ya(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(i,v).pipe(ee(_=>this.processSegment(n,r,e,_.concat(p),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=XI(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Ve(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(Ve(({routes:l})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:p,remainingSegments:f}=c,g=new Pn(p,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,av(r),it(r),r.component??r._loadedComponent??null,r,cv(r)),v=Ya(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:C}=sv(e,p,f,l);if(C.length===0&&_.hasChildren())return this.processChildren(u,l,_,g).pipe(j(X=>new Pe(g,X)));if(l.length===0&&C.length===0)return S(new Pe(g,[]));let G=it(r)===o;return this.processSegment(u,l,_,C,G?N:o,!0,g).pipe(j(X=>new Pe(g,X instanceof Pe?[X]:[])))}))):Ur(e)))}getChildConfig(n,e,r){return e.children?S({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?S({routes:e._loadedRoutes,injector:e._loadedInjector}):KI(n,e,r,this.urlSerializer).pipe(ee(i=>i?this.configLoader.loadChildren(n,e).pipe(me(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):JI(e))):S({routes:[],injector:n})}};function cS(t){t.sort((n,e)=>n.value.outlet===N?-1:e.value.outlet===N?1:n.value.outlet.localeCompare(e.value.outlet))}function lS(t){let n=t.value.routeConfig;return n&&n.path===""}function Pv(t){let n=[],e=new Set;for(let r of t){if(!lS(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=Pv(r.children);n.push(new Pe(r.value,i))}return n.filter(r=>!e.has(r))}function av(t){return t.data||{}}function cv(t){return t.resolve||{}}function uS(t,n,e,r,i,o){return ee(s=>sS(t,n,e,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>k(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function dS(t,n){return ee(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return S(e);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Fv(c))s.add(l);let a=0;return Q(s).pipe(Wt(c=>o.has(c)?fS(c,r,t,n):(c.data=Ya(c,c.parent,t).resolve,S(void 0))),me(()=>a++),hr(1),ee(c=>a===s.size?S(e):be))})}function Fv(t){let n=t.children.map(e=>Fv(e)).flat();return[t,...n]}function fS(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Mv(i)&&(o[lo]=i.title),hS(o,t,n,r).pipe(j(s=>(t._resolvedData=s,t.data=Ya(t,t.parent,e).resolve,null)))}function hS(t,n,e,r){let i=Ld(t);if(i.length===0)return S({});let o={};return Q(i).pipe(ee(s=>pS(t[s],n,e,r).pipe(At(),me(a=>{if(a instanceof Kr)throw Qa(new cn,a);o[s]=a}))),hr(1),j(()=>o),Tt(s=>Rv(s)?be:ur(s)))}function pS(t,n,e,r){let i=uo(n)??r,o=Qr(t,i),s=o.resolve?o.resolve(n,e):ze(i,()=>o(n,e));return un(s)}function Pd(t){return Ve(n=>{let e=t(n);return e?Q(e).pipe(j(()=>n)):S(n)})}var ef=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===N);return r}getResolvedTitleForRoute(e){return e.data[lo]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>m(Lv),providedIn:"root"})}return t})(),Lv=(()=>{class t extends ef{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(I(Vr))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vn=new b("",{providedIn:"root",factory:()=>({})}),Un=new b(""),tc=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(Fm);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return S(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=un(e.loadComponent()).pipe(j(Vv),me(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Di(()=>{this.componentLoaders.delete(e)})),i=new lr(r,()=>new ae).pipe(cr());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return S({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=jv(r,this.compiler,e,this.onLoadEndListener).pipe(Di(()=>{this.childrenLoaders.delete(r)})),s=new lr(o,()=>new ae).pipe(cr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jv(t,n,e,r){return un(t.loadChildren()).pipe(j(Vv),ee(i=>i instanceof ad||Array.isArray(i)?S(i):Q(n.compileModuleAsync(i))),j(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Un,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xd),injector:o}}))}function gS(t){return t&&typeof t=="object"&&"default"in t}function Vv(t){return gS(t)?t.default:t}var nc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>m(mS),providedIn:"root"})}return t})(),mS=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tf=new b(""),nf=new b("");function Uv(t,n,e){let r=t.get(nf),i=t.get(ge);return t.get(oe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),vS(t))),{onViewTransitionCreated:c}=r;return c&&ze(t,()=>c({transition:a,from:n,to:e})),s})}function vS(t){return new Promise(n=>{Gu({read:()=>setTimeout(n)},{injector:t})})}var rf=new b(""),rc=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ae;transitionAbortSubject=new ae;configLoader=m(tc);environmentInjector=m(Se);destroyRef=m(Fi);urlSerializer=m(Ln);rootContexts=m(jn);location=m(sn);inputBindingEnabled=m(ho,{optional:!0})!==null;titleStrategy=m(ef);options=m(Vn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(nc);createViewTransition=m(tf,{optional:!0});navigationErrorHandler=m(rf,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Ba(i)),r=i=>this.events.next(new Ha(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(k(y({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new ce(null),this.transitions.pipe(Re(r=>r!==null),Ve(r=>{let i=!1,o=!1;return S(r).pipe(Ve(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ae.SupersededByNewNavigation),be;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?k(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Dt(s.id,this.urlSerializer.serialize(s.rawUrl),l,qr.IgnoredSameUrlNavigation)),s.resolve(!1),be}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return S(s).pipe(Ve(l=>(this.events.next(new ln(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?be:Promise.resolve(l))),uS(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),me(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=k(y({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new no(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:p,extras:f}=s,g=new ln(l,this.urlSerializer.serialize(u),d,p);this.events.next(g);let v=Iv(this.rootComponentType).snapshot;return this.currentTransition=r=k(y({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:k(y({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,S(r)}else{let l="";return this.events.next(new Dt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,qr.IgnoredByUrlHandlingStrategy)),s.resolve(!1),be}}),me(s=>{let a=new ja(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),j(s=>(this.currentTransition=r=k(y({},s),{guards:AI(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),$I(this.environmentInjector,s=>this.events.next(s)),me(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Qa(this.urlSerializer,s.guardsResult);let a=new Va(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Re(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ae.GuardRejected),!1)),Pd(s=>{if(s.guards.canActivateChecks.length!==0)return S(s).pipe(me(a=>{let c=new Ua(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Ve(a=>{let c=!1;return S(a).pipe(dS(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Ae.NoDataFromResolver)}}))}),me(a=>{let c=new $a(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Pd(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(me(u=>{c.component=u}),j(()=>{})));for(let u of c.children)l.push(...a(u));return l};return wi(a(s.targetSnapshot.root)).pipe(Gt(null),xt(1))}),Pd(()=>this.afterPreactivation()),Ve(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Q(c).pipe(j(()=>r)):S(r)}),j(s=>{let a=II(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=k(y({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),me(()=>{this.events.next(new ro)}),xI(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),xt(1),me({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ot(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Il(this.transitionAbortSubject.pipe(me(s=>{throw s}))),Di(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Ae.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tt(s=>{if(this.destroyed)return r.resolve(!1),be;if(o=!0,Nv(s))this.events.next(new _t(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),TI(s)?this.events.next(new Zr(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Wr(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=ze(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Kr){let{message:l,cancellationCode:u}=Qa(this.urlSerializer,c);this.events.next(new _t(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Zr(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return be}))}))}cancelNavigationTransition(e,r,i){let o=new _t(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yS(t){return t!==Pa}var $v=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>m(_S),providedIn:"root"})}return t})(),Xa=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},_S=(()=>{class t extends Xa{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Or(t)))(i||t)}})();static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bv=(()=>{class t{urlSerializer=m(Ln);options=m(Vn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(sn);urlHandlingStrategy=m(nc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof wt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=Iv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>m(wS),providedIn:"root"})}return t})(),wS=(()=>{class t extends Bv{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof ln?this.updateStateMemento():e instanceof Dt?this.commitTransition(r):e instanceof no?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof ro?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof _t&&(e.code===Ae.GuardRejected||e.code===Ae.NoDataFromResolver)?this.restoreHistory(r):e instanceof Wr?this.restoreHistory(r,!0):e instanceof ot&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,c=y(y({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",c)}else{let a=y(y({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Or(t)))(i||t)}})();static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ic(t,n){t.events.pipe(Re(e=>e instanceof ot||e instanceof _t||e instanceof Wr||e instanceof Dt),j(e=>e instanceof ot||e instanceof Dt?0:(e instanceof _t?e.code===Ae.Redirect||e.code===Ae.SupersededByNewNavigation:!1)?2:1),Re(e=>e!==2),xt(1)).subscribe(()=>{n()})}var DS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Le=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(Sm);stateManager=m(Bv);options=m(Vn,{optional:!0})||{};pendingTasks=m(kr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(rc);urlSerializer=m(Ln);location=m(sn);urlHandlingStrategy=m(nc);_events=new ae;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m($v);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(Un,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(ho,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new re;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _t&&r.code!==Ae.Redirect&&r.code!==Ae.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ot)this.navigated=!0;else if(r instanceof Zr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=y({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yS(i.source)},s);this.scheduleNavigation(a,Pa,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ES(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=y({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Xd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=Dv(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return bv(d,e,u,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=zr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Pa,null,r)}navigate(e,r={skipLocationChange:!1}){return CS(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=y({},DS):r===!1?i=y({},bS):i=r,zr(e))return nv(this.currentUrlTree,e,i);let o=this.parseUrl(e);return nv(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return ic(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function CS(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new w(4008,!1)}function ES(t){return!(t instanceof ro)&&!(t instanceof Zr)}var go=class{};var Hv=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Re(e=>e instanceof ot),Wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ui(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Q(i).pipe(dr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=S(null);let o=i.pipe(ee(s=>s===null?S(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Q([o,s]).pipe(dr())}else return o})}static \u0275fac=function(r){return new(r||t)(I(Le),I(Se),I(go),I(tc))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zv=new b(""),IS=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ln?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ot?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Dt&&e.code===qr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Gr&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gr(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){mm()};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();function sf(t,...n){return Au([{provide:Un,multi:!0,useValue:t},[],{provide:Bt,useFactory:qv,deps:[Le]},{provide:ga,multi:!0,useFactory:Wv},n.map(e=>e.\u0275providers)])}function qv(t){return t.routerState.root}function Jr(t,n){return{\u0275kind:t,\u0275providers:n}}function Wv(){let t=m(He);return n=>{let e=t.get(Mn);if(n!==e.components[0])return;let r=t.get(Le),i=t.get(Gv);t.get(af)===1&&r.initialNavigation(),t.get(Yv,null,R.Optional)?.setUpPreloading(),t.get(zv,null,R.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Gv=new b("",{factory:()=>new ae}),af=new b("",{providedIn:"root",factory:()=>1});function Zv(){let t=[{provide:af,useValue:0},ld(()=>{let n=m(He);return n.get(hd,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Le),o=n.get(Gv);ic(i,()=>{r(!0)}),n.get(rc).afterPreactivation=()=>(r(!0),o.closed?S(void 0):o),i.initialNavigation()}))})];return Jr(2,t)}function Kv(){let t=[ld(()=>{m(Le).setUpLocationChangeListener()}),{provide:af,useValue:2}];return Jr(3,t)}var Yv=new b("");function Qv(t){return Jr(0,[{provide:Yv,useExisting:Hv},{provide:go,useExisting:t}])}function cf(){return Jr(6,[{provide:mt,useClass:Ca}])}function Jv(){return Jr(8,[Qd,{provide:ho,useExisting:Qd}])}function Xv(t){Vi("NgRouterViewTransitions");let n=[{provide:tf,useValue:Uv},{provide:nf,useValue:y({skipNextTransition:!!t?.skipInitialTransition},t)}];return Jr(9,n)}var ey=[sn,{provide:Ln,useClass:cn},Le,jn,{provide:Bt,useFactory:qv,deps:[Le]},tc,[]],lf=(()=>{class t{constructor(){}static forRoot(e,r){return{ngModule:t,providers:[ey,[],{provide:Un,multi:!0,useValue:e},[],r?.errorHandler?{provide:rf,useValue:r.errorHandler}:[],{provide:Vn,useValue:r||{}},r?.useHash?MS():TS(),SS(),r?.preloadingStrategy?Qv(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xS(r):[],r?.bindToComponentInputs?Jv().\u0275providers:[],r?.enableViewTransitions?Xv().\u0275providers:[],AS()]}}static forChild(e){return{ngModule:t,providers:[{provide:Un,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Lt({type:t});static \u0275inj=Rt({})}return t})();function SS(){return{provide:zv,useFactory:()=>{let t=m(Gm),n=m(oe),e=m(Vn),r=m(rc),i=m(Ln);return e.scrollOffset&&t.setOffset(e.scrollOffset),new IS(i,r,t,n,e)}}}function MS(){return{provide:mt,useClass:Ca}}function TS(){return{provide:mt,useClass:wa}}function xS(t){return[t.initialNavigation==="disabled"?Kv().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Zv().\u0275providers:[]]}var of=new b("");function AS(){return[{provide:of,useFactory:Wv},{provide:ga,multi:!0,useExisting:of}]}var oc=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=pt({type:t,selectors:[["app-loading"]],decls:5,vars:0,consts:[[1,"loading-overlay"],[1,"loading-spinner"],[1,"spinner"]],template:function(e,r){e&1&&(z(0,"div",0)(1,"div",1),en(2,"div",2),z(3,"p"),pe(4,"Loading..."),K()()())},dependencies:[vt],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:9999}.loading-spinner[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000001a}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}p[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500}"]})};var bt=class t{loadingSubject=new ce(!1);loading$=this.loadingSubject.asObservable();loadingCount=0;show(){this.loadingCount++,this.loadingCount===1&&this.loadingSubject.next(!0)}hide(){this.loadingCount--,this.loadingCount<=0&&(this.loadingCount=0,this.loadingSubject.next(!1))}reset(){this.loadingCount=0,this.loadingSubject.next(!1)}get isLoading(){return this.loadingSubject.value}static \u0275fac=function(e){return new(e||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function RS(t,n){t&1&&en(0,"app-loading")}var ac=class t{constructor(n){this.loadingService=n}title="time-calculator-app";static \u0275fac=function(e){return new(e||t)(A(bt))};static \u0275cmp=pt({type:t,selectors:[["app-root"]],decls:3,vars:3,consts:[[4,"ngIf"]],template:function(e,r){e&1&&(Vt(0,RS,1,0,"app-loading",0),km(1,"async"),en(2,"router-outlet")),e&2&&gt("ngIf",Pm(1,1,r.loadingService.loading$))},dependencies:[lf,fo,vt,On,yd,oc],encapsulation:2})};var ty=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)};var mo=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},cc=class extends mo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},vo=class extends mo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},yo=class extends mo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},ff=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(ff||{});var OS=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})},_o=class{constructor(n,{headers:e={},customFetch:r,region:i=ff.Any}={}){this.url=n,this.headers=e,this.region=i,this.fetch=ty(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,e={}){var r;return OS(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:c}=e;c||(c=this.region);let l=new URL(`${this.url}/${n}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let d=yield this.fetch(l.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(v=>{throw new cc(v)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new vo(d);if(!d.ok)throw new yo(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof yo||i instanceof vo?i.context:void 0}}})}};var fy=k_(dy(),1),{PostgrestClient:hy,PostgrestQueryBuilder:cL,PostgrestFilterBuilder:lL,PostgrestTransformBuilder:uL,PostgrestBuilder:dL,PostgrestError:HS}=fy.default;var Ef=class{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let e=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(e+=`

Suggested solution: ${n.workaround}`),new Error(e)}static createWebSocket(n,e){let r=this.getWebSocketConstructor();return new r(n,e)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},If=Ef;var py="2.15.5";var gy=`realtime-js/${py}`,my="1.0.0";var So=1e4,vy=1e3,yy=100,Mo=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(Mo||{}),fe=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(fe||{}),We=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(We||{}),Sf=function(t){return t.websocket="websocket",t}(Sf||{}),$n=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}($n||{});var uc=class{constructor(){this.HEADER_LENGTH=1}decode(n,e){return n.constructor===ArrayBuffer?e(this._binaryDecode(n)):e(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let e=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,e,r)}_decodeBroadcast(n,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let c=r.decode(n.slice(s,s+o));s=s+o;let l=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var ei=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Y=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(Y||{}),Tf=(t,n,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=zS(s,t,n,i),o),{})},zS=(t,n,e,r)=>{let i=n.find(a=>a.name===t),o=i?.type,s=e[t];return o&&!r.includes(o)?_y(o,s):Mf(s)},_y=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return ZS(n,e)}switch(t){case Y.bool:return qS(n);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return WS(n);case Y.json:case Y.jsonb:return GS(n);case Y.timestamp:return KS(n);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Mf(n);default:return Mf(n)}},Mf=t=>t,qS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},WS=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},GS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},ZS=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>_y(n,a))}return t},KS=t=>typeof t=="string"?t.replace(" ","T"):t,dc=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};var ti=class{constructor(n,e,r={},i=So){this.channel=n,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var To=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,i){let o=this.cloneDeep(n),s=this.transformState(e),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let p=u.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),g=u.filter(_=>f.indexOf(_.presence_ref)<0),v=d.filter(_=>p.indexOf(_.presence_ref)<0);g.length>0&&(a[l]=g),v.length>0&&(c[l]=v)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(n,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=n[a])!==null&&l!==void 0?l:[];if(n[a]=this.cloneDeep(c),u.length>0){let d=n[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=n[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=l,i(a,l,c),l.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let i=n[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var xo=function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t}(xo||{}),Ht=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(Ht||{});var Ao=class t{constructor(n,e={config:{}},r){this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new ti(this,We.join,this.params,this.timeout),this.rejoinTimer=new ei(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new To(this),this.broadcastEndpointURL=dc(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,e=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[xo.PRESENCE]&&this.bindings[xo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>n?.(Ht.CHANNEL_ERROR,f)),this._onClose(()=>n?.(Ht.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",g=>h(this,[g],function*({postgres_changes:f}){var v;if(this.socket.setAuth(),f===void 0){n?.(Ht.SUBSCRIBED);return}else{let _=this.bindings.postgres_changes,C=(v=_?.length)!==null&&v!==void 0?v:0,G=[];for(let X=0;X<C;X++){let E=_[X],{filter:{event:Z,schema:tr,table:J,filter:ye}}=E,nr=f&&f[X];if(nr&&nr.event===Z&&nr.schema===tr&&nr.table===J&&nr.filter===ye)G.push(Object.assign(Object.assign({},E),{id:nr.id}));else{this.unsubscribe(),this.state=fe.errored,n?.(Ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,n&&n(Ht.SUBSCRIBED);return}})).receive("error",f=>{this.state=fe.errored,n?.(Ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{n?.(Ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(n,e={}){return yield this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,e,r){return this.state===fe.joined&&n===xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,e,r)}send(r){return h(this,arguments,function*(n,e={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=fe.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ti(this,We.leave,{},n),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fe.closed,this.bindings={}}_fetchWithTimeout(n,e,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ti(this,n,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>yy){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=We;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,e,r);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,v,_;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(v=f.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,v,_,C,G,X;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,Z=(g=f.filter)===null||g===void 0?void 0:g.event;return E&&((v=e.ids)===null||v===void 0?void 0:v.includes(E))&&(Z==="*"||Z?.toLocaleLowerCase()===((_=e.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{let E=(G=(C=f?.filter)===null||C===void 0?void 0:C.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return E==="*"||E===((X=e?.event)===null||X===void 0?void 0:X.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:v,table:_,commit_timestamp:C,type:G,errors:X}=g;p=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:C,eventType:G,new:{},old:{},errors:X}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let i=n.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,e))})),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(We.close,{},n)}_onError(n){this._on(We.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=Tf(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=Tf(n.columns,n.old_record)),e}};var xf=()=>{},fc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QS=[1e3,2e3,5e3,1e4],JS=1e4,XS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,No=class{constructor(n,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=So,this.transport=null,this.heartbeatIntervalMs=fc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xf,this.ref=0,this.reconnectTimer=null,this.logger=xf,this.conn=null,this.sendBuffer=[],this.serializer=new uc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...s)=>o(...s)},!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${n}/${Sf.websocket}`,this.httpEndpoint=dc(n),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=If.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let e=n.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:my}))}disconnect(n,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},n?this.conn.close(n,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){return h(this,null,function*(){let e=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return h(this,null,function*(){let n=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mo.connecting:return $n.Connecting;case Mo.open:return $n.Open;case Mo.closing:return $n.Closing;default:return $n.Closed}}isConnected(){return this.connectionState()===$n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,e={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ao(`realtime:${n}`,e,this);return this.channels.push(o),o}}push(n){let{topic:e,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return h(this,null,function*(){this._authPromise=this._performAuth(n);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return h(this,null,function*(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(vy,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},fc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=e,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(n){var e;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var e;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(We.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${n}${r}${i}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([XS],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(n,e=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(n=null){return h(this,null,function*(){let e;n?e=n:this.accessToken?e=yield this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let i={access_token:e,version:gy};e&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(We.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(n="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${n}`,e)})}_triggerStateCallbacks(n,e){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ei(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),fc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(n){var e,r,i,o,s,a,c,l,u;if(this.transport=(e=n?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:So,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:fc.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:xf,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=n?.reconnectAfterMs)!==null&&c!==void 0?c:d=>QS[d-1]||JS,this.encode=(l=n?.encode)!==null&&l!==void 0?l:(d,p)=>p(JSON.stringify(d)),this.decode=(u=n?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};var ni=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var hc=class extends ni{constructor(n,e,r){super(n),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Bn=class extends ni{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};var eM=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})},gc=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},wy=()=>eM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),pc=t=>{if(Array.isArray(t))return t.map(e=>pc(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=pc(r)}),n},Dy=t=>{if(typeof t!="object"||t===null)return!1;let n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Hn=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})},Af=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tM=(t,n,e)=>Hn(void 0,void 0,void 0,function*(){let r=yield wy();t instanceof r&&!e?.noResolveJson?t.json().then(i=>{let o=t.status||500,s=i?.statusCode||o+"";n(new hc(Af(i),o,s))}).catch(i=>{n(new Bn(Af(i),i))}):n(new Bn(Af(t),t))}),nM=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"||!r?i:(Dy(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),e))};function Ro(t,n,e,r,i,o){return Hn(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,nM(n,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>tM(c,a,r))})})}function ri(t,n,e,r){return Hn(this,void 0,void 0,function*(){return Ro(t,"GET",n,e,r)})}function Ge(t,n,e,r,i){return Hn(this,void 0,void 0,function*(){return Ro(t,"POST",n,r,i,e)})}function Oo(t,n,e,r,i){return Hn(this,void 0,void 0,function*(){return Ro(t,"PUT",n,r,i,e)})}function by(t,n,e,r){return Hn(this,void 0,void 0,function*(){return Ro(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function mc(t,n,e,r,i){return Hn(this,void 0,void 0,function*(){return Ro(t,"DELETE",n,r,i,e)})}var De=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})},rM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},vc=class{constructor(n,e={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=r,this.fetch=gc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,e,r,i){return De(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Cy),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=yield(n=="PUT"?Oo:Ge)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ne(o))return{data:null,error:o};throw o}})}upload(n,e,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,i){return De(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let c,l=Object.assign({upsert:Cy.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield Oo(this.fetch,a.toString(),c,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ne(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,e){return De(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Ge(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new ni("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}update(n,e,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return De(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}copy(n,e,r){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield Ge(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}createSignedUrl(n,e,r){return De(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Ge(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}createSignedUrls(n,e,r){return De(this,void 0,void 0,function*(){try{let i=yield Ge(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}download(n,e){return De(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield ri(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ne(a))return{data:null,error:a};throw a}})}info(n){return De(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield ri(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:pc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}exists(n){return De(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield by(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r)&&r instanceof Bn){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(n){return De(this,void 0,void 0,function*(){try{return{data:yield mc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}list(n,e,r){return De(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},rM),e),{prefix:n||""});return{data:yield Ge(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}listV2(n,e){return De(this,void 0,void 0,function*(){try{let r=Object.assign({},n);return{data:yield Ge(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};var Ey="2.12.1";var Iy={"X-Client-Info":`storage-js/${Ey}`};var ii=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})},yc=class{constructor(n,e={},r,i){this.shouldThrowOnError=!1;let o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Iy),e),this.fetch=gc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ii(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}getBucket(n){return ii(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}createBucket(n,e={public:!1}){return ii(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}updateBucket(n,e){return ii(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(n){return ii(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}deleteBucket(n){return ii(this,void 0,void 0,function*(){try{return{data:yield mc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}};var ko=class extends yc{constructor(n,e={},r,i){super(n,e,r,i)}from(n){return new vc(this.url,this.headers,n,this.fetch)}};var Sy="2.57.4";var Po="";typeof Deno<"u"?Po="deno":typeof document<"u"?Po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Po="react-native":Po="node";var iM={"X-Client-Info":`supabase-js-${Po}/${Sy}`},My={headers:iM},Ty={schema:"public"},xy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ay={};Qf();var oM=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})},sM=t=>{let n;return t?n=t:typeof fetch>"u"?n=Kf:n=fetch,(...e)=>n(...e)},aM=()=>typeof Headers>"u"?Yf:Headers,Ny=(t,n,e)=>{let r=sM(e),i=aM();return(o,s)=>oM(void 0,void 0,void 0,function*(){var a;let c=(a=yield n())!==null&&a!==void 0?a:t,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:l}))})};var cM=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})};function lM(t){return t.endsWith("/")?t:t+"/"}function Ry(t,n){var e,r;let{db:i,auth:o,realtime:s,global:a}=t,{db:c,auth:l,realtime:u,global:d}=n,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>cM(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Oy(t){let n=t?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lM(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _c="2.71.1";var zn=30*1e3,wc=3,Dc=wc*zn,ky="http://localhost:9999",Py="supabase.auth.token";var Fy={"X-Client-Info":`gotrue-js/${_c}`};var Fo="X-Supabase-Api-Version",Nf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ly=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jy=10*60*1e3;var Lo=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var bc=class extends Lo{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function Vy(t){return M(t)&&t.name==="AuthApiError"}var oi=class extends Lo{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},Ct=class extends Lo{constructor(n,e,r,i){super(n,r,i),this.name=e,this.status=r}},Ze=class extends Ct{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Uy(t){return M(t)&&t.name==="AuthSessionMissingError"}var qn=class extends Ct{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Wn=class extends Ct{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Gn=class extends Ct{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function $y(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}var jo=class extends Ct{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},si=class extends Ct{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};function Cc(t){return M(t)&&t.name==="AuthRetryableFetchError"}var Vo=class extends Ct{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var Zn=class extends Ct{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),By=` 	
\r=`.split(""),uM=(()=>{let t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<By.length;n+=1)t[By[n].charCodeAt(0)]=-2;for(let n=0;n<Ec.length;n+=1)t[Ec[n].charCodeAt(0)]=n;return t})();function Hy(t,n,e){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(Ec[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(Ec[r]),n.queuedBits-=6}}function zy(t,n,e){let r=uM[t];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)e(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Rf(t){let n=[],e=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{hM(s,r,e)};for(let s=0;s<t.length;s+=1)zy(t.charCodeAt(s),i,o);return n.join("")}function dM(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fM(t,n){for(let e=0;e<t.length;e+=1){let r=t.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(t.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}dM(r,n)}}function hM(t,n,e){if(n.utf8seq===0){if(t<=127){e(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&e(n.codepoint)}}function qy(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<t.length;i+=1)zy(t.charCodeAt(i),e,r);return new Uint8Array(n)}function Wy(t){let n=[];return fM(t,e=>n.push(e)),new Uint8Array(n)}function Gy(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};return t.forEach(i=>Hy(i,e,r)),Hy(null,e,r),n.join("")}function Zy(t){return Math.round(Date.now()/1e3)+t}function Ky(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}var Ke=()=>typeof window<"u"&&typeof document<"u",Kn={tested:!1,writable:!1},Ic=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kn.tested)return Kn.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kn.tested=!0,Kn.writable=!0}catch{Kn.tested=!0,Kn.writable=!1}return Kn.writable};function Yy(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{n[i]=r}),n}var Sc=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},Qy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yn=(t,n,e)=>h(null,null,function*(){yield t.setItem(n,JSON.stringify(e))}),dn=(t,n)=>h(null,null,function*(){let e=yield t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),zt=(t,n)=>h(null,null,function*(){yield t.removeItem(n)}),Uo=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};Uo.promiseConstructor=Promise;function Mc(t){let n=t.split(".");if(n.length!==3)throw new Zn("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Ly.test(n[r]))throw new Zn("JWT not in base64url format");return{header:JSON.parse(Rf(n[0])),payload:JSON.parse(Rf(n[1])),signature:qy(n[2]),raw:{header:n[0],payload:n[1]}}}function Jy(t){return h(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),t)})})}function Xy(t,n){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function pM(t){return("0"+t.toString(16)).substr(-2)}function gM(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,pM).join("")}function mM(t){return h(this,null,function*(){let e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function vM(t){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=yield mM(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Qn(t,n,e=!1){return h(this,null,function*(){let r=gM(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield Yn(t,`${n}-code-verifier`,i);let o=yield vM(r);return[o,r===o?"plain":"s256"]})}var yM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function e_(t){let n=t.headers.get(Fo);if(!n||!n.match(yM))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function t_(t){if(!t)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function n_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var _M=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jn(t){if(!_M.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tc(){let t={};return new Proxy(t,{get:(n,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Of(t){return JSON.parse(JSON.stringify(t))}var wM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},Xn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DM=[502,503,504];function r_(t){return h(this,null,function*(){var n;if(!Qy(t))throw new si(Xn(t),0);if(DM.includes(t.status))throw new si(Xn(t),t.status);let e;try{e=yield t.json()}catch(o){throw new oi(Xn(o),o)}let r,i=e_(t);if(i&&i.getTime()>=Nf["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Vo(Xn(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Ze}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Vo(Xn(e),t.status,e.weak_password.reasons);throw new bc(Xn(e),t.status||500,r)})}var bM=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function O(t,n,e,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Fo]||(o[Fo]=Nf["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield CM(t,n,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function CM(t,n,e,r,i,o){return h(this,null,function*(){let s=bM(n,r,i,o),a;try{a=yield t(e,Object.assign({},s))}catch(c){throw console.error(c),new si(Xn(c),0)}if(a.ok||(yield r_(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield r_(c)}})}function Et(t){var n;let e=null;EM(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=Zy(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function kf(t){let n=Et(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function It(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function i_(t){return{data:t,error:null}}function o_(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=t,s=wM(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function s_(t){return t}function EM(t){return t.access_token&&t.refresh_token&&t.expires_in}var xc=["global","local","others"];var IM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},ai=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=Sc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return h(this,arguments,function*(n,e=xc[0]){if(xc.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xc.join(", ")}`);try{return yield O(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(M(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(n,e={}){try{return yield O(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:It})}catch(i){if(M(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return h(this,null,function*(){try{let{options:e}=n,r=IM(n,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:o_,redirectTo:e?.redirectTo})}catch(e){if(M(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(n){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:It})}catch(e){if(M(e))return{data:{user:null},error:e};throw e}})}listUsers(n){return h(this,null,function*(){var e,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:s_});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);l[`${_}Page`]=v}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(M(l))return{data:{users:[]},error:l};throw l}})}getUserById(n){return h(this,null,function*(){Jn(n);try{return yield O(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:It})}catch(e){if(M(e))return{data:{user:null},error:e};throw e}})}updateUserById(n,e){return h(this,null,function*(){Jn(n);try{return yield O(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:It})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,e=!1){return h(this,null,function*(){Jn(n);try{return yield O(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:It})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return h(this,null,function*(){Jn(n.userId);try{let{data:e,error:r}=yield O(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(M(e))return{data:null,error:e};throw e}})}_deleteFactor(n){return h(this,null,function*(){Jn(n.userId),Jn(n.id);try{return{data:yield O(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if(M(e))return{data:null,error:e};throw e}})}};function Pf(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}function a_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var er={debug:!!(globalThis&&Ic()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},$o=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Ac=class extends $o{};function Ff(t,n,e){return h(this,null,function*(){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield e()}finally{er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ac(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(er.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}a_();var SM={url:ky,storageKey:Py,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function c_(t,n,e){return h(this,null,function*(){return yield e()})}var ci={},Lf=(()=>{class t{constructor(e){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},SM),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ai({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Sc(o.fetch),this.lock=o.lock||c_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ke()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ff:this.lock=c_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ic()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Pf(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var e,r;return(r=(e=ci[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ci[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_c}) ${new Date().toISOString()}`,...e),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var e;try{let r=Yy(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Ke()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$y(s)){let l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new oi("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return h(this,null,function*(){var r,i,o;try{let s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Et}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return h(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:p,options:f}=e,g=null,v=null;this.flowType==="pkce"&&([g,v]=yield Qn(this.storage,this.storageKey)),s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:v},xform:Et})}else if("phone"in e){let{phone:d,password:p,options:f}=e;s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Et})}else throw new Wn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return h(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:c}=e;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:kf})}else if("phone"in e){let{phone:s,password:a,options:c}=e;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:kf})}else throw new Wn("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new qn}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return h(this,null,function*(){let{chain:r}=e;if(r==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(e){return h(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,f,g;let v,_;if("message"in e)v=e.message,_=e.signature;else{let{chain:C,wallet:G,statement:X,options:E}=e,Z;if(Ke())if(typeof G=="object")Z=G;else{let J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))Z=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=G}let tr=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){let J=yield Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:tr.host,uri:tr.href}),X?{statement:X}:null)),ye;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")ye=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)ye=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ye&&"signature"in ye&&(typeof ye.signedMessage=="string"||ye.signedMessage instanceof Uint8Array)&&ye.signature instanceof Uint8Array)v=typeof ye.signedMessage=="string"?ye.signedMessage:new TextDecoder().decode(ye.signedMessage),_=ye.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${tr.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...X?["",X,""]:[""],"Version: 1",`URI: ${tr.href}`,`Issued At: ${(o=(i=E?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(ye=>`- ${ye}`)]:[]].join(`
`);let J=yield Z.signMessage(new TextEncoder().encode(v),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=J}}try{let{data:C,error:G}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Gy(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Et});if(G)throw G;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new qn}:(C.session&&(yield this._saveSession(C.session),yield this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:G})}catch(C){if(M(C))return{data:{user:null,session:null},error:C};throw C}})}_exchangeCodeForSession(e){return h(this,null,function*(){let r=yield dn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Et});if(yield zt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new qn}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(M(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,c=yield O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Et}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new qn}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:c,options:l}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Qn(this.storage,this.storageKey));let{error:p}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){let{phone:c,options:l}=e,{data:u,error:d}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Wn("You must provide either an email or phone number.")}catch(c){if(M(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(e){return h(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Et});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return h(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Qn(this.storage,this.storageKey)),yield O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:i_})}catch(s){if(M(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Ze;let{error:o}=yield O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:c}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Wn("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(e,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<Dc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let a=yield dn(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Tc()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return h(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return h(this,null,function*(){try{return e?yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:It}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ze}:yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:It})}))}catch(r){if(M(r))return Uy(r)&&(yield this._removeSession(),yield zt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return h(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return h(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Ze;let c=s.session,l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=yield Qn(this.storage,this.storageKey));let{data:d,error:p}=yield O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:It});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(M(o))return{data:{user:null},error:o};throw o}})}setSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return h(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new Ze;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Mc(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:c,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!e){let{data:a,error:c}=r;if(c)throw c;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Ze;let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return h(this,null,function*(){try{if(!Ke())throw new Gn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jo("No code detected.");let{data:X,error:E}=yield this._exchangeCodeForSession(e.code);if(E)throw E;let Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:X.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=e;if(!s||!c||!a||!u)throw new Gn("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let g=f-d;g*1e3<=zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let v=f-p;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);let{data:_,error:C}=yield this._getUser(s);if(C)throw C;let G={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:G,redirectType:e.type},error:null}}catch(i){if(M(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return h(this,null,function*(){let r=yield dn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return h(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return h(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,e);if(c&&!(Vy(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(yield this._removeSession(),yield zt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=Ky(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Qn(this.storage,this.storageKey,!0));try{return yield O(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(M(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}})}linkIdentity(e){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield O(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Ke()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(M(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield O(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return h(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Xy(o=>h(this,null,function*(){return o>0&&(yield Jy(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Et})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Cc(s)&&Date.now()+a-i<zn})}catch(i){if(this._debug(r,"error",i),M(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Ke()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var e,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield dn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Yn(this.userStorage,this.storageKey+"-user",a)),o.user=(e=a?.user)!==null&&e!==void 0?e:Tc()}else if(o&&!o.user&&!o.user){let a=yield dn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield zt(this.storage,this.storageKey+"-user"),yield Yn(this.storage,this.storageKey,o)):o.user=Tc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Dc;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Dc}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Cc(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return h(this,null,function*(){var r,i;if(!e)throw new Ze;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Uo;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ze;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),M(s)){let a={session:null,error:s};return Cc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(e,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return h(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Yn(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Of(o);yield Yn(this.storage,this.storageKey,s)}else{let o=Of(r);yield Yn(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield zt(this.storage,this.storageKey),yield zt(this.storage,this.storageKey+"-code-verifier"),yield zt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield zt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),zn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${zn}ms, refresh threshold is ${wc} ticks`),o<=wc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof $o)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return h(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Qn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield O(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_enroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=yield O(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_verify(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(M(r))return{data:null,error:r};throw r}}))})}_challenge(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(M(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(e=>h(this,null,function*(){var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Mc(o.access_token),c=null;a.aal&&(c=a.aal);let l=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(i){return h(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(l=>l.kid===e);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(l=>l.kid===e),o&&this.jwks_cached_at+jy>s)return o;let{data:a,error:c}=yield O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(l=>l.kid===e),!o)?null:o})}getClaims(i){return h(this,arguments,function*(e,r={}){try{let o=e;if(!o){let{data:v,error:_}=yield this.getSession();if(_||!v.session)return{data:null,error:_};o=v.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Mc(o);r?.allowExpired||t_(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:v}=yield this.getUser(o);if(v)throw v;return{data:{claims:a,header:s,signature:c},error:null}}let p=n_(s.alg),f=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,f,c,Wy(`${l}.${u}`))))throw new Zn("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(o){if(M(o))return{data:null,error:o};throw o}})}}return t.nextInstanceID=0,t})();var MM=Lf,jf=MM;var Nc=class extends jf{constructor(n){super(n)}};var TM=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})},Rc=class{constructor(n,e,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=e;let a=Oy(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:Ty,realtime:Ay,auth:Object.assign(Object.assign({},xy),{storageKey:c}),global:My},u=Ry(r??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Ny(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new hy(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new ko(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new _o(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,e;return TM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:c,debug:l},u,d){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nc({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new No(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Oc=(t,n,e)=>new Rc(t,n,e);function xM(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}xM()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var AM="https://qdzklqbqqjrxcoqxkiky.supabase.co",NM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkemtscWJxcWpyeGNvcXhraWt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MjU4NDMsImV4cCI6MjA3NDEwMTg0M30.C9ozRZSa06i8ie6AfVRSFoNucWbNTRsjh-_qZ4zHk6g",fn=Oc(AM,NM);var v_=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(A(Rn),A(Qt))};static \u0275dir=he({type:t})}return t})(),RM=(()=>{class t extends v_{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Or(t)))(i||t)}})();static \u0275dir=he({type:t,features:[jt]})}return t})(),y_=new b("");var OM={provide:y_,useExisting:xn(()=>fi),multi:!0};function kM(){let t=qe()?qe().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var PM=new b(""),fi=(()=>{class t extends v_{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!kM())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(A(Rn),A(Qt),A(PM,8))};static \u0275dir=he({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ke("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[$i([OM]),jt]})}return t})();function FM(t){return t==null||LM(t)===0}function LM(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Bf=new b(""),__=new b("");function jM(t){return FM(t.value)?{required:!0}:null}function l_(t){return null}function w_(t){return t!=null}function D_(t){return Jt(t)?Q(t):t}function b_(t){let n={};return t.forEach(e=>{n=e!=null?y(y({},n),e):n}),Object.keys(n).length===0?null:n}function C_(t,n){return n.map(e=>e(t))}function VM(t){return!t.validate}function E_(t){return t.map(n=>VM(n)?n:e=>n.validate(e))}function UM(t){if(!t)return null;let n=t.filter(w_);return n.length==0?null:function(e){return b_(C_(e,n))}}function Hf(t){return t!=null?UM(E_(t)):null}function $M(t){if(!t)return null;let n=t.filter(w_);return n.length==0?null:function(e){let r=C_(e,n).map(D_);return Dl(r).pipe(j(b_))}}function zf(t){return t!=null?$M(E_(t)):null}function u_(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function BM(t){return t._rawValidators}function HM(t){return t._rawAsyncValidators}function Vf(t){return t?Array.isArray(t)?t:[t]:[]}function Pc(t,n){return Array.isArray(t)?t.includes(n):t===n}function d_(t,n){let e=Vf(n);return Vf(t).forEach(i=>{Pc(e,i)||e.push(i)}),e}function f_(t,n){return Vf(n).filter(e=>!Pc(t,e))}var Fc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Hf(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=zf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},di=class extends Fc{name;get formDirective(){return null}get path(){return null}},Go=class extends Fc{_parent=null;name=null;valueAccessor=null},Lc=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eU=k(y({},zM),{"[class.ng-submitted]":"isSubmitted"}),$c=(()=>{class t extends Lc{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(A(Go,2))};static \u0275dir=he({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Xt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[jt]})}return t})(),I_=(()=>{class t extends Lc{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(A(di,10))};static \u0275dir=he({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Xt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[jt]})}return t})();var Bo="VALID",kc="INVALID",li="PENDING",Ho="DISABLED",hn=class{},jc=class extends hn{value;source;constructor(n,e){super(),this.value=n,this.source=e}},qo=class extends hn{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},Wo=class extends hn{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},ui=class extends hn{status;source;constructor(n,e){super(),this.status=n,this.source=e}},Uf=class extends hn{source;constructor(n){super(),this.source=n}},$f=class extends hn{source;constructor(n){super(),this.source=n}};function S_(t){return(Bc(t)?t.validators:t)||null}function qM(t){return Array.isArray(t)?Hf(t):t||null}function M_(t,n){return(Bc(n)?n.asyncValidators:t)||null}function WM(t){return Array.isArray(t)?zf(t):t||null}function Bc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function GM(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new w(1e3,"");if(!r[e])throw new w(1001,"")}function ZM(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new w(1002,"")})}var Vc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return nt(this.statusReactive)}set status(n){nt(()=>this.statusReactive.set(n))}_status=Hi(()=>this.statusReactive());statusReactive=Li(void 0);get valid(){return this.status===Bo}get invalid(){return this.status===kc}get pending(){return this.status==li}get disabled(){return this.status===Ho}get enabled(){return this.status!==Ho}errors;get pristine(){return nt(this.pristineReactive)}set pristine(n){nt(()=>this.pristineReactive.set(n))}_pristine=Hi(()=>this.pristineReactive());pristineReactive=Li(!0);get dirty(){return!this.pristine}get touched(){return nt(this.touchedReactive)}set touched(n){nt(()=>this.touchedReactive.set(n))}_touched=Hi(()=>this.touchedReactive());touchedReactive=Li(!1);get untouched(){return!this.touched}_events=new ae;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(d_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(d_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(f_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(f_(n,this._rawAsyncValidators))}hasValidator(n){return Pc(this._rawValidators,n)}hasAsyncValidator(n){return Pc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(k(y({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Wo(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new Wo(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(k(y({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new qo(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new qo(!0,r))}markAsPending(n={}){this.status=li;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ui(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(k(y({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ho,this.errors=null,this._forEachChild(i=>{i.disable(k(y({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new jc(this.value,r)),this._events.next(new ui(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(y({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Bo,this._forEachChild(r=>{r.enable(k(y({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(k(y({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bo||this.status===li)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new jc(this.value,e)),this._events.next(new ui(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(k(y({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ho:Bo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=li,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=D_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new ui(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?Ho:this.errors?kc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(li)?li:this._anyControlsHaveStatus(kc)?kc:Bo}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new qo(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Wo(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Bc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=qM(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=WM(this._rawAsyncValidators)}},Uc=class extends Vc{constructor(n,e,r){super(S_(e),M_(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){ZM(this,!0,n),Object.keys(n).forEach(r=>{GM(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var qf=new b("",{providedIn:"root",factory:()=>Wf}),Wf="always";function KM(t,n){return[...n.path,t]}function T_(t,n,e=Wf){x_(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),QM(t,n),XM(t,n),JM(t,n),YM(t,n)}function h_(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function YM(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function x_(t,n){let e=BM(t);n.validator!==null?t.setValidators(u_(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=HM(t);n.asyncValidator!==null?t.setAsyncValidators(u_(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();h_(n._rawValidators,i),h_(n._rawAsyncValidators,i)}function QM(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&A_(t,n)})}function JM(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&A_(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function A_(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function XM(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function eT(t,n){t==null,x_(t,n)}function tT(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function nT(t){return Object.getPrototypeOf(t.constructor)===RM}function rT(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function iT(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===fi?e=o:nT(o)?r=o:i=o}),i||r||e||null}var oT={provide:di,useExisting:xn(()=>Gf)},zo=Promise.resolve(),Gf=(()=>{class t extends di{callSetDisabledState;get submitted(){return nt(this.submittedReactive)}_submitted=Hi(()=>this.submittedReactive());submittedReactive=Li(!1);_directives=new Set;form;ngSubmit=new le;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new Uc({},Hf(e),zf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zo.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),T_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zo.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){zo.then(()=>{let r=this._findContainer(e.path),i=new Uc({});eT(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zo.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){zo.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),rT(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Uf(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new $f(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(A(Bf,10),A(__,10),A(qf,8))};static \u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ke("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$i([oT]),jt]})}return t})();function p_(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function g_(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sT=class extends Vc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(S_(e),M_(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(g_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){p_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){p_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){g_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var aT={provide:Go,useExisting:xn(()=>Zo)},m_=Promise.resolve(),Zo=(()=>{class t extends Go{_changeDetectorRef;callSetDisabledState;control=new sT;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new le;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=iT(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),tT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){T_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){m_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&Bi(r);m_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?KM(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(A(di,9),A(Bf,10),A(__,10),A(y_,10),A(on,8),A(qf,8))};static \u0275dir=he({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[$i([aT]),jt,An]})}return t})();var N_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var cT=(()=>{class t{_validator=l_;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):l_,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=he({type:t,features:[An]})}return t})();var lT={provide:Bf,useExisting:xn(()=>Zf),multi:!0};var Zf=(()=>{class t extends cT{required;inputName="required";normalizeInput=Bi;createValidator=e=>jM;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Or(t)))(i||t)}})();static \u0275dir=he({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ma("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[$i([lT]),jt]})}return t})();var uT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Lt({type:t});static \u0275inj=Rt({})}return t})();var Hc=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:qf,useValue:e.callSetDisabledState??Wf}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Lt({type:t});static \u0275inj=Rt({imports:[uT]})}return t})();var dT=t=>({highlight:t});function fT(t,n){if(t&1&&(z(0,"div",7),pe(1),K()),t&2){let e=tt();Xt("error",e.message.includes("Error")),te(),nn(" ",e.message," ")}}function hT(t,n){if(t&1){let e=va();z(0,"div",8)(1,"span",9),pe(2),K(),z(3,"div",10)(4,"input",11),$t("ngModelChange",function(i){let o=Pt(e).$implicit;return rn(o.check_in,i)||(o.check_in=i),Ft(i)}),ke("change",function(){let i=Pt(e).$implicit,o=tt();return Ft(o.onTimeChange(i))}),K(),z(5,"input",11),$t("ngModelChange",function(i){let o=Pt(e).$implicit;return rn(o.check_out,i)||(o.check_out=i),Ft(i)}),ke("change",function(){let i=Pt(e).$implicit,o=tt();return Ft(o.onTimeChange(i))}),K()(),z(6,"span",12),pe(7),K(),z(8,"button",13),ke("click",function(){let i=Pt(e).$implicit,o=tt();return Ft(o.clearEntry(i))}),pe(9,"Clear"),K()()}if(t&2){let e=n.$implicit,r=n.index,i=tt();gt("ngClass",Rm(5,dT,r===i.currentDayIndex)),te(2),tn(e.day),te(2),Ut("ngModel",e.check_in),te(),Ut("ngModel",e.check_out),te(2),nn("",e.total_minutes," mins")}}var zc=class t{constructor(n,e,r){this.router=n;this.titleService=e;this.loadingService=r}workWeek=[];currentDayIndex=new Date().getDay()-1;userName="";loading=!0;message="";DEFAULT_IN="11:15";DEFAULT_OUT="20:30";ngOnInit(){return h(this,null,function*(){this.loadingService.show();try{yield this.loadUserInfo(),yield this.loadEntries()}catch(n){console.error("Initialization error:",n)}finally{this.loading=!1,this.loadingService.hide()}})}loadUserInfo(){return h(this,null,function*(){this.loadingService.show();try{let{data:{user:n},error:e}=yield fn.auth.getUser();if(e||!n){console.error("Auth error:",e),alert("Please login or signup first!"),this.router.navigate(["/"]);return}let{data:r,error:i}=yield fn.from("users").select("first_name, last_name").eq("id",n.id).maybeSingle();if(i){console.error("Error fetching user info:",i),this.userName="User";return}r?this.userName=`${r.first_name}`:(console.warn("No user profile found, using default name"),this.userName="User"),this.titleService.setTitle(`Time Calculator | ${this.userName}`)}finally{this.loadingService.hide()}})}loadEntries(){return h(this,null,function*(){this.loadingService.show();try{let{data:{user:n}}=yield fn.auth.getUser();if(!n){alert("Please login or signup first!"),this.router.navigate(["/"]);return}let{data:e,error:r}=yield fn.from("time_entries").select("*").eq("user_id",n.id).order("day");r&&(console.error("Error fetching entries:",r),this.message="Error loading time entries."),this.message="";let i=["Monday","Tuesday","Wednesday","Thursday","Friday"];this.workWeek=i.map(o=>{let s=e?.find(a=>a.day===o);return s?k(y({},s),{check_in:s.check_in||this.DEFAULT_IN,check_out:s.check_out||this.DEFAULT_OUT,total_minutes:s.total_minutes||0}):{day:o,check_in:this.DEFAULT_IN,check_out:this.DEFAULT_OUT,total_minutes:0}})}finally{this.loadingService.hide()}})}calculateTotalMinutes(n,e){let[r,i]=n.split(":").map(Number),[o,s]=e.split(":").map(Number),a=r*60+i,c=o*60+s,l=11*60+15,u=20*60+30,d=Math.max(0,l-a),p=Math.min(0,l-a),f=Math.max(0,c-u),g=Math.min(0,c-u);return d+f+p+g}onTimeChange(n){n.check_in&&n.check_out&&(n.total_minutes=this.calculateTotalMinutes(n.check_in,n.check_out),n.hasChanges=!0)}saveAllEntries(){return h(this,null,function*(){this.loadingService.show();try{let{data:{user:n}}=yield fn.auth.getUser();if(!n){alert("Session expired. Please login again."),this.router.navigate(["/"]);return}let e=0,r=0;for(let i of this.workWeek)if(i.hasChanges&&i.check_in&&i.check_out)try{if(i.id){let{error:o}=yield fn.from("time_entries").update({check_in:i.check_in,check_out:i.check_out,total_minutes:i.total_minutes}).eq("id",i.id);if(o)throw o}else{let{data:o,error:s}=yield fn.from("time_entries").insert([{user_id:n.id,day:i.day,check_in:i.check_in,check_out:i.check_out,total_minutes:i.total_minutes}]).select().single();if(s)throw s;o&&(i.id=o.id)}i.hasChanges=!1,e++}catch(o){console.error(`Error saving ${i.day}:`,o),r++}e>0&&r===0?this.message=`Successfully saved ${e} day${e>1?"s":""}!`:e>0&&r>0?this.message=`Saved ${e} day${e>1?"s":""}, ${r} error${r>1?"s":""}`:e===0&&r===0?this.message="No changes to save.":this.message=`Error saving ${r} day${r>1?"s":""}`,setTimeout(()=>{this.message=""},3e3)}catch(n){console.error("Save all failed:",n.message),this.message=`Error saving entries: ${n.message}`}finally{this.loadingService.hide()}})}clearEntry(n){return h(this,null,function*(){n.check_in=this.DEFAULT_IN,n.check_out=this.DEFAULT_OUT,n.total_minutes=0,n.hasChanges=!0})}get weeklyTotal(){return this.workWeek.reduce((n,e)=>n+e.total_minutes,0)}formatMinutes(n){let e=Math.floor(Math.abs(n)/60),r=Math.abs(n)%60;return`${n<0?"-":""}${e}h ${r}m`}isCurrentDay(n){return n===this.currentDayIndex}static \u0275fac=function(e){return new(e||t)(A(Le),A(Vr),A(bt))};static \u0275cmp=pt({type:t,selectors:[["app-timeinput"]],decls:17,vars:4,consts:[[1,"time-calculator"],["class","message-box",3,"error",4,"ngIf"],[1,"user-info"],["class","day-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"footer-actions"],[1,"save-all-btn",3,"click"],[1,"weekly-total"],[1,"message-box"],[1,"day-row",3,"ngClass"],[1,"day-label"],[1,"time-inputs"],["type","time",3,"ngModelChange","change","ngModel"],[1,"time-output"],[1,"clear-btn",3,"click"]],template:function(e,r){e&1&&(z(0,"div",0)(1,"h2"),pe(2,"Time Calculator"),K(),Vt(3,fT,2,3,"div",1),z(4,"div",2)(5,"p"),pe(6,"Hi, "),z(7,"strong"),pe(8),K()()(),Vt(9,hT,10,7,"div",3),z(10,"div",4)(11,"button",5),ke("click",function(){return r.saveAllEntries()}),pe(12,"Save All"),K(),z(13,"div",6),pe(14," Weekly Total: "),z(15,"strong"),pe(16),K()()()()),e&2&&(te(3),gt("ngIf",r.message),te(5),tn(r.userName),te(),gt("ngForOf",r.workWeek),te(7),nn("",r.weeklyTotal," mins"))},dependencies:[vt,vd,Ea,On,Hc,fi,$c,Zo],styles:[".time-calculator[_ngcontent-%COMP%]{font-family:Arial,sans-serif;max-width:680px;margin:auto;padding:20px;height:100vh;display:flex;flex-direction:column;box-sizing:border-box}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px;font-size:clamp(1.5rem,4vw,2rem);flex-shrink:0}.day-rows-container[_ngcontent-%COMP%]{overflow-y:auto;min-height:0}.day-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px;padding:8px;border:1px solid #ddd;border-radius:6px;background:#f9f9f9;transition:background .3s ease;flex-shrink:0}.day-label[_ngcontent-%COMP%]{width:100px;font-weight:700;font-size:clamp(.9rem,2.5vw,1rem);flex-shrink:0}.time-output[_ngcontent-%COMP%]{margin-left:auto;font-weight:700;font-size:clamp(.9rem,2.5vw,1rem);flex-shrink:0;min-width:80px;text-align:center}.highlight[_ngcontent-%COMP%]{background:#d2f8d2!important;border-color:#4caf50}input[_ngcontent-%COMP%]{padding:4px;font-size:clamp(.9rem,2.5vw,1rem);width:120px;flex-shrink:0}.weekly-total[_ngcontent-%COMP%]{margin-top:16px;font-size:clamp(1rem,3vw,1.2rem);text-align:right;font-weight:700;flex-shrink:0;padding:10px;background:#f0f0f0;border-radius:6px}button[_ngcontent-%COMP%]{padding:8px 16px;border:none;color:#fff;border-radius:6px;cursor:pointer;font-size:clamp(.8rem,2.5vw,.9rem);flex-shrink:0;min-width:70px}.save-btn[_ngcontent-%COMP%]{background-color:#468346}.save-btn[_ngcontent-%COMP%]:hover{background-color:#067506}.clear-btn[_ngcontent-%COMP%]{background-color:#ff4d4d}.clear-btn[_ngcontent-%COMP%]:hover{background-color:#e60000}.more[_ngcontent-%COMP%]{color:green}.less[_ngcontent-%COMP%]{color:red}.save-all-btn[_ngcontent-%COMP%]{background-color:#468346;padding:10px 20px;border:none;color:#fff;border-radius:6px;cursor:pointer;font-size:16px;font-weight:700;min-width:120px}.save-all-btn[_ngcontent-%COMP%]:hover{background-color:#067506}.save-all-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}@media (max-width: 768px){.time-calculator[_ngcontent-%COMP%]{padding:15px;max-width:100%}.day-row[_ngcontent-%COMP%]{gap:8px;padding:6px;margin-bottom:6px}.day-label[_ngcontent-%COMP%]{width:80px;font-size:.9rem}input[_ngcontent-%COMP%]{width:90px;padding:3px}button[_ngcontent-%COMP%]{padding:6px 12px;min-width:60px}.time-output[_ngcontent-%COMP%]{min-width:70px;font-size:.9rem}}@media (max-width: 480px){.time-calculator[_ngcontent-%COMP%]{padding:10px}.day-row[_ngcontent-%COMP%]{gap:6px;padding:5px;margin-bottom:5px;flex-wrap:wrap;justify-content:space-between}.day-label[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:5px;font-size:.85rem}.time-inputs[_ngcontent-%COMP%]{display:flex;gap:6px;flex:1;justify-content:center}input[_ngcontent-%COMP%]{width:80px;font-size:.85rem;padding:2px}.time-output[_ngcontent-%COMP%]{min-width:60px;font-size:.85rem;margin-left:0;text-align:center}.button-group[_ngcontent-%COMP%]{display:flex;gap:5px;width:100%;justify-content:center;margin-top:5px}button[_ngcontent-%COMP%]{padding:5px 10px;min-width:55px;font-size:.8rem;flex:1;max-width:80px}.weekly-total[_ngcontent-%COMP%]{margin-top:12px;padding:8px;font-size:.9rem}}@media (max-width: 320px){.time-calculator[_ngcontent-%COMP%]{padding:8px}.day-row[_ngcontent-%COMP%]{gap:4px;padding:4px}input[_ngcontent-%COMP%]{width:70px;font-size:.8rem}button[_ngcontent-%COMP%]{padding:4px 8px;min-width:50px;font-size:.75rem}.time-output[_ngcontent-%COMP%]{min-width:50px;font-size:.8rem}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden}.day-rows-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.day-rows-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.day-rows-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:2px}.day-rows-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"]})};var qc=class t{constructor(n){this.loadingService=n;this.supabase=Oc("https://qdzklqbqqjrxcoqxkiky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkemtscWJxcWpyeGNvcXhraWt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MjU4NDMsImV4cCI6MjA3NDEwMTg0M30.C9ozRZSa06i8ie6AfVRSFoNucWbNTRsjh-_qZ4zHk6g")}supabase;signUpWithProfile(n,e,r,i){return h(this,null,function*(){this.loadingService.show();try{return yield this.supabase.auth.signUp({email:n,password:e,options:{data:{first_name:r,last_name:i}}})}finally{this.loadingService.hide()}})}signUp(n,e){return h(this,null,function*(){try{return this.supabase.auth.signUp({email:n,password:e})}finally{this.loadingService.hide()}})}signIn(n,e){return h(this,null,function*(){this.loadingService.show();try{return this.supabase.auth.signInWithPassword({email:n,password:e})}finally{this.loadingService.hide()}})}signOut(){return h(this,null,function*(){return this.supabase.auth.signOut()})}getUser(){return h(this,null,function*(){let{data:n}=yield this.supabase.auth.getUser();return n.user})}getUserProfile(n){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("users").select("*").eq("id",n).single();return r?(console.error("Error fetching user profile:",r),null):e})}createUserProfile(n,e,r,i){return h(this,null,function*(){let{data:o,error:s}=yield this.supabase.from("users").upsert([{id:n,email:e,first_name:r,last_name:i,updated_at:new Date().toISOString()}]).select().single();if(s)throw console.error("Error creating user profile:",s),s;return o})}insertTimeEntry(n,e,r,i,o){return h(this,null,function*(){return this.supabase.from("time_entries").insert([{user_id:n,day:e,check_in:r,check_out:i,total_minutes:o}])})}fetchTimeEntries(n){return h(this,null,function*(){return this.supabase.from("time_entries").select("*").eq("user_id",n)})}clearUserEntries(n){return h(this,null,function*(){return this.supabase.from("time_entries").delete().eq("user_id",n)})}getClient(){return this.supabase}static \u0275fac=function(e){return new(e||t)(I(bt))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function gT(t,n){if(t&1){let e=va();z(0,"div")(1,"input",8),$t("ngModelChange",function(i){Pt(e);let o=tt();return rn(o.firstName,i)||(o.firstName=i),Ft(i)}),K(),z(2,"input",9),$t("ngModelChange",function(i){Pt(e);let o=tt();return rn(o.lastName,i)||(o.lastName=i),Ft(i)}),K()()}if(t&2){let e=tt();te(),Ut("ngModel",e.firstName),te(),Ut("ngModel",e.lastName)}}function mT(t,n){if(t&1&&(z(0,"p",10),pe(1),K()),t&2){let e=tt();Xt("error",e.message.includes("Error")),te(),tn(e.message)}}var Wc=class t{constructor(n,e,r,i){this.supabase=n;this.router=e;this.titleService=r;this.loadingService=i}email="";password="";isLoginMode=!0;message="";firstName="";lastName="";ngOnInit(){this.updateTitle()}updateTitle(){let n=this.isLoginMode?"Login":"Sign Up";this.titleService.setTitle(`Time Calculator | ${n}`)}onSubmit(){return h(this,null,function*(){this.loadingService.show();try{if(this.isLoginMode){let{data:n,error:e}=yield this.supabase.signIn(this.email,this.password);if(e)throw e;this.message="Login successful! Redirecting...",setTimeout(()=>{this.router.navigate(["/dashboard"])},1e3)}else{let{data:n,error:e}=yield this.supabase.signUpWithProfile(this.email,this.password,this.firstName,this.lastName);if(e)throw e;this.message="Signup successful! Please check your email to confirm your account.",setTimeout(()=>{this.isLoginMode=!0,this.updateTitle(),this.message="Please login with your confirmed account."},5e3)}}catch(n){this.message=n.message,console.error("Auth error:",n)}finally{this.loadingService.hide()}})}toggleMode(){this.isLoginMode=!this.isLoginMode,this.message="",this.updateTitle()}static \u0275fac=function(e){return new(e||t)(A(qc),A(Le),A(Vr),A(bt))};static \u0275cmp=pt({type:t,selectors:[["app-auth"]],decls:12,vars:7,consts:[[1,"auth-container"],[3,"ngSubmit"],[4,"ngIf"],["type","email","placeholder","Email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","placeholder","Password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"toggle",3,"click"],["class","message",3,"error",4,"ngIf"],["type","text","placeholder","First Name","name","firstName","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","Last Name","name","lastName","required","",3,"ngModelChange","ngModel"],[1,"message"]],template:function(e,r){e&1&&(z(0,"div",0)(1,"h2"),pe(2),K(),z(3,"form",1),ke("ngSubmit",function(){return r.onSubmit()}),Vt(4,gT,3,2,"div",2),z(5,"input",3),$t("ngModelChange",function(o){return rn(r.email,o)||(r.email=o),o}),K(),z(6,"input",4),$t("ngModelChange",function(o){return rn(r.password,o)||(r.password=o),o}),K(),z(7,"button",5),pe(8),K()(),z(9,"p",6),ke("click",function(){return r.toggleMode()}),pe(10),K(),Vt(11,mT,2,3,"p",7),K()),e&2&&(te(2),tn(r.isLoginMode?"Login":"Sign Up"),te(2),gt("ngIf",!r.isLoginMode),te(),Ut("ngModel",r.email),te(),Ut("ngModel",r.password),te(2),tn(r.isLoginMode?"Login":"Sign Up"),te(2),nn(" ",r.isLoginMode?"Don't have an account? Sign Up":"Already have an account? Login"," "),te(),gt("ngIf",r.message))},dependencies:[vt,On,Hc,N_,fi,$c,I_,Zf,Zo,Gf],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;border:1px solid #ddd;border-radius:8px;background:#f9f9f9;text-align:center}input[_ngcontent-%COMP%]{width:100%;margin:8px 0;padding:10px;border:1px solid #ccc;border-radius:6px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background:#4caf50;border:none;color:#fff;border-radius:6px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#45a049}.toggle[_ngcontent-%COMP%]{margin-top:12px;color:#007bff;cursor:pointer}.message[_ngcontent-%COMP%]{margin-top:10px;color:red}"]})};var O_=[{path:"",component:Wc},{path:"dashboard",component:zc},{path:"**",redirectTo:""}];Ad(ac,{providers:[sf(O_,cf())]}).catch(t=>console.error(t));
