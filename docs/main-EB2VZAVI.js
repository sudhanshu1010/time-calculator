import{a as y,b as F,c as Yt,d as w_,e as D_,f as p,h as Of,i as kf,l as b_,m as Pf}from"./chunk-PZ5UXJ7I.js";var Jd=Yt(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});var Yd=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qd.default=Yd});var ef=Yt(hi=>{"use strict";var Uv=hi&&hi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hi,"__esModule",{value:!0});var mS=Uv((Pf(),D_(b_))),vS=Uv(Jd()),Xd=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c,l;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){let q=yield i.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=q:d=JSON.parse(q))}let _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),C=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&_===""?(f=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new vS.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};hi.default=Xd});var nf=Yt(pi=>{"use strict";var yS=pi&&pi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pi,"__esModule",{value:!0});var _S=yS(ef()),tf=class extends _S.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};pi.default=tf});var Ja=Yt(gi=>{"use strict";var wS=gi&&gi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gi,"__esModule",{value:!0});var DS=wS(nf()),rf=class extends DS.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};gi.default=rf});var sf=Yt(vi=>{"use strict";var bS=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vi,"__esModule",{value:!0});var mi=bS(Ja()),of=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new mi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new mi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new mi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new mi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new mi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};vi.default=of});var Bv=Yt(yi=>{"use strict";var $v=yi&&yi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yi,"__esModule",{value:!0});var CS=$v(sf()),ES=$v(Ja()),af=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){let n=new URL(`${this.url}/${t}`);return new CS.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",l=n);let u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new ES.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};yi.default=af});var Kv=Yt(ge=>{"use strict";var Ur=ge&&ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ge,"__esModule",{value:!0});ge.PostgrestError=ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;var Hv=Ur(Bv());ge.PostgrestClient=Hv.default;var zv=Ur(sf());ge.PostgrestQueryBuilder=zv.default;var qv=Ur(Ja());ge.PostgrestFilterBuilder=qv.default;var Gv=Ur(nf());ge.PostgrestTransformBuilder=Gv.default;var Wv=Ur(ef());ge.PostgrestBuilder=Wv.default;var Zv=Ur(Jd());ge.PostgrestError=Zv.default;ge.default={PostgrestClient:Hv.default,PostgrestQueryBuilder:zv.default,PostgrestFilterBuilder:qv.default,PostgrestTransformBuilder:Gv.default,PostgrestBuilder:Wv.default,PostgrestError:Zv.default}});function Uc(e,t){return Object.is(e,t)}var oe=null,Bi=!1,$c=1,Pe=Symbol("SIGNAL");function k(e){let t=oe;return oe=e,t}function Bc(){return oe}var no={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ro(e){if(Bi)throw new Error("");if(oe===null)return;oe.consumerOnSignalRead(e);let t=oe.nextProducerIndex++;if(Gi(oe),t<oe.producerNode.length&&oe.producerNode[t]!==e&&to(oe)){let n=oe.producerNode[t];qi(n,oe.producerIndexOfThis[t])}oe.producerNode[t]!==e&&(oe.producerNode[t]=e,oe.producerIndexOfThis[t]=to(oe)?Lf(e,oe,t):0),oe.producerLastReadVersion[t]=e.version}function Ff(){$c++}function Hc(e){if(!(to(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===$c)){if(!e.producerMustRecompute(e)&&!Wc(e)){Vc(e);return}e.producerRecomputeValue(e),Vc(e)}}function zc(e){if(e.liveConsumerNode===void 0)return;let t=Bi;Bi=!0;try{for(let n of e.liveConsumerNode)n.dirty||C_(n)}finally{Bi=t}}function qc(){return oe?.consumerAllowSignalWrites!==!1}function C_(e){e.dirty=!0,zc(e),e.consumerMarkedDirty?.(e)}function Vc(e){e.dirty=!1,e.lastCleanEpoch=$c}function zi(e){return e&&(e.nextProducerIndex=0),k(e)}function Gc(e,t){if(k(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(to(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)qi(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Wc(e){Gi(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Hc(n),r!==n.version))return!0}return!1}function Zc(e){if(Gi(e),to(e))for(let t=0;t<e.producerNode.length;t++)qi(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Lf(e,t,n){if(jf(e),e.liveConsumerNode.length===0&&Vf(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Lf(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function qi(e,t){if(jf(e),e.liveConsumerNode.length===1&&Vf(e))for(let r=0;r<e.producerNode.length;r++)qi(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Gi(o),o.producerIndexOfThis[r]=t}}function to(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Gi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function jf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Vf(e){return e.producerNode!==void 0}function Kc(e,t){let n=Object.create(E_);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Hc(n),ro(n),n.value===Hi)throw n.error;return n.value};return r[Pe]=n,r}var Lc=Symbol("UNSET"),jc=Symbol("COMPUTING"),Hi=Symbol("ERRORED"),E_=F(y({},no),{value:Lc,dirty:!0,error:null,equal:Uc,kind:"computed",producerMustRecompute(e){return e.value===Lc||e.value===jc},producerRecomputeValue(e){if(e.value===jc)throw new Error("Detected cycle in computations.");let t=e.value;e.value=jc;let n=zi(e),r,o=!1;try{r=e.computation(),k(null),o=t!==Lc&&t!==Hi&&r!==Hi&&e.equal(t,r)}catch(i){r=Hi,e.error=i}finally{Gc(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function I_(){throw new Error}var Uf=I_;function $f(e){Uf(e)}function Yc(e){Uf=e}var S_=null;function Qc(e,t){let n=Object.create(Wi);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(ro(n),n.value);return r[Pe]=n,r}function oo(e,t){qc()||$f(e),e.equal(e.value,t)||(e.value=t,M_(e))}function Jc(e,t){qc()||$f(e),oo(e,t(e.value))}var Wi=F(y({},no),{equal:Uc,value:void 0,kind:"signal"});function M_(e){e.version++,Ff(),zc(e),S_?.()}function Xc(e){let t=k(null);try{return e()}finally{k(t)}}var el;function io(){return el}function yt(e){let t=el;return el=e,t}var Zi=Symbol("NotFound");function T(e){return typeof e=="function"}function Hn(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ki=Hn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function so(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var te=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(T(r))try{r()}catch(i){t=i instanceof Ki?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Bf(i)}catch(s){t=t??[],s instanceof Ki?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ki(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Bf(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&so(n,t)}remove(t){let{_finalizers:n}=this;n&&so(n,t),t instanceof e&&t._removeParent(this)}};te.EMPTY=(()=>{let e=new te;return e.closed=!0,e})();var tl=te.EMPTY;function Yi(e){return e instanceof te||e&&"closed"in e&&T(e.remove)&&T(e.add)&&T(e.unsubscribe)}function Bf(e){T(e)?e():e.unsubscribe()}var Ke={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zn={setTimeout(e,t,...n){let{delegate:r}=zn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=zn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Qi(e){zn.setTimeout(()=>{let{onUnhandledError:t}=Ke;if(t)t(e);else throw e})}function ao(){}var Hf=nl("C",void 0,void 0);function zf(e){return nl("E",void 0,e)}function qf(e){return nl("N",e,void 0)}function nl(e,t,n){return{kind:e,value:t,error:n}}var Qt=null;function qn(e){if(Ke.useDeprecatedSynchronousErrorHandling){let t=!Qt;if(t&&(Qt={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Qt;if(Qt=null,n)throw r}}else e()}function Gf(e){Ke.useDeprecatedSynchronousErrorHandling&&Qt&&(Qt.errorThrown=!0,Qt.error=e)}var Jt=class extends te{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Yi(t)&&t.add(this)):this.destination=O_}static create(t,n,r){return new Gn(t,n,r)}next(t){this.isStopped?ol(qf(t),this):this._next(t)}error(t){this.isStopped?ol(zf(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ol(Hf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},N_=Function.prototype.bind;function rl(e,t){return N_.call(e,t)}var il=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ji(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ji(r)}else Ji(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ji(n)}}},Gn=class extends Jt{constructor(t,n,r){super();let o;if(T(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Ke.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&rl(t.next,i),error:t.error&&rl(t.error,i),complete:t.complete&&rl(t.complete,i)}):o=t}this.destination=new il(o)}};function Ji(e){Ke.useDeprecatedSynchronousErrorHandling?Gf(e):Qi(e)}function R_(e){throw e}function ol(e,t){let{onStoppedNotification:n}=Ke;n&&zn.setTimeout(()=>n(e,t))}var O_={closed:!0,next:ao,error:R_,complete:ao};var Wn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Me(e){return e}function sl(...e){return al(e)}function al(e){return e.length===0?Me:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var B=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=P_(n)?n:new Gn(n,r,o);return qn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Wf(r),new r((o,i)=>{let s=new Gn({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wn](){return this}pipe(...n){return al(n)(this)}toPromise(n){return n=Wf(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Wf(e){var t;return(t=e??Ke.Promise)!==null&&t!==void 0?t:Promise}function k_(e){return e&&T(e.next)&&T(e.error)&&T(e.complete)}function P_(e){return e&&e instanceof Jt||k_(e)&&Yi(e)}function cl(e){return T(e?.lift)}function j(e){return t=>{if(cl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(e,t,n,r,o){return new ll(e,t,n,r,o)}var ll=class extends Jt{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Zn(){return j((e,t)=>{let n=null;e._refCount++;let r=P(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Kn=class extends B{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cl(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new te;let n=this.getSubject();t.add(this.source.subscribe(P(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=te.EMPTY)}return t}refCount(){return Zn()(this)}};var Zf=Hn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=(()=>{class e extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Xi(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zf}next(n){qn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){qn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?tl:(this.currentObservers=null,i.push(n),new te(()=>{this.currentObservers=null,so(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new B;return n.source=this,n}}return e.create=(t,n)=>new Xi(t,n),e})(),Xi=class extends ie{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:tl}};var fe=class extends ie{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var we=new B(e=>e.complete());function Kf(e){return e&&T(e.schedule)}function Yf(e){return e[e.length-1]}function es(e){return T(Yf(e))?e.pop():void 0}function Ot(e){return Kf(Yf(e))?e.pop():void 0}function Jf(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Qf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xt(e){return this instanceof Xt?(this.v=e,this):new Xt(e)}function Xf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(v){return new Promise(function(_,C){i.push([f,v,_,C])>1||c(f,v)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(v){h(i[0][3],v)}}function l(f){f.value instanceof Xt?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function eh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Qf=="function"?Qf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var ts=e=>e&&typeof e.length=="number"&&typeof e!="function";function ns(e){return T(e?.then)}function rs(e){return T(e[Wn])}function os(e){return Symbol.asyncIterator&&T(e?.[Symbol.asyncIterator])}function is(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function F_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ss=F_();function as(e){return T(e?.[ss])}function cs(e){return Xf(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Xt(n.read());if(o)return yield Xt(void 0);yield yield Xt(r)}}finally{n.releaseLock()}})}function ls(e){return T(e?.getReader)}function ne(e){if(e instanceof B)return e;if(e!=null){if(rs(e))return L_(e);if(ts(e))return j_(e);if(ns(e))return V_(e);if(os(e))return th(e);if(as(e))return U_(e);if(ls(e))return $_(e)}throw is(e)}function L_(e){return new B(t=>{let n=e[Wn]();if(T(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function j_(e){return new B(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function V_(e){return new B(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Qi)})}function U_(e){return new B(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function th(e){return new B(t=>{B_(e,t).catch(n=>t.error(n))})}function $_(e){return th(cs(e))}function B_(e,t){var n,r,o,i;return Jf(this,void 0,void 0,function*(){try{for(n=eh(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function De(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function us(e,t=0){return j((n,r)=>{n.subscribe(P(r,o=>De(r,e,()=>r.next(o),t),()=>De(r,e,()=>r.complete(),t),o=>De(r,e,()=>r.error(o),t)))})}function ds(e,t=0){return j((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function nh(e,t){return ne(e).pipe(ds(t),us(t))}function rh(e,t){return ne(e).pipe(ds(t),us(t))}function oh(e,t){return new B(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ih(e,t){return new B(n=>{let r;return De(n,t,()=>{r=e[ss](),De(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>T(r?.return)&&r.return()})}function fs(e,t){if(!e)throw new Error("Iterable cannot be null");return new B(n=>{De(n,t,()=>{let r=e[Symbol.asyncIterator]();De(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function sh(e,t){return fs(cs(e),t)}function ah(e,t){if(e!=null){if(rs(e))return nh(e,t);if(ts(e))return oh(e,t);if(ns(e))return rh(e,t);if(os(e))return fs(e,t);if(as(e))return ih(e,t);if(ls(e))return sh(e,t)}throw is(e)}function K(e,t){return t?ah(e,t):ne(e)}function I(...e){let t=Ot(e);return K(e,t)}function Yn(e,t){let n=T(e)?e:()=>e,r=o=>o.error(n());return new B(t?o=>t.schedule(r,0,o):r)}function ul(e){return!!e&&(e instanceof B||T(e.lift)&&T(e.subscribe))}var _t=Hn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function L(e,t){return j((n,r)=>{let o=0;n.subscribe(P(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:H_}=Array;function z_(e,t){return H_(t)?e(...t):e(t)}function hs(e){return L(t=>z_(e,t))}var{isArray:q_}=Array,{getPrototypeOf:G_,prototype:W_,keys:Z_}=Object;function ps(e){if(e.length===1){let t=e[0];if(q_(t))return{args:t,keys:null};if(K_(t)){let n=Z_(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function K_(e){return e&&typeof e=="object"&&G_(e)===W_}function gs(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function co(...e){let t=Ot(e),n=es(e),{args:r,keys:o}=ps(e);if(r.length===0)return K([],t);let i=new B(Y_(r,t,o?s=>gs(o,s):Me));return n?i.pipe(hs(n)):i}function Y_(e,t,n=Me){return r=>{ch(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)ch(t,()=>{let l=K(e[c],t),u=!1;l.subscribe(P(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ch(e,t,n){e?De(n,e,t):t()}function lh(e,t,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&t.complete()},f=v=>l<r?g(v):c.push(v),g=v=>{i&&t.next(v),l++;let _=!1;ne(n(v,u++)).subscribe(P(t,C=>{o?.(C),i?f(C):t.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let C=c.shift();s?De(t,s,()=>g(C)):g(C)}h()}catch(C){t.error(C)}}))};return e.subscribe(P(t,f,()=>{d=!0,h()})),()=>{a?.()}}function J(e,t,n=1/0){return T(t)?J((r,o)=>L((i,s)=>t(r,i,o,s))(ne(e(r,o))),n):(typeof t=="number"&&(n=t),j((r,o)=>lh(r,o,e,n)))}function Qn(e=1/0){return J(Me,e)}function uh(){return Qn(1)}function Jn(...e){return uh()(K(e,Ot(e)))}function ms(e){return new B(t=>{ne(e()).subscribe(t)})}function dl(...e){let t=es(e),{args:n,keys:r}=ps(e),o=new B(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ne(n[u]).subscribe(P(i,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?gs(r,a):a),i.complete())}))}});return t?o.pipe(hs(t)):o}function Te(e,t){return j((n,r)=>{let o=0;n.subscribe(P(r,i=>e.call(t,i,o++)&&r.next(i)))})}function wt(e){return j((t,n)=>{let r=null,o=!1,i;r=t.subscribe(P(n,void 0,void 0,s=>{i=ne(e(s,wt(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function dh(e,t,n,r,o){return(i,s)=>{let a=n,c=t,l=0;i.subscribe(P(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function kt(e,t){return T(t)?J(e,t,1):J(e,1)}function Pt(e){return j((t,n)=>{let r=!1;t.subscribe(P(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Dt(e){return e<=0?()=>we:j((t,n)=>{let r=0;t.subscribe(P(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function vs(e=Q_){return j((t,n)=>{let r=!1;t.subscribe(P(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Q_(){return new _t}function lo(e){return j((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function bt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Te((o,i)=>e(o,i,r)):Me,Dt(1),n?Pt(t):vs(()=>new _t))}function Xn(e){return e<=0?()=>we:j((t,n)=>{let r=[];t.subscribe(P(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function fl(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Te((o,i)=>e(o,i,r)):Me,Xn(1),n?Pt(t):vs(()=>new _t))}function hl(e,t){return j(dh(e,t,arguments.length>=2,!0))}function pl(...e){let t=Ot(e);return j((n,r)=>{(t?Jn(e,n,t):Jn(e,n)).subscribe(r)})}function Fe(e,t){return j((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(P(r,c=>{o?.unsubscribe();let l=0,u=i++;ne(e(c,u)).subscribe(o=P(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function gl(e){return j((t,n)=>{ne(e).subscribe(P(n,()=>n.complete(),ao)),!n.closed&&t.subscribe(n)})}function he(e,t,n){let r=T(e)||t||n?{next:e,error:t,complete:n}:e;return r?j((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(P(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Me}var J_="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(t,n){super(ep(t,n)),this.code=t}};function X_(e){return`NG0${Math.abs(e)}`}function ep(e,t){return`${X_(e)}${t?": "+t:""}`}var tp=Symbol("InputSignalNode#UNSET"),ew=F(y({},Wi),{transformFn:void 0,applyValueToInputSignal(e,t){oo(e,t)}});function np(e,t){let n=Object.create(ew);n.value=e,n.transformFn=t?.transform;function r(){if(ro(n),n.value===tp){let o=null;throw new w(-950,o)}return n.value}return r[Pe]=n,r}function bo(e){return{toString:e}.toString()}var ys="__parameters__";function tw(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function rp(e,t,n){return bo(()=>{let r=tw(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(ys)?c[ys]:Object.defineProperty(c,ys,{value:[]})[ys];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function z(e){for(let t in e)if(e[t]===z)return t;throw Error("Could not find renamed property on target object.")}function nw(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function be(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(be).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function fh(e,t){return e?t?`${e} ${t}`:e:t||""}var rw=z({__forward_ref__:z});function dn(e){return e.__forward_ref__=dn,e.toString=function(){return be(this())},e}function ve(e){return op(e)?e():e}function op(e){return typeof e=="function"&&e.hasOwnProperty(rw)&&e.__forward_ref__===dn}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Et(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ys(e){return hh(e,sp)||hh(e,ap)}function ip(e){return Ys(e)!==null}function hh(e,t){return e.hasOwnProperty(t)?e[t]:null}function ow(e){let t=e&&(e[sp]||e[ap]);return t||null}function ph(e){return e&&(e.hasOwnProperty(gh)||e.hasOwnProperty(iw))?e[gh]:null}var sp=z({\u0275prov:z}),gh=z({\u0275inj:z}),ap=z({ngInjectableDef:z}),iw=z({ngInjectorDef:z}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cp(e){return e&&!!e.\u0275providers}var sw=z({\u0275cmp:z}),aw=z({\u0275dir:z}),cw=z({\u0275pipe:z}),lw=z({\u0275mod:z}),Is=z({\u0275fac:z}),po=z({__NG_ELEMENT_ID__:z}),mh=z({__NG_ENV_ID__:z});function vu(e){return typeof e=="string"?e:e==null?"":String(e)}function uw(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():vu(e)}function lp(e,t){throw new w(-200,e)}function yu(e,t){throw new w(-201,!1)}var N=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(N||{}),xl;function up(){return xl}function Le(e){let t=xl;return xl=e,t}function dp(e,t,n){let r=Ys(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&N.Optional)return null;if(t!==void 0)return t;yu(e,"Injector")}var dw={},en=dw,Al="__NG_DI_FLAG__",Ss=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Zi:en,r)}},Ms="ngTempTokenPath",fw="ngTokenPath",hw=/\n/gm,pw="\u0275",vh="__source";function gw(e,t=N.Default){if(io()===void 0)throw new w(-203,!1);if(io()===null)return dp(e,void 0,t);{let n=io(),r;return n instanceof Ss?r=n.injector:r=n,r.get(e,t&N.Optional?null:void 0,t)}}function S(e,t=N.Default){return(up()||gw)(ve(e),t)}function m(e,t=N.Default){return S(e,Qs(t))}function Qs(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Nl(e){let t=[];for(let n=0;n<e.length;n++){let r=ve(e[n]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let o,i=N.Default;for(let s=0;s<r.length;s++){let a=r[s],c=mw(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(S(o,i))}else t.push(S(r))}return t}function fp(e,t){return e[Al]=t,e.prototype[Al]=t,e}function mw(e){return e[Al]}function vw(e,t,n,r){let o=e[Ms];throw t[vh]&&o.unshift(t[vh]),e.message=yw(`
`+e.message,o,n,r),e[fw]=o,e[Ms]=null,e}function yw(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==pw?e.slice(2):e;let o=be(t);if(Array.isArray(t))o=t.map(be).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):be(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(hw,`
  `)}`}var _w=fp(rp("Optional"),8);var ww=fp(rp("SkipSelf"),4);function sr(e,t){let n=e.hasOwnProperty(Is);return n?e[Is]:null}function _u(e,t){e.forEach(n=>Array.isArray(n)?_u(n,t):t(n))}function hp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ts(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Dw(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function bw(e,t,n){let r=Co(e,t);return r>=0?e[r|1]=n:(r=~r,Dw(e,r,t,n)),r}function ml(e,t){let n=Co(e,t);if(n>=0)return e[n|1]}function Co(e,t){return Cw(e,t,1)}function Cw(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var nn={},je=[],go=new b(""),pp=new b("",-1),gp=new b(""),xs=class{get(t,n=en){if(n===en){let r=new Error(`NullInjectorError: No provider for ${be(t)}!`);throw r.name="NullInjectorError",r}return n}};function mp(e,t){let n=e[lw]||null;if(!n&&t===!0)throw new Error(`Type ${be(e)} does not have '\u0275mod' property.`);return n}function rn(e){return e[sw]||null}function Ew(e){return e[aw]||null}function Iw(e){return e[cw]||null}function Js(e){return{\u0275providers:e}}function Sw(...e){return{\u0275providers:vp(!0,e),\u0275fromNgModule:!0}}function vp(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return _u(t,s=>{let a=s;Rl(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&yp(o,i),n}function yp(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];wu(o,i=>{t(i,r)})}}function Rl(e,t,n,r){if(e=ve(e),!e)return!1;let o=null,i=ph(e),s=!i&&rn(e);if(!i&&!s){let c=e.ngModule;if(i=ph(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Rl(l,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{_u(i.imports,u=>{Rl(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&yp(l,t)}if(!a){let l=sr(o)||(()=>new o);t({provide:o,useFactory:l,deps:je},o),t({provide:gp,useValue:o,multi:!0},o),t({provide:go,useValue:()=>S(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;wu(c,u=>{t(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function wu(e,t){for(let n of e)cp(n)&&(n=n.\u0275providers),Array.isArray(n)?wu(n,t):t(n)}var Mw=z({provide:String,useValue:z});function _p(e){return e!==null&&typeof e=="object"&&Mw in e}function Tw(e){return!!(e&&e.useExisting)}function xw(e){return!!(e&&e.useFactory)}function ar(e){return typeof e=="function"}function Aw(e){return!!e.useClass}var Xs=new b(""),ws={},yh={},vl;function Du(){return vl===void 0&&(vl=new xs),vl}var Ce=class{},mo=class extends Ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,kl(t,s=>this.processProvider(s)),this.records.set(pp,er(void 0,this)),o.has("environment")&&this.records.set(Ce,er(void 0,this));let i=this.records.get(Xs);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(gp,je,N.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Zi:en,r)}destroy(){fo(this),this._destroyed=!0;let t=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(t)}}onDestroy(t){return fo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){fo(this);let n=yt(this),r=Le(void 0),o;try{return t()}finally{yt(n),Le(r)}}get(t,n=en,r=N.Default){if(fo(this),t.hasOwnProperty(mh))return t[mh](this);r=Qs(r);let o,i=yt(this),s=Le(void 0);try{if(!(r&N.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=Pw(t)&&Ys(t);l&&this.injectableDefInScope(l)?c=er(Ol(t),ws):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,r)}let a=r&N.Self?Du():this.parent;return n=r&N.Optional&&n===en?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ms]=a[Ms]||[]).unshift(be(t)),i)throw a;return vw(a,t,"R3InjectorError",this.source)}else throw a}finally{Le(s),yt(i)}}resolveInjectorInitializers(){let t=k(null),n=yt(this),r=Le(void 0),o;try{let i=this.get(go,je,N.Self);for(let s of i)s()}finally{yt(n),Le(r),k(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(be(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ve(t);let n=ar(t)?t:ve(t&&t.provide),r=Rw(t);if(!ar(t)&&t.multi===!0){let o=this.records.get(n);o||(o=er(void 0,ws,!0),o.factory=()=>Nl(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=k(null);try{return n.value===yh?lp(be(t)):n.value===ws&&(n.value=yh,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&kw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{k(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ve(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ol(e){let t=Ys(e),n=t!==null?t.factory:sr(e);if(n!==null)return n;if(e instanceof b)throw new w(204,!1);if(e instanceof Function)return Nw(e);throw new w(204,!1)}function Nw(e){if(e.length>0)throw new w(204,!1);let n=ow(e);return n!==null?()=>n.factory(e):()=>new e}function Rw(e){if(_p(e))return er(void 0,e.useValue);{let t=wp(e);return er(t,ws)}}function wp(e,t,n){let r;if(ar(e)){let o=ve(e);return sr(o)||Ol(o)}else if(_p(e))r=()=>ve(e.useValue);else if(xw(e))r=()=>e.useFactory(...Nl(e.deps||[]));else if(Tw(e))r=(o,i)=>S(ve(e.useExisting),i!==void 0&&i&N.Optional?N.Optional:void 0);else{let o=ve(e&&(e.useClass||e.provide));if(Ow(e))r=()=>new o(...Nl(e.deps));else return sr(o)||Ol(o)}return r}function fo(e){if(e.destroyed)throw new w(205,!1)}function er(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ow(e){return!!e.deps}function kw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Pw(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function kl(e,t){for(let n of e)Array.isArray(n)?kl(n,t):n&&cp(n)?kl(n.\u0275providers,t):t(n)}function Be(e,t){let n;e instanceof mo?(fo(e),n=e):n=new Ss(e);let r,o=yt(n),i=Le(void 0);try{return t()}finally{yt(o),Le(i)}}function Dp(){return up()!==void 0||io()!=null}function Fw(e){if(!Dp())throw new w(-203,!1)}function Lw(e){return typeof e=="function"}var It=0,V=1,x=2,ye=3,Qe=4,Je=5,As=6,Ns=7,Ee=8,cr=9,jt=10,ae=11,vo=12,_h=13,gr=14,ot=15,lr=16,tr=17,ur=18,ea=19,bp=20,Ft=21,yl=22,Rs=23,Ve=24,or=25,Ct=26,Cp=1;var on=7,Os=8,ks=9,Ue=10;function Lt(e){return Array.isArray(e)&&typeof e[Cp]=="object"}function St(e){return Array.isArray(e)&&e[Cp]===!0}function Ep(e){return(e.flags&4)!==0}function mr(e){return e.componentOffset>-1}function bu(e){return(e.flags&1)===1}function it(e){return!!e.template}function Ps(e){return(e[x]&512)!==0}function vr(e){return(e[x]&256)===256}var Pl=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ip(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var fn=(()=>{let e=()=>Sp;return e.ngInherit=!0,e})();function Sp(e){return e.type.prototype.ngOnChanges&&(e.setInput=Vw),jw}function jw(){let e=Tp(this),t=e?.current;if(t){let n=e.previous;if(n===nn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Vw(e,t,n,r,o){let i=this.declaredInputs[r],s=Tp(e)||Uw(e,{previous:nn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Pl(l&&l.currentValue,n,c===nn),Ip(e,t,o,n)}var Mp="__ngSimpleChanges__";function Tp(e){return e[Mp]||null}function Uw(e,t){return e[Mp]=t}var wh=null;var H=function(e,t=null,n){wh?.(e,t,n)},$w="svg",Bw="math";function st(e){for(;Array.isArray(e);)e=e[It];return e}function xp(e,t){return st(t[e])}function ut(e,t){return st(t[e.index])}function Ap(e,t){return e.data[t]}function at(e,t){let n=t[e];return Lt(n)?n:n[It]}function Cu(e){return(e[x]&128)===128}function Hw(e){return St(e[ye])}function Fs(e,t){return t==null?null:e[t]}function Np(e){e[tr]=0}function Rp(e){e[x]&1024||(e[x]|=1024,Cu(e)&&Eo(e))}function zw(e,t){for(;e>0;)t=t[gr],e--;return t}function ta(e){return!!(e[x]&9216||e[Ve]?.dirty)}function Fl(e){e[jt].changeDetectionScheduler?.notify(8),e[x]&64&&(e[x]|=1024),ta(e)&&Eo(e)}function Eo(e){e[jt].changeDetectionScheduler?.notify(0);let t=sn(e);for(;t!==null&&!(t[x]&8192||(t[x]|=8192,!Cu(t)));)t=sn(t)}function Op(e,t){if(vr(e))throw new w(911,!1);e[Ft]===null&&(e[Ft]=[]),e[Ft].push(t)}function qw(e,t){if(e[Ft]===null)return;let n=e[Ft].indexOf(t);n!==-1&&e[Ft].splice(n,1)}function sn(e){let t=e[ye];return St(t)?t[ye]:t}function kp(e){return e[Ns]??=[]}function Pp(e){return e.cleanup??=[]}var O={lFrame:Hp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ll=!1;function Gw(){return O.lFrame.elementDepthCount}function Ww(){O.lFrame.elementDepthCount++}function Zw(){O.lFrame.elementDepthCount--}function Fp(){return O.bindingsEnabled}function Kw(){return O.skipHydrationRootTNode!==null}function Yw(e){return O.skipHydrationRootTNode===e}function Qw(){O.skipHydrationRootTNode=null}function W(){return O.lFrame.lView}function xe(){return O.lFrame.tView}function Io(e){return O.lFrame.contextLView=e,e[Ee]}function So(e){return O.lFrame.contextLView=null,e}function Ae(){let e=Lp();for(;e!==null&&e.type===64;)e=e.parent;return e}function Lp(){return O.lFrame.currentTNode}function Jw(){let e=O.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Mo(e,t){let n=O.lFrame;n.currentTNode=e,n.isParent=t}function jp(){return O.lFrame.isParent}function Xw(){O.lFrame.isParent=!1}function Vp(){return Ll}function Dh(e){let t=Ll;return Ll=e,t}function eD(){let e=O.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function tD(e){return O.lFrame.bindingIndex=e}function na(){return O.lFrame.bindingIndex++}function nD(e){let t=O.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function rD(){return O.lFrame.inI18n}function oD(e,t){let n=O.lFrame;n.bindingIndex=n.bindingRootIndex=e,jl(t)}function iD(){return O.lFrame.currentDirectiveIndex}function jl(e){O.lFrame.currentDirectiveIndex=e}function sD(e){let t=O.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Up(e){O.lFrame.currentQueryIndex=e}function aD(e){let t=e[V];return t.type===2?t.declTNode:t.type===1?e[Je]:null}function $p(e,t,n){if(n&N.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&N.Host);)if(o=aD(i),o===null||(i=i[gr],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=O.lFrame=Bp();return r.currentTNode=t,r.lView=e,!0}function Eu(e){let t=Bp(),n=e[V];O.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Bp(){let e=O.lFrame,t=e===null?null:e.child;return t===null?Hp(e):t}function Hp(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function zp(){let e=O.lFrame;return O.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var qp=zp;function Iu(){let e=zp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function cD(e){return(O.lFrame.contextLView=zw(e,O.lFrame.contextLView))[Ee]}function yr(){return O.lFrame.selectedIndex}function an(e){O.lFrame.selectedIndex=e}function Su(){let e=O.lFrame;return Ap(e.tView,e.selectedIndex)}function lD(){return O.lFrame.currentNamespace}var Gp=!0;function Mu(){return Gp}function Tu(e){Gp=e}function uD(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Sp(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Wp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ds(e,t,n){Zp(e,t,3,n)}function bs(e,t,n,r){(e[x]&3)===n&&Zp(e,t,n,r)}function _l(e,t){let n=e[x];(n&3)===t&&(n&=16383,n+=1,e[x]=n)}function Zp(e,t,n,r){let o=r!==void 0?e[tr]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[tr]+=65536),(a<i||i==-1)&&(dD(e,n,t,c),e[tr]=(e[tr]&4294901760)+c+2),c++}function bh(e,t){H(4,e,t);let n=k(null);try{t.call(e)}finally{k(n),H(5,e,t)}}function dD(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[x]>>14<e[tr]>>16&&(e[x]&3)===t&&(e[x]+=16384,bh(a,i)):bh(a,i)}var ir=-1,cn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function fD(e){return(e.flags&8)!==0}function hD(e){return(e.flags&16)!==0}function pD(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];mD(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function gD(e){return e===3||e===4||e===6}function mD(e){return e.charCodeAt(0)===64}function yo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Ch(e,n,o,null,t[++r]):Ch(e,n,o,null,null))}}return e}function Ch(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function Kp(e){return e!==ir}function Ls(e){return e&32767}function vD(e){return e>>16}function js(e,t){let n=vD(e),r=t;for(;n>0;)r=r[gr],n--;return r}var Vl=!0;function Eh(e){let t=Vl;return Vl=e,t}var yD=256,Yp=yD-1,Qp=5,_D=0,rt={};function wD(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(po)&&(r=n[po]),r==null&&(r=n[po]=_D++);let o=r&Yp,i=1<<o;t.data[e+(o>>Qp)]|=i}function Vs(e,t){let n=Jp(e,t);if(n!==-1)return n;let r=t[V];r.firstCreatePass&&(e.injectorIndex=t.length,wl(r.data,e),wl(t,null),wl(r.blueprint,null));let o=xu(e,t),i=e.injectorIndex;if(Kp(o)){let s=Ls(o),a=js(o,t),c=a[V].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function wl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jp(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function xu(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=rg(o),r===null)return ir;if(n++,o=o[gr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ir}function Ul(e,t,n){wD(e,t,n)}function Xp(e,t,n){if(n&N.Optional||e!==void 0)return e;yu(t,"NodeInjector")}function eg(e,t,n,r){if(n&N.Optional&&r===void 0&&(r=null),(n&(N.Self|N.Host))===0){let o=e[cr],i=Le(void 0);try{return o?o.get(t,r,n&N.Optional):dp(t,r,n&N.Optional)}finally{Le(i)}}return Xp(r,t,n)}function tg(e,t,n,r=N.Default,o){if(e!==null){if(t[x]&2048&&!(r&N.Self)){let s=ID(e,t,n,r,rt);if(s!==rt)return s}let i=ng(e,t,n,r,rt);if(i!==rt)return i}return eg(t,n,r,o)}function ng(e,t,n,r,o){let i=CD(n);if(typeof i=="function"){if(!$p(t,e,r))return r&N.Host?Xp(o,n,r):eg(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&N.Optional))yu(n);else return s}finally{qp()}}else if(typeof i=="number"){let s=null,a=Jp(e,t),c=ir,l=r&N.Host?t[ot][Je]:null;for((a===-1||r&N.SkipSelf)&&(c=a===-1?xu(e,t):t[a+8],c===ir||!Sh(r,!1)?a=-1:(s=t[V],a=Ls(c),t=js(c,t)));a!==-1;){let u=t[V];if(Ih(i,a,u.data)){let d=DD(a,t,n,s,r,l);if(d!==rt)return d}c=t[a+8],c!==ir&&Sh(r,t[V].data[a+8]===l)&&Ih(i,a,t)?(s=u,a=Ls(c),t=js(c,t)):a=-1}}return o}function DD(e,t,n,r,o,i){let s=t[V],a=s.data[e+8],c=r==null?mr(a)&&Vl:r!=s&&(a.type&3)!==0,l=o&N.Host&&i===a,u=bD(a,s,n,c,l);return u!==null?Us(t,s,u,a,o):rt}function bD(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,d=r?a:a+u,h=o?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(o){let f=s[c];if(f&&it(f)&&f.type===n)return c}return null}function Us(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof cn){let a=i;a.resolving&&lp(uw(s[n]));let c=Eh(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Le(a.injectImpl):null,d=$p(e,r,N.Default);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&uD(n,s[n],t)}finally{u!==null&&Le(u),Eh(c),a.resolving=!1,qp()}}return i}function CD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(po)?e[po]:void 0;return typeof t=="number"?t>=0?t&Yp:ED:t}function Ih(e,t,n){let r=1<<e;return!!(n[t+(e>>Qp)]&r)}function Sh(e,t){return!(e&N.Self)&&!(e&N.Host&&t)}var tn=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return tg(this._tNode,this._lView,t,Qs(r),n)}};function ED(){return new tn(Ae(),W())}function _r(e){return bo(()=>{let t=e.prototype.constructor,n=t[Is]||$l(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Is]||$l(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function $l(e){return op(e)?()=>{let t=$l(ve(e));return t&&t()}:sr(e)}function ID(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[x]&2048&&!Ps(s);){let a=ng(i,s,n,r|N.Self,rt);if(a!==rt)return a;let c=i.parent;if(!c){let l=s[bp];if(l){let u=l.get(n,rt,r);if(u!==rt)return u}c=rg(s),s=s[gr]}i=c}return o}function rg(e){let t=e[V],n=t.type;return n===2?t.declTNode:n===1?e[Je]:null}function Mh(e,t=null,n=null,r){let o=og(e,t,n,r);return o.resolveInjectorInitializers(),o}function og(e,t=null,n=null,r,o=new Set){let i=[n||je,Sw(e)];return r=r||(typeof e=="object"?void 0:be(e)),new mo(i,t||Du(),r||null,o)}var $e=class e{static THROW_IF_NOT_FOUND=en;static NULL=new xs;static create(t,n){if(Array.isArray(t))return Mh({name:""},n,t,"");{let r=t.name??"";return Mh({name:r},t.parent,t.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>S(pp)});static __NG_ELEMENT_ID__=-1};var SD=new b("");SD.__NG_ELEMENT_ID__=e=>{let t=Ae();if(t===null)throw new w(204,!1);if(t.type&2)return t.value;if(e&N.Optional)return null;throw new w(204,!1)};var ig=!1,To=(()=>{class e{static __NG_ELEMENT_ID__=MD;static __NG_ENV_ID__=n=>n}return e})(),Bl=class extends To{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return vr(n)?(t(),()=>{}):(Op(n,t),()=>qw(n,t))}};function MD(){return new Bl(W())}var dr=class{},Au=new b("",{providedIn:"root",factory:()=>!1});var sg=new b(""),ag=new b(""),wr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new fe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})();var Hl=class extends ie{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Dp()&&(this.destroyRef=m(To,{optional:!0})??void 0,this.pendingTasks=m(wr,{optional:!0})??void 0)}emit(t){let n=k(null);try{super.next(t)}finally{k(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof te&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},se=Hl;function $s(...e){}function cg(e){let t,n;function r(){e=$s;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Th(e){return queueMicrotask(()=>e()),()=>{e=$s}}var Nu="isAngularZone",Bs=Nu+"_ID",TD=0,X=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new se(!1);onMicrotaskEmpty=new se(!1);onStable=new se(!1);onError=new se(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ig}=t;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,ND(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Nu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new w(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,xD,$s,$s);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},xD={};function Ru(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function AD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){cg(()=>{e.callbackScheduled=!1,zl(e),e.isCheckStableRunning=!0,Ru(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zl(e)}function ND(e){let t=()=>{AD(e)},n=TD++;e._inner=e._inner.fork({name:"angular",properties:{[Nu]:!0,[Bs]:n,[Bs+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(RD(c))return r.invokeTask(i,s,a,c);try{return xh(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Ah(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return xh(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!OD(c)&&t(),Ah(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,zl(e),Ru(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function zl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function xh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ah(e){e._nesting--,Ru(e)}var ql=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new se;onMicrotaskEmpty=new se;onStable=new se;onError=new se;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function RD(e){return lg(e,"__ignore_ng_zone__")}function OD(e){return lg(e,"__scheduler_tick__")}function lg(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var ct=class{_console=console;handleError(t){this._console.error("ERROR",t)}},kD=new b("",{providedIn:"root",factory:()=>{let e=m(X),t=m(ct);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Nh(e,t){return np(e,t)}function PD(e){return np(tp,e)}var ug=(Nh.required=PD,Nh);function FD(){return ra(Ae(),W())}function ra(e,t){return new Ut(ut(e,t))}var Ut=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=FD}return e})();function LD(e){return typeof e=="function"&&e[Pe]!==void 0}function xo(e,t){let n=Qc(e,t?.equal),r=n[Pe];return n.set=o=>oo(r,o),n.update=o=>Jc(r,o),n.asReadonly=jD.bind(n),n}function jD(){let e=this[Pe];if(e.readonlyFn===void 0){let t=()=>this();t[Pe]=e,e.readonlyFn=t}return e.readonlyFn}function dg(e){return LD(e)&&typeof e.set=="function"}function fg(e){return(e.flags&128)===128}var hg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(hg||{}),pg=new Map,VD=0;function UD(){return VD++}function $D(e){pg.set(e[ea],e)}function Gl(e){pg.delete(e[ea])}var Rh="__ngContext__";function Ao(e,t){Lt(t)?(e[Rh]=t[ea],$D(t)):e[Rh]=t}function gg(e){return vg(e[vo])}function mg(e){return vg(e[Qe])}function vg(e){for(;e!==null&&!St(e);)e=e[Qe];return e}var Wl;function yg(e){Wl=e}function BD(){if(Wl!==void 0)return Wl;if(typeof document<"u")return document;throw new w(210,!1)}var Ou=new b("",{providedIn:"root",factory:()=>HD}),HD="ng",ku=new b(""),Dr=new b("",{providedIn:"platform",factory:()=>"unknown"});var Pu=new b("",{providedIn:"root",factory:()=>BD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zD="h",qD="b";var _g=!1,GD=new b("",{providedIn:"root",factory:()=>_g});var Fu=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Fu||{}),br=new b(""),Oh=new Set;function Cr(e){Oh.has(e)||(Oh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var wg=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=WD}return e})();function WD(){return new wg(W(),Ae())}var nr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(nr||{}),Dg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),ZD=[nr.EarlyRead,nr.Write,nr.MixedReadWrite,nr.Read],KD=(()=>{class e{ngZone=m(X);scheduler=m(dr);errorHandler=m(ct,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(br,{optional:!0})}execute(){let n=this.sequences.size>0;n&&H(16),this.executing=!0;for(let r of ZD)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&H(17)}register(n){let{view:r}=n;r!==void 0?((r[or]??=[]).push(n),Eo(r),r[x]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Fu.AFTER_NEXT_RENDER,n):n()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),Zl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[or];t&&(this.view[or]=t.filter(n=>n!==this))}};function Lu(e,t){!t?.injector&&Fw(Lu);let n=t?.injector??m($e);return Cr("NgAfterNextRender"),QD(e,n,t,!0)}function YD(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function QD(e,t,n,r){let o=t.get(Dg);o.impl??=t.get(KD);let i=t.get(br,null,{optional:!0}),s=n?.phase??nr.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(To):null,c=t.get(wg,null,{optional:!0}),l=new Zl(o.impl,YD(e,s),c?.view,r,a,i?.snapshot(null));return o.impl.register(l),l}var JD=(e,t,n,r)=>{};function XD(e,t,n,r){JD(e,t,n,r)}var eb=()=>null;function bg(e,t,n=!1){return eb(e,t,n)}function Cg(e,t){let n=e.contentQueries;if(n!==null){let r=k(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Up(i),a.contentQueries(2,t[s],s)}}}finally{k(r)}}}function Kl(e,t,n){Up(0);let r=k(null);try{t(e,n)}finally{k(r)}}function Eg(e,t,n){if(Ep(t)){let r=k(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{k(r)}}}var lt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(lt||{});var Yl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${J_})`}};function Ig(e){return e instanceof Yl?e.changingThisBreaksApplicationSecurity:e}function Sg(e){return e instanceof Function?e():e}function tb(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Mg="ng-template";function nb(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&tb(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(ju(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function ju(e){return e.type===4&&e.value!==Mg}function rb(e,t,n){let r=e.type===4&&!n?Mg:e.value;return t===r}function ob(e,t,n){let r=4,o=e.attrs,i=o!==null?ab(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Ye(r)&&!Ye(c))return!1;if(s&&Ye(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!rb(e,c,n)||c===""&&t.length===1){if(Ye(r))return!1;s=!0}}else if(r&8){if(o===null||!nb(e,o,c,n)){if(Ye(r))return!1;s=!0}}else{let l=t[++a],u=ib(c,o,ju(e),n);if(u===-1){if(Ye(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(Ye(r))return!1;s=!0}}}}return Ye(r)||s}function Ye(e){return(e&1)===0}function ib(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return cb(t,e)}function sb(e,t,n=!1){for(let r=0;r<t.length;r++)if(ob(e,t[r],n))return!0;return!1}function ab(e){for(let t=0;t<e.length;t++){let n=e[t];if(gD(n))return t}return e.length}function cb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function kh(e,t){return e?":not("+t.trim()+")":t}function lb(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Ye(s)&&(t+=kh(i,o),o=""),r=s,i=i||!Ye(r);n++}return o!==""&&(t+=kh(i,o)),t}function ub(e){return e.map(lb).join(",")}function db(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!Ye(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var hn={};function fb(e,t){return e.createText(t)}function hb(e,t,n){e.setValue(t,n)}function Tg(e,t,n){return e.createElement(t,n)}function Hs(e,t,n,r,o){e.insertBefore(t,n,r,o)}function xg(e,t,n){e.appendChild(t,n)}function Ph(e,t,n,r,o){r!==null?Hs(e,t,n,r,o):xg(e,t,n)}function pb(e,t,n){e.removeChild(null,t,n)}function gb(e,t,n){e.setAttribute(t,"style",n)}function mb(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ag(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&pD(e,t,r),o!==null&&mb(e,t,o),i!==null&&gb(e,t,i)}function Vu(e,t,n,r,o,i,s,a,c,l,u){let d=Ct+r,h=d+o,f=vb(d,h),g=typeof l=="function"?l():l;return f[V]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function vb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:hn);return n}function yb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Vu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Uu(e,t,n,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[It]=o,d[x]=r|4|128|8|64|1024,(l!==null||e&&e[x]&2048)&&(d[x]|=2048),Np(d),d[ye]=d[gr]=e,d[Ee]=n,d[jt]=s||e&&e[jt],d[ae]=a||e&&e[ae],d[cr]=c||e&&e[cr]||null,d[Je]=i,d[ea]=UD(),d[As]=u,d[bp]=l,d[ot]=t.type==2?e[ot]:d,d}function _b(e,t,n){let r=ut(t,e),o=yb(n),i=e[jt].rendererFactory,s=$u(e,Uu(e,o,null,Ng(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Ng(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Rg(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function $u(e,t){return e[vo]?e[_h][Qe]=t:e[vo]=t,e[_h]=t,t}function Ie(e=1){Og(xe(),W(),yr()+e,!1)}function Og(e,t,n,r){if(!r)if((t[x]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Ds(t,i,n)}else{let i=e.preOrderHooks;i!==null&&bs(t,i,0,n)}an(n)}var oa=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(oa||{});function Ql(e,t,n,r){let o=k(null);try{let[i,s,a]=e.inputs[n],c=null;(s&oa.SignalBased)!==0&&(c=t[i][Pe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Ip(t,c,i,r)}finally{k(o)}}function kg(e,t,n,r,o){let i=yr(),s=r&2;try{an(-1),s&&t.length>Ct&&Og(e,t,Ct,!1),H(s?2:0,o),n(r,o)}finally{an(i),H(s?3:1,o)}}function Bu(e,t,n){Ib(e,t,n),(n.flags&64)===64&&Sb(e,t,n)}function Pg(e,t,n=ut){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function wb(e,t,n,r){let i=r.get(GD,_g)||n===lt.ShadowDom,s=e.selectRootElement(t,i);return Db(s),s}function Db(e){bb(e)}var bb=()=>null;function Cb(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Fg(e,t,n,r,o,i,s,a){if(!a&&Hu(t,e,n,r,o)){mr(t)&&Eb(n,t.index);return}if(t.type&3){let c=ut(t,n);r=Cb(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)}else t.type&12}function Eb(e,t){let n=at(t,e);n[x]&16||(n[x]|=64)}function Ib(e,t,n){let r=n.directiveStart,o=n.directiveEnd;mr(n)&&_b(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Vs(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Us(t,e,s,n);if(Ao(c,t),i!==null&&Ab(t,s-r,c,a,n,i),it(a)){let l=at(n.index,t);l[Ee]=Us(t,e,s,n)}}}function Sb(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=iD();try{an(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];jl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Mb(c,l)}}finally{an(-1),jl(s)}}function Mb(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Lg(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];sb(t,i.selectors,!1)&&(r??=[],it(i)?r.unshift(i):r.push(i))}return r}function Tb(e,t,n,r,o,i){let s=ut(e,t);xb(t[ae],s,i,e.value,n,r,o)}function xb(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?vu(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function Ab(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Ql(r,n,c,l)}}function Nb(e,t){let n=e[cr],r=n?n.get(ct,null):null;r&&r.handleError(t)}function Hu(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Ql(d,n[l],u,o),a=!0}if(i)for(let c of i){let l=n[c],u=t.data[c];Ql(u,l,r,o),a=!0}return a}function Rb(e,t){let n=at(t,e),r=n[V];Ob(r,n);let o=n[It];o!==null&&n[As]===null&&(n[As]=bg(o,n[cr])),H(18),zu(r,n,n[Ee]),H(19,n[Ee])}function Ob(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function zu(e,t,n){Eu(t);try{let r=e.viewQuery;r!==null&&Kl(1,r,n);let o=e.template;o!==null&&kg(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ur]?.finishViewCreation(e),e.staticContentQueries&&Cg(e,t),e.staticViewQueries&&Kl(2,e.viewQuery,n);let i=e.components;i!==null&&kb(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[x]&=-5,Iu()}}function kb(e,t){for(let n=0;n<t.length;n++)Rb(e,t[n])}function Pb(e,t,n,r){let o=k(null);try{let i=t.tView,a=e[x]&4096?4096:16,c=Uu(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[lr]=l;let u=e[ur];return u!==null&&(c[ur]=u.createEmbeddedView(i)),zu(i,c,n),c}finally{k(o)}}function Fh(e,t){return!t||t.firstChild===null||fg(e)}var Fb;function qu(e,t){return Fb(e,t)}var Vt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Vt||{});function jg(e){return(e.flags&32)===32}function rr(e,t,n,r,o){if(r!=null){let i,s=!1;St(r)?i=r:Lt(r)&&(s=!0,r=r[It]);let a=st(r);e===0&&n!==null?o==null?xg(t,n,a):Hs(t,n,a,o||null,!0):e===1&&n!==null?Hs(t,n,a,o||null,!0):e===2?pb(t,a,s):e===3&&t.destroyNode(a),i!=null&&Zb(t,e,i,n,o)}}function Lb(e,t){Vg(e,t),t[It]=null,t[Je]=null}function jb(e,t,n,r,o,i){r[It]=o,r[Je]=t,ia(e,r,n,1,o,i)}function Vg(e,t){t[jt].changeDetectionScheduler?.notify(9),ia(e,t,t[ae],2,null,null)}function Vb(e){let t=e[vo];if(!t)return Dl(e[V],e);for(;t;){let n=null;if(Lt(t))n=t[vo];else{let r=t[Ue];r&&(n=r)}if(!n){for(;t&&!t[Qe]&&t!==e;)Lt(t)&&Dl(t[V],t),t=t[ye];t===null&&(t=e),Lt(t)&&Dl(t[V],t),n=t&&t[Qe]}t=n}}function Gu(e,t){let n=e[ks],r=n.indexOf(t);n.splice(r,1)}function Ug(e,t){if(vr(t))return;let n=t[ae];n.destroyNode&&ia(e,t,n,3,null,null),Vb(t)}function Dl(e,t){if(vr(t))return;let n=k(null);try{t[x]&=-129,t[x]|=256,t[Ve]&&Zc(t[Ve]),$b(e,t),Ub(e,t),t[V].type===1&&t[ae].destroy();let r=t[lr];if(r!==null&&St(t[ye])){r!==t[ye]&&Gu(r,t);let o=t[ur];o!==null&&o.detachView(e)}Gl(t)}finally{k(n)}}function Ub(e,t){let n=e.cleanup,r=t[Ns];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Ns]=null);let o=t[Ft];if(o!==null){t[Ft]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Rs];if(i!==null){t[Rs]=null;for(let s of i)s.destroy()}}function $b(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof cn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];H(4,a,c);try{c.call(a)}finally{H(5,a,c)}}else{H(4,o,i);try{i.call(o)}finally{H(5,o,i)}}}}}function Bb(e,t,n){return Hb(e,t.parent,n)}function Hb(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[It];if(mr(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===lt.None||o===lt.Emulated)return null}return ut(r,n)}function zb(e,t,n){return Gb(e,t,n)}function qb(e,t,n){return e.type&40?ut(e,n):null}var Gb=qb,Lh;function Wu(e,t,n,r){let o=Bb(e,r,t),i=t[ae],s=r.parent||t[Je],a=zb(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ph(i,o,n[c],a,!1);else Ph(i,o,n,a,!1);Lh!==void 0&&Lh(i,r,t,n,o)}function ho(e,t){if(t!==null){let n=t.type;if(n&3)return ut(t,e);if(n&4)return Jl(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return ho(e,r);{let o=e[t.index];return St(o)?Jl(-1,o):st(o)}}else{if(n&128)return ho(e,t.next);if(n&32)return qu(t,e)()||st(e[t.index]);{let r=$g(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=sn(e[ot]);return ho(o,r)}else return ho(e,t.next)}}}return null}function $g(e,t){if(t!==null){let r=e[ot][Je],o=t.projection;return r.projection[o]}return null}function Jl(e,t){let n=Ue+e+1;if(n<t.length){let r=t[n],o=r[V].firstChild;if(o!==null)return ho(r,o)}return t[on]}function Zu(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Ao(st(a),r),n.flags|=2),!jg(n))if(c&8)Zu(e,t,n.child,r,o,i,!1),rr(t,e,o,a,i);else if(c&32){let l=qu(n,r),u;for(;u=l();)rr(t,e,o,u,i);rr(t,e,o,a,i)}else c&16?Wb(e,t,r,n,o,i):rr(t,e,o,a,i);n=s?n.projectionNext:n.next}}function ia(e,t,n,r,o,i){Zu(n,r,e.firstChild,t,o,i,!1)}function Wb(e,t,n,r,o,i){let s=n[ot],c=s[Je].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];rr(t,e,o,u,i)}else{let l=c,u=s[ye];fg(r)&&(l.flags|=128),Zu(e,t,l,u,o,i,!0)}}function Zb(e,t,n,r,o){let i=n[on],s=st(n);i!==s&&rr(t,e,r,i,o);for(let a=Ue;a<n.length;a++){let c=n[a];ia(c[V],c,e,t,r,i)}}function Kb(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Vt.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Vt.Important),e.setStyle(n,r,o,i))}}function zs(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(st(i)),St(i)&&Yb(i,r);let s=n.type;if(s&8)zs(e,t,n.child,r);else if(s&32){let a=qu(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=$g(t,n);if(Array.isArray(a))r.push(...a);else{let c=sn(t[ot]);zs(c[V],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Yb(e,t){for(let n=Ue;n<e.length;n++){let r=e[n],o=r[V].firstChild;o!==null&&zs(r[V],r,o,t)}e[on]!==e[It]&&t.push(e[on])}function Bg(e){if(e[or]!==null){for(let t of e[or])t.impl.addSequence(t);e[or].length=0}}var Hg=[];function Qb(e){return e[Ve]??Jb(e)}function Jb(e){let t=Hg.pop()??Object.create(eC);return t.lView=e,t}function Xb(e){e.lView[Ve]!==e&&(e.lView=null,Hg.push(e))}var eC=F(y({},no),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Eo(e.lView)},consumerOnSignalRead(){this.lView[Ve]=this}});function tC(e){let t=e[Ve]??Object.create(nC);return t.lView=e,t}var nC=F(y({},no),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=sn(e.lView);for(;t&&!zg(t[V]);)t=sn(t);t&&Rp(t)},consumerOnSignalRead(){this.lView[Ve]=this}});function zg(e){return e.type!==2}function qg(e){if(e[Rs]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Rs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[x]&8192)}}var rC=100;function Gg(e,t=!0,n=0){let o=e[jt].rendererFactory,i=!1;i||o.begin?.();try{oC(e,n)}catch(s){throw t&&Nb(e,s),s}finally{i||o.end?.()}}function oC(e,t){let n=Vp();try{Dh(!0),Xl(e,t);let r=0;for(;ta(e);){if(r===rC)throw new w(103,!1);r++,Xl(e,1)}}finally{Dh(n)}}function iC(e,t,n,r){if(vr(t))return;let o=t[x],i=!1,s=!1;Eu(t);let a=!0,c=null,l=null;i||(zg(e)?(l=Qb(t),c=zi(l)):Bc()===null?(a=!1,l=tC(t),c=zi(l)):t[Ve]&&(Zc(t[Ve]),t[Ve]=null));try{Np(t),tD(e.bindingStartIndex),n!==null&&kg(e,t,n,2,r);let u=(o&3)===3;if(!i)if(u){let f=e.preOrderCheckHooks;f!==null&&Ds(t,f,null)}else{let f=e.preOrderHooks;f!==null&&bs(t,f,0,null),_l(t,0)}if(s||sC(t),qg(t),Wg(t,0),e.contentQueries!==null&&Cg(e,t),!i)if(u){let f=e.contentCheckHooks;f!==null&&Ds(t,f)}else{let f=e.contentHooks;f!==null&&bs(t,f,1),_l(t,1)}cC(e,t);let d=e.components;d!==null&&Kg(t,d,0);let h=e.viewQuery;if(h!==null&&Kl(2,h,r),!i)if(u){let f=e.viewCheckHooks;f!==null&&Ds(t,f)}else{let f=e.viewHooks;f!==null&&bs(t,f,2),_l(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[yl]){for(let f of t[yl])f();t[yl]=null}i||(Bg(t),t[x]&=-73)}catch(u){throw i||Eo(t),u}finally{l!==null&&(Gc(l,c),a&&Xb(l)),Iu()}}function Wg(e,t){for(let n=gg(e);n!==null;n=mg(n))for(let r=Ue;r<n.length;r++){let o=n[r];Zg(o,t)}}function sC(e){for(let t=gg(e);t!==null;t=mg(t)){if(!(t[x]&2))continue;let n=t[ks];for(let r=0;r<n.length;r++){let o=n[r];Rp(o)}}}function aC(e,t,n){H(18);let r=at(t,e);Zg(r,n),H(19,r[Ee])}function Zg(e,t){Cu(e)&&Xl(e,t)}function Xl(e,t){let r=e[V],o=e[x],i=e[Ve],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Wc(i)),s||=!1,i&&(i.dirty=!1),e[x]&=-9217,s)iC(r,e,r.template,e[Ee]);else if(o&8192){qg(e),Wg(e,1);let a=r.components;a!==null&&Kg(e,a,1),Bg(e)}}function Kg(e,t,n){for(let r=0;r<t.length;r++)aC(e,t[r],n)}function cC(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)an(~o);else{let i=o,s=n[++r],a=n[++r];oD(s,i);let c=t[i];H(24,c),a(2,c),H(25,c)}}}finally{an(-1)}}function Ku(e,t){let n=Vp()?64:1088;for(e[jt].changeDetectionScheduler?.notify(t);e;){e[x]|=n;let r=sn(e);if(Ps(e)&&!r)return e;e=r}return null}function Yg(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function lC(e,t,n,r=!0){let o=t[V];if(uC(o,t,e,n),r){let s=Jl(n,e),a=t[ae],c=a.parentNode(e[on]);c!==null&&jb(o,e[Je],a,t,c,s)}let i=t[As];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function eu(e,t){if(e.length<=Ue)return;let n=Ue+t,r=e[n];if(r){let o=r[lr];o!==null&&o!==e&&Gu(o,r),t>0&&(e[n-1][Qe]=r[Qe]);let i=Ts(e,Ue+t);Lb(r[V],r);let s=i[ur];s!==null&&s.detachView(i[V]),r[ye]=null,r[Qe]=null,r[x]&=-129}return r}function uC(e,t,n,r){let o=Ue+r,i=n.length;r>0&&(n[o-1][Qe]=t),r<i-Ue?(t[Qe]=n[o],hp(n,Ue+r,t)):(n.push(t),t[Qe]=null),t[ye]=n;let s=t[lr];s!==null&&n!==s&&Qg(s,t);let a=t[ur];a!==null&&a.insertView(e),Fl(t),t[x]|=128}function Qg(e,t){let n=e[ks],r=t[ye];if(Lt(r))e[x]|=2;else{let o=r[ye][ot];t[ot]!==o&&(e[x]|=2)}n===null?e[ks]=[t]:n.push(t)}var _o=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[V];return zs(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ee]}set context(t){this._lView[Ee]=t}get destroyed(){return vr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ye];if(St(t)){let n=t[Os],r=n?n.indexOf(this):-1;r>-1&&(eu(t,r),Ts(n,r))}this._attachedToViewContainer=!1}Ug(this._lView[V],this._lView)}onDestroy(t){Op(this._lView,t)}markForCheck(){Ku(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){Fl(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,Gg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ps(this._lView),n=this._lView[lr];n!==null&&!t&&Gu(n,this._lView),Vg(this._lView[V],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t;let n=Ps(this._lView),r=this._lView[lr];r!==null&&!n&&Qg(r,this._lView),Fl(this._lView)}};var Yu=(()=>{class e{static __NG_ELEMENT_ID__=hC}return e})(),dC=Yu,fC=class extends dC{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=Pb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new _o(o)}};function hC(){return pC(Ae(),W())}function pC(e,t){return e.type&4?new fC(t,e,ra(e,t)):null}function Qu(e,t,n,r,o){let i=e.data[t];if(i===null)i=gC(e,t,n,r,o),rD()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Jw();i.injectorIndex=s===null?-1:s.injectorIndex}return Mo(i,!0),i}function gC(e,t,n,r,o){let i=Lp(),s=jp(),a=s?i:i&&i.parent,c=e.data[t]=vC(e,a,n,t,r,o);return mC(e,c,i,s),c}function mC(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function vC(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Kw()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var ZO=new RegExp(`^(\\d+)*(${qD}|${zD})*(.*)`);var yC=()=>null;function jh(e,t){return yC(e,t)}var _C=class{},Jg=class{},tu=class{resolveComponentFactory(t){throw Error(`No component factory found for ${be(t)}.`)}},sa=class{static NULL=new tu},fr=class{},pn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>wC()}return e})();function wC(){let e=W(),t=Ae(),n=at(t.index,e);return(Lt(n)?n:e)[ae]}var DC=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var bl={},nu=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Qs(r);let o=this.injector.get(t,bl,r);return o!==bl||n===bl?o:this.parentInjector.get(t,n,r)}};function Vh(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=fh(o,a);else if(i==2){let c=a,l=t[++s];r=fh(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function U(e,t=N.Default){let n=W();if(n===null)return S(e,t);let r=Ae();return tg(r,n,ve(e),t)}function Xg(){let e="invalid";throw new Error(e)}function em(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a,c=null,l=null,u=CC(s);u===null?a=s:[a,c,l]=u,SC(e,t,n,a,i,c,l)}i!==null&&r!==null&&bC(n,r,i)}function bC(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new w(-301,!1);r.push(t[o],i)}}function CC(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&it(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,EC(s,r,i,o)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,o,i]):null}function EC(e,t,n,r){let o=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[o,t.length-1])}function IC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function SC(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&it(f)&&(c=!0,IC(e,n,h)),Ul(Vs(n,t),e,f.type)}RC(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Rg(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=yo(n.mergedAttrs,f.hostAttrs),TC(e,n,t,d,f),NC(d,f,o),s!==null&&s.has(f)){let[v,_]=s.get(f);n.directiveToIndex.set(f.type,[d,v+n.directiveStart,_+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}MC(e,n,i)}function MC(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Uh(0,t,o,r),Uh(1,t,o,r),Bh(t,r,!1);else{let i=n.get(o);$h(0,t,i,r),$h(1,t,i,r),Bh(t,r,!0)}}}function Uh(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),tm(t,i)}}function $h(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),tm(t,s)}}function tm(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Bh(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||ju(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function TC(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=sr(o.type,!0)),s=new cn(i,it(o),U);e.blueprint[r]=s,n[r]=s,xC(e,t,r,Rg(e,n,o.hostVars,hn),o)}function xC(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;AC(s)!=a&&s.push(a),s.push(n,r,i)}}function AC(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function NC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;it(t)&&(n[""]=e)}}function RC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function nm(e,t,n,r,o,i,s,a){let c=t.consts,l=Fs(c,s),u=Qu(t,e,2,r,l);return i&&em(t,n,u,Fs(c,a),o),u.mergedAttrs=yo(u.mergedAttrs,u.attrs),u.attrs!==null&&Vh(u,u.attrs,!1),u.mergedAttrs!==null&&Vh(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function rm(e,t){Wp(e,t),Ep(t)&&e.queries.elementEnd(t)}var qs=class extends sa{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=rn(t);return new hr(n,this.ngModule)}};function OC(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&oa.SignalBased)!==0};return o&&(i.transform=o),i})}function kC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function PC(e,t,n){let r=t instanceof Ce?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new nu(n,r):n}function FC(e){let t=e.get(fr,null);if(t===null)throw new w(407,!1);let n=e.get(DC,null),r=e.get(dr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function LC(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Tg(t,n,n==="svg"?$w:n==="math"?Bw:null)}var hr=class extends Jg{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=OC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=kC(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=ub(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o){H(22);let i=k(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:db(this.componentDef.selectors[0]),c=Vu(0,null,null,1,0,null,null,null,null,[a],null),l=PC(s,o||this.ngModule,t),u=FC(l),d=u.rendererFactory.createRenderer(null,s),h=r?wb(d,r,s.encapsulation,l):LC(s,d),f=Uu(null,c,null,512|Ng(s),null,null,u,d,l,null,bg(h,l,!0));f[Ct]=h,Eu(f);let g=null;try{let v=nm(Ct,c,f,"#host",()=>[this.componentDef],!0,0);h&&(Ag(d,h,v),Ao(h,f)),Bu(c,f,v),Eg(c,v,f),rm(c,v),n!==void 0&&jC(v,this.ngContentSelectors,n),g=at(v.index,f),f[Ee]=g[Ee],zu(c,f,null)}catch(v){throw g!==null&&Gl(g),Gl(f),v}finally{H(23),Iu()}return new ru(this.componentType,f)}finally{k(i)}}},ru=class extends _C{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=Ap(n[V],Ct),this.location=ra(this._tNode,n),this.instance=at(this._tNode.index,n)[Ee],this.hostView=this.changeDetectorRef=new _o(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Hu(r,o[V],o,t,n);this.previousInputValues.set(t,n);let s=at(r.index,o);Ku(s,1)}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function jC(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var No=(()=>{class e{static __NG_ELEMENT_ID__=VC}return e})();function VC(){let e=Ae();return $C(e,W())}var UC=No,om=class extends UC{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ra(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){let t=xu(this._hostTNode,this._hostLView);if(Kp(t)){let n=js(t,this._hostLView),r=Ls(t),o=n[V].data[r+8];return new tn(o,n)}else return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Hh(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=jh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Fh(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!Lw(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?t:new hr(rn(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let v=(s?l:this.parentInjector).get(Ce,null);v&&(i=v)}let u=rn(c.componentType??{}),d=jh(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,o,h,i);return this.insertImpl(f.hostView,a,Fh(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Hw(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[ye],l=new om(c,c[Je],c[ye]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return lC(s,o,i,r),t.attachToViewContainerRef(),hp(Cl(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Hh(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=eu(this._lContainer,n);r&&(Ts(Cl(this._lContainer),n),Ug(r[V],r))}detach(t){let n=this._adjustIndex(t,-1),r=eu(this._lContainer,n);return r&&Ts(Cl(this._lContainer),n)!=null?new _o(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Hh(e){return e[Os]}function Cl(e){return e[Os]||(e[Os]=[])}function $C(e,t){let n,r=t[e.index];return St(r)?n=r:(n=Yg(r,t,null,e),t[e.index]=n,$u(t,n)),HC(n,t,e,r),new om(n,e,t)}function BC(e,t){let n=e[ae],r=n.createComment(""),o=ut(t,e),i=n.parentNode(o);return Hs(n,i,r,n.nextSibling(o),!1),r}var HC=GC,zC=()=>!1;function qC(e,t,n){return zC(e,t,n)}function GC(e,t,n,r){if(e[on])return;let o;n.type&8?o=st(r):o=BC(t,n),e[on]=o}var wo=class{},Ju=class{};var ou=class extends wo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qs(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=mp(t);this._bootstrapComponents=Sg(i.bootstrap),this._r3Injector=og(t,n,[{provide:wo,useValue:this},{provide:sa,useValue:this.componentFactoryResolver},...r],be(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},iu=class extends Ju{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ou(this.moduleType,t,[])}};var Gs=class extends wo{injector;componentFactoryResolver=new qs(this);instance=null;constructor(t){super();let n=new mo([...t.providers,{provide:wo,useValue:this},{provide:sa,useValue:this.componentFactoryResolver}],t.parent||Du(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ro(e,t,n=null){return new Gs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var WC=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=vp(!1,n.type),o=r.length>0?Ro([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(S(Ce))})}return e})();function $t(e){return bo(()=>{let t=im(e),n=F(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===hg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(WC).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||lt.Emulated,styles:e.styles||je,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Cr("NgStandalone"),sm(n);let r=e.dependencies;return n.directiveDefs=zh(r,!1),n.pipeDefs=zh(r,!0),n.id=JC(n),n})}function ZC(e){return rn(e)||Ew(e)}function KC(e){return e!==null}function Mt(e){return bo(()=>({type:e.type,bootstrap:e.bootstrap||je,declarations:e.declarations||je,imports:e.imports||je,exports:e.exports||je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function YC(e,t){if(e==null)return nn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=oa.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function QC(e){if(e==null)return nn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function pe(e){return bo(()=>{let t=im(e);return sm(t),t})}function im(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||nn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||je,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YC(e.inputs,t),outputs:QC(e.outputs),debugInfo:null}}function sm(e){e.features?.forEach(t=>t(e))}function zh(e,t){if(!e)return null;let n=t?Iw:ZC;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(KC)}function JC(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function XC(e){return Object.getPrototypeOf(e.prototype).constructor}function Tt(e){let t=XC(e.type),n=!0,r=[e];for(;t;){let o;if(it(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=El(e.inputs),s.declaredInputs=El(e.declaredInputs),s.outputs=El(e.outputs);let a=o.hostBindings;a&&oE(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&nE(e,c),l&&rE(e,l),eE(e,o),nw(e.outputs,o.outputs),it(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Tt&&(n=!1)}}t=Object.getPrototypeOf(t)}tE(r)}function eE(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function tE(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=yo(o.hostAttrs,n=yo(n,o.hostAttrs))}}function El(e){return e===nn?{}:e===je?[]:e}function nE(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function rE(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function oE(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function am(e){return sE(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function iE(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function sE(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function aE(e,t,n){return e[t]=n}function Er(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function cE(e,t,n,r,o,i,s,a,c){let l=t.consts,u=Qu(t,e,4,s||null,a||null);Fp()&&em(t,n,u,Fs(l,c),Lg),u.mergedAttrs=yo(u.mergedAttrs,u.attrs),Wp(t,u);let d=u.tView=Vu(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function lE(e,t,n,r,o,i,s,a,c,l){let u=n+Ct,d=t.firstCreatePass?cE(u,t,e,r,o,i,s,a,c):t.data[u];Mo(d,!1);let h=uE(t,e,d,n);Mu()&&Wu(t,e,h,d),Ao(h,e);let f=Yg(h,e,h,d);return e[u]=f,$u(e,f),qC(f,d,e),bu(d)&&Bu(t,e,d),c!=null&&Pg(e,d,l),d}function Xu(e,t,n,r,o,i,s,a){let c=W(),l=xe(),u=Fs(l.consts,i);return lE(c,l,e,t,n,r,o,u,s,a),Xu}var uE=dE;function dE(e,t,n,r){return Tu(!0),t[ae].createComment("")}var cm=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var lm=new b("");var fE=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new su})}return e})(),su=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Ir(e){return!!e&&typeof e.then=="function"}function hE(e){return!!e&&typeof e.subscribe=="function"}var um=new b("");function ed(e){return Js([{provide:um,multi:!0,useValue:e}])}var dm=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=m(um,{optional:!0})??[];injector=m($e);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Be(this.injector,o);if(Ir(i))n.push(i);else if(hE(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aa=new b("");function pE(){Yc(()=>{throw new w(600,!1)})}function gE(e){return e.isBoundToModule}var mE=10;var ln=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(kD);afterRenderManager=m(Dg);zonelessEnabled=m(Au);rootEffectScheduler=m(fE);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ie;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(wr).hasPendingTasks.pipe(L(n=>!n));constructor(){m(br,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=m(Ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=$e.NULL){H(10);let i=n instanceof Jg;if(!this._injector.get(dm).done){let f="";throw new w(405,f)}let a;i?a=n:a=this._injector.get(sa).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=gE(a)?void 0:this._injector.get(wo),l=r||a.selector,u=a.create(o,[],l,c),d=u.location.nativeElement,h=u.injector.get(lm,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Cs(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),H(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){H(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Fu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let n=k(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(n),this.afterTick.next(),H(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<mE;)H(14),this.synchronizeOnce(),H(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)vE(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ta(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Cs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(aa,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function vE(e,t,n,r){if(!n&&!ta(e))return;Gg(e,t,n&&!r?0:1)}function ca(e,t,n,r){let o=W(),i=na();if(Er(o,i,t)){let s=xe(),a=Su();Tb(a,o,e,t,n,r)}return ca}function yE(e,t,n,r){return Er(e,na(),n)?t+vu(n)+r:hn}function _s(e,t){return e<<17|t<<2}function un(e){return e>>17&32767}function _E(e){return(e&2)==2}function wE(e,t){return e&131071|t<<17}function au(e){return e|2}function pr(e){return(e&131068)>>2}function Il(e,t){return e&-131069|t<<2}function DE(e){return(e&1)===1}function cu(e){return e|1}function bE(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=un(s),c=pr(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Co(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let h=un(e[a+1]);e[r+1]=_s(h,a),h!==0&&(e[h+1]=Il(e[h+1],r)),e[a+1]=wE(e[a+1],r)}else e[r+1]=_s(a,0),a!==0&&(e[a+1]=Il(e[a+1],r)),a=r;else e[r+1]=_s(c,0),a===0?a=r:e[c+1]=Il(e[c+1],r),c=r;l&&(e[r+1]=au(e[r+1])),qh(e,u,r,!0),qh(e,u,r,!1),CE(t,u,e,r,i),s=_s(a,c),i?t.classBindings=s:t.styleBindings=s}function CE(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Co(i,t)>=0&&(n[r+1]=cu(n[r+1]))}function qh(e,t,n,r){let o=e[n+1],i=t===null,s=r?un(o):pr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];EE(c,t)&&(a=!0,e[s+1]=r?cu(l):au(l)),s=r?un(l):pr(l)}a&&(e[n+1]=r?au(o):cu(o))}function EE(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Co(e,t)>=0:!1}function la(e,t,n){let r=W(),o=na();if(Er(r,o,t)){let i=xe(),s=Su();Fg(i,s,r,e,t,r[ae],n,!1)}return la}function Gh(e,t,n,r,o){Hu(t,e,n,o?"class":"style",r)}function ua(e,t){return IE(e,t,null,!0),ua}function IE(e,t,n,r){let o=W(),i=xe(),s=nD(2);if(i.firstUpdatePass&&ME(i,e,s,r),t!==hn&&Er(o,s,t)){let a=i.data[yr()];RE(i,a,o,o[ae],e,o[s+1]=OE(t,n),r,s)}}function SE(e,t){return t>=e.expandoStartIndex}function ME(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[yr()],s=SE(e,n);kE(i,r)&&t===null&&!s&&(t=!1),t=TE(o,i,t,r),bE(o,i,t,n,s,r)}}function TE(e,t,n,r){let o=sD(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Sl(null,e,t,n,r),n=Do(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Sl(o,e,t,n,r),i===null){let c=xE(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Sl(null,e,t,c[1],r),c=Do(c,t.attrs,r),AE(e,t,r,c))}else i=NE(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function xE(e,t,n){let r=n?t.classBindings:t.styleBindings;if(pr(r)!==0)return e[un(r)]}function AE(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[un(o)]=r}function NE(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Do(r,s,n)}return Do(r,t.attrs,n)}function Sl(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Do(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Do(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),bw(e,s,n?!0:t[++i]))}return e===void 0?null:e}function RE(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=DE(l)?Wh(c,t,n,o,pr(l),s):void 0;if(!Ws(u)){Ws(i)||_E(l)&&(i=Wh(c,null,n,o,a,s));let d=xp(yr(),n);Kb(r,s,d,o,i)}}function Wh(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[o+1];h===hn&&(h=d?je:void 0);let f=d?ml(h,r):u===r?h:void 0;if(l&&!Ws(f)&&(f=ml(c,r)),Ws(f)&&(a=f,s))return a;let g=e[o+1];o=s?un(g):pr(g)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=ml(c,r))}return a}function Ws(e){return e!==void 0}function OE(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=be(Ig(e)))),e}function kE(e,t){return(e.flags&(t?8:16))!==0}function re(e,t,n,r){let o=W(),i=xe(),s=Ct+e,a=o[ae],c=i.firstCreatePass?nm(s,i,o,t,Lg,Fp(),n,r):i.data[s],l=PE(i,o,c,a,t,e);o[s]=l;let u=bu(c);return Mo(c,!0),Ag(a,l,c),!jg(c)&&Mu()&&Wu(i,o,l,c),(Gw()===0||u)&&Ao(l,o),Ww(),u&&(Bu(i,o,c),Eg(i,c,o)),r!==null&&Pg(o,c),re}function ue(){let e=Ae();jp()?Xw():(e=e.parent,Mo(e,!1));let t=e;Yw(t)&&Qw(),Zw();let n=xe();return n.firstCreatePass&&rm(n,t),t.classesWithoutHost!=null&&fD(t)&&Gh(n,t,W(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&hD(t)&&Gh(n,t,W(),t.stylesWithoutHost,!1),ue}function Oo(e,t,n,r){return re(e,t,n,r),ue(),Oo}var PE=(e,t,n,r,o,i)=>(Tu(!0),Tg(r,o,lD()));function fm(){return W()}var Zs="en-US";var FE=Zs;function LE(e){typeof e=="string"&&(FE=e.toLowerCase().replace(/_/g,"-"))}function Zh(e,t,n){return function r(o){if(o===Function)return n;let i=mr(e)?at(e.index,t):t;Ku(i,5);let s=t[Ee],a=Kh(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Kh(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Kh(e,t,n,r){let o=k(null);try{return H(6,t,n),n(r)!==!1}catch(i){return jE(e,i),!1}finally{H(7,t,n),k(o)}}function jE(e,t){let n=e[cr],r=n?n.get(ct,null):null;r&&r.handleError(t)}function Yh(e,t,n,r,o,i){let s=t[n],a=t[V],l=a.data[n].outputs[r],u=s[l],d=a.firstCreatePass?Pp(a):null,h=kp(t),f=u.subscribe(i),g=h.length;h.push(i,f),d&&d.push(o,e.index,g,-(g+1))}function Xe(e,t,n,r){let o=W(),i=xe(),s=Ae();return hm(i,o,o[ae],s,e,t,r),Xe}function VE(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Ns],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function hm(e,t,n,r,o,i,s){let a=bu(r),l=e.firstCreatePass?Pp(e):null,u=kp(t),d=!0;if(r.type&3||s){let h=ut(r,t),f=s?s(h):h,g=u.length,v=s?C=>s(st(C[r.index])):r.index,_=null;if(!s&&a&&(_=VE(e,t,o,r.index)),_!==null){let C=_.__ngLastListenerFn__||_;C.__ngNextListenerFn__=i,_.__ngLastListenerFn__=i,d=!1}else{i=Zh(r,t,i),XD(t,f,o,i);let C=n.listen(f,o,i);u.push(i,C),l&&l.push(o,v,g,g+1)}}else i=Zh(r,t,i);if(d){let h=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let g=0;g<f.length;g+=2){let v=f[g],_=f[g+1];Yh(r,t,v,_,o,i)}if(h&&h.length)for(let g of h)Yh(r,t,g,o,o,i)}}function da(e=1){return cD(e)}function Ne(e,t=""){let n=W(),r=xe(),o=e+Ct,i=r.firstCreatePass?Qu(r,o,1,t,null):r.data[o],s=UE(r,n,i,t,e);n[o]=s,Mu()&&Wu(r,n,s,i),Mo(i,!1)}var UE=(e,t,n,r,o)=>(Tu(!0),fb(t[ae],r));function gn(e){return mn("",e,""),gn}function mn(e,t,n){let r=W(),o=yE(r,e,t,n);return o!==hn&&$E(r,yr(),o),mn}function $E(e,t,n){let r=xp(t,e);hb(e[ae],r,n)}function vn(e,t,n){dg(t)&&(t=t());let r=W(),o=na();if(Er(r,o,t)){let i=xe(),s=Su();Fg(i,s,r,e,t,r[ae],n,!1)}return vn}function Sr(e,t){let n=dg(e);return n&&e.set(t),n}function yn(e,t){let n=W(),r=xe(),o=Ae();return hm(r,n,n[ae],o,e,t),yn}function BE(e,t,n){let r=xe();if(r.firstCreatePass){let o=it(e);lu(n,r.data,r.blueprint,o,!0),lu(t,r.data,r.blueprint,o,!1)}}function lu(e,t,n,r,o){if(e=ve(e),Array.isArray(e))for(let i=0;i<e.length;i++)lu(e[i],t,n,r,o);else{let i=xe(),s=W(),a=Ae(),c=ar(e)?e:ve(e.provide),l=wp(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ar(e)||!e.multi){let f=new cn(l,o,U),g=Tl(c,t,o?u:u+h,d);g===-1?(Ul(Vs(a,s),i,c),Ml(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Tl(c,t,u+h,d),g=Tl(c,t,u,u+h),v=f>=0&&n[f],_=g>=0&&n[g];if(o&&!_||!o&&!v){Ul(Vs(a,s),i,c);let C=qE(o?zE:HE,n.length,o,r,l);!o&&_&&(n[g].providerFactory=C),Ml(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(C),s.push(C)}else{let C=pm(n[o?g:f],l,!o&&r);Ml(i,e,f>-1?f:g,C)}!o&&r&&_&&n[g].componentProviders++}}}function Ml(e,t,n,r){let o=ar(t),i=Aw(t);if(o||i){let c=(i?ve(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function pm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Tl(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function HE(e,t,n,r,o){return uu(this.multi,[])}function zE(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Us(r,r[V],this.providerFactory.index,o);s=c.slice(0,a),uu(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],uu(i,s);return s}function uu(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function qE(e,t,n,r,o){let i=new cn(e,n,U);return i.multi=[],i.index=t,i.componentProviders=0,pm(i,o,r&&!n),i}function ko(e,t=[]){return n=>{n.providersResolver=(r,o)=>BE(r,o?o(e):e,t)}}function gm(e,t,n,r){return WE(W(),eD(),e,t,n,r)}function GE(e,t){let n=e[t];return n===hn?void 0:n}function WE(e,t,n,r,o,i){let s=t+n;return Er(e,s,o)?aE(e,s+1,i?r.call(i,o):r(o)):GE(e,s+1)}var du=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},mm=(()=>{class e{compileModuleSync(n){return new iu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=mp(n),i=Sg(o.declarations).reduce((s,a)=>{let c=rn(a);return c&&s.push(new hr(c)),s},[]);return new du(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ZE=(()=>{class e{zone=m(X);changeDetectionScheduler=m(dr);applicationRef=m(ln);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),KE=new b("",{factory:()=>!1});function vm({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new X(F(y({},_m()),{scheduleInRootZone:n})),[{provide:X,useFactory:e},{provide:go,multi:!0,useFactory:()=>{let r=m(ZE,{optional:!0});return()=>r.initialize()}},{provide:go,multi:!0,useFactory:()=>{let r=m(YE);return()=>{r.initialize()}}},t===!0?{provide:sg,useValue:!0}:[],{provide:ag,useValue:n??ig}]}function ym(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=vm({ngZoneFactory:()=>{let o=_m(e);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&Cr("NgZone_CoalesceEvent"),new X(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Js([{provide:KE,useValue:!0},{provide:Au,useValue:!1},r])}function _m(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var YE=(()=>{class e{subscription=new te;initialized=!1;zone=m(X);pendingTasks=m(wr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{X.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{X.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var QE=(()=>{class e{appRef=m(ln);taskService=m(wr);ngZone=m(X);zonelessEnabled=m(Au);tracing=m(br,{optional:!0});disableScheduling=m(sg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new te;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bs):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(ag,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ql||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Th:cg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Th(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JE(){return typeof $localize<"u"&&$localize.locale||Zs}var wm=new b("",{providedIn:"root",factory:()=>m(wm,N.Optional|N.SkipSelf)||JE()});var fu=new b(""),XE=new b("");function uo(e){return!e.moduleRef}function eI(e){let t=uo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(X);return n.run(()=>{uo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ct,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),uo(e)){let i=()=>t.destroy(),s=e.platformInjector.get(fu);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(fu);s.add(i),e.moduleRef.onDestroy(()=>{Cs(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return nI(r,n,()=>{let i=t.get(dm);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(wm,Zs);if(LE(s||Zs),!t.get(XE,!0))return uo(e)?t.get(ln):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(uo(e)){let c=t.get(ln);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return tI(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function tI(e,t){let n=e.injector.get(ln);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new w(-403,!1);t.push(e)}function nI(e,t,n){try{let r=n();return Ir(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Es=null;function rI(e=[],t){return $e.create({name:t,providers:[{provide:Xs,useValue:"platform"},{provide:fu,useValue:new Set([()=>Es=null])},...e]})}function oI(e=[]){if(Es)return Es;let t=rI(e);return Es=t,pE(),iI(t),t}function iI(e){let t=e.get(ku,null);Be(e,()=>{t?.forEach(n=>n())})}var _n=(()=>{class e{static __NG_ELEMENT_ID__=sI}return e})();function sI(e){return aI(Ae(),W(),(e&16)===16)}function aI(e,t,n){if(mr(e)&&!n){let r=at(e.index,t);return new _o(r,r)}else if(e.type&175){let r=t[ot];return new _o(r,t)}return null}var hu=class{constructor(){}supports(t){return am(t)}create(t){return new pu(t)}},cI=(e,t)=>t,pu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||cI}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Qh(r,o,i)?n:r,a=Qh(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let h=0;h<l;h++){let f=h<i.length?i[h]:i[h]=0,g=f+h;u<=g&&g<l&&(i[h]=f+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!am(t))throw new w(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,iE(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new gu(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ks),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ks),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},gu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},mu=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ks=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new mu,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Qh(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function Jh(){return new td([new hu])}var td=(()=>{class e{factories;static \u0275prov=D({token:e,providedIn:"root",factory:Jh});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Jh()),deps:[[e,new ww,new _w]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new w(901,!1)}}return e})();function Dm(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;H(8);try{let i=o?.injector??oI(r),s=[vm({}),{provide:dr,useExisting:QE},...n||[]],a=new Gs({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return eI({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{H(9)}}function Po(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Bt(e){return Xc(e)}function Fo(e,t){return Kc(e,t?.equal)}var Xh=class{[Pe];constructor(t){this[Pe]=t}destroy(){this[Pe].destroy()}};function bm(e){let t=rn(e);if(!t)return null;let n=new hr(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var de=new b("");var Im=null;function ze(){return Im}function nd(e){Im??=e}var Lo=class{},jo=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(Sm),providedIn:"platform"})}return e})(),rd=new b(""),Sm=(()=>{class e extends jo{_location;_history;_doc=m(de);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ze().getBaseHref(this._doc)}onPopState(n){let r=ze().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ze().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function fa(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Cm(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function et(e){return e&&e[0]!=="?"?`?${e}`:e}var xt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(pa),providedIn:"root"})}return e})(),ha=new b(""),pa=(()=>{class e extends xt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return fa(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+et(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+et(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+et(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(S(jo),S(ha,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ht=(()=>{class e{_subject=new ie;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=dI(Cm(Em(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+et(r))}normalize(n){return e.stripTrailingSlash(uI(this._basePath,Em(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+et(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+et(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=et;static joinWithSlash=fa;static stripTrailingSlash=Cm;static \u0275fac=function(r){return new(r||e)(S(xt))};static \u0275prov=D({token:e,factory:()=>lI(),providedIn:"root"})}return e})();function lI(){return new Ht(S(xt))}function uI(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Em(e){return e.replace(/\/index.html$/,"")}function dI(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var id=(()=>{class e extends xt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=fa(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+et(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+et(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(S(jo),S(ha,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var od=/\s+/,Mm=[],sd=(()=>{class e{_ngEl;_renderer;initialClasses=Mm;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(od):Mm}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(od):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(od).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(U(Ut),U(pn))};static \u0275dir=pe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var ga=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ma=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new ga(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),Tm(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Tm(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(U(No),U(Yu),U(td))};static \u0275dir=pe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Tm(e,t){e.context.$implicit=t.item}var Mr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Mt({type:e});static \u0275inj=Et({})}return e})();function ad(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var cd="browser",xm="server";function va(e){return e===xm}var Vo=class{};var Am=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new ld(m(de),window)})}return e})(),ld=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=pI(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function pI(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var wa=new b(""),hd=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(S(wa),S(X))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Uo=class{_doc;constructor(t){this._doc=t}manager},ya="ng-app-id";function Nm(e){for(let t of e)t.remove()}function Rm(e,t){let n=t.createElement("style");return n.textContent=e,n}function mI(e,t,n,r){let o=e.head?.querySelectorAll(`style[${ya}="${t}"],link[${ya}="${t}"]`);if(o)for(let i of o)i.removeAttribute(ya),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function dd(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var pd=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=va(i),mI(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Rm);r?.forEach(o=>this.addUsage(o,this.external,dd))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Nm(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Nm(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Rm(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,dd(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ya,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(S(de),S(Ou),S(Pu,8),S(Dr))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ud={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gd=/%COMP%/g;var km="%COMP%",vI=`_nghost-${km}`,yI=`_ngcontent-${km}`,_I=!0,wI=new b("",{providedIn:"root",factory:()=>_I});function DI(e){return yI.replace(gd,e)}function bI(e){return vI.replace(gd,e)}function Pm(e,t){return t.map(n=>n.replace(gd,e))}var md=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=va(a),this.defaultRenderer=new $o(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===lt.ShadowDom&&(r=F(y({},r),{encapsulation:lt.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof _a?o.applyToHost(n):o instanceof Bo&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case lt.Emulated:i=new _a(c,l,r,this.appId,u,s,a,d,h);break;case lt.ShadowDom:return new fd(c,l,n,r,s,a,this.nonce,d,h);default:i=new Bo(c,l,r,u,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(S(hd),S(pd),S(Ou),S(wI),S(de),S(Dr),S(X),S(Pu),S(br,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),$o=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(ud[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Om(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Om(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=ud[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=ud[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Vt.DashCase|Vt.Important)?t.style.setProperty(n,r,o&Vt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Vt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=ze().getGlobalEventTarget(this.doc,t),!t))throw new w(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Om(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var fd=class extends $o{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=Pm(o.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=dd(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bo=class extends $o{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?Pm(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_a=class extends Bo{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(t,n,r,i,s,a,c,l,u),this.contentAttr=DI(u),this.hostAttr=bI(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Da=class e extends Lo{supportsDOMEvents=!0;static makeCurrent(){nd(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=CI();return n==null?null:EI(n)}resetBaseElement(){Ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ad(document.cookie,t)}},Ho=null;function CI(){return Ho=Ho||document.head.querySelector("base"),Ho?Ho.getAttribute("href"):null}function EI(e){return new URL(e,document.baseURI).pathname}var II=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Lm=(()=>{class e extends Uo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(S(de))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Fm=["alt","control","meta","shift"],SI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},jm=(()=>{class e extends Uo{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ze().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Fm.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=SI[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Fm.forEach(s=>{if(s!==o){let a=MI[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(S(de))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function vd(e,t,n){return Dm(y({rootComponent:e,platformRef:n?.platformRef},TI(t)))}function TI(e){return{appProviders:[...OI,...e?.providers??[]],platformProviders:RI}}function xI(){Da.makeCurrent()}function AI(){return new ct}function NI(){return yg(document),document}var RI=[{provide:Dr,useValue:cd},{provide:ku,useValue:xI,multi:!0},{provide:de,useFactory:NI}];var OI=[{provide:Xs,useValue:"root"},{provide:ct,useFactory:AI},{provide:wa,useClass:Lm,multi:!0,deps:[de]},{provide:wa,useClass:jm,multi:!0,deps:[de]},md,pd,hd,{provide:fr,useExisting:md},{provide:Vo,useClass:II},[]];var Vm=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(S(de))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var A="primary",ni=Symbol("RouteTitle"),bd=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function bn(e){return new bd(e)}function Wm(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function PI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!dt(e[n],t[n]))return!1;return!0}function dt(e,t){let n=e?Cd(e):void 0,r=t?Cd(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Zm(e[o],t[o]))return!1;return!0}function Cd(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Zm(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function Km(e){return e.length>0?e[e.length-1]:null}function Wt(e){return ul(e)?e:Ir(e)?K(Promise.resolve(e)):I(e)}var FI={exact:Qm,subset:Jm},Ym={exact:LI,subset:jI,ignored:()=>!0};function Um(e,t,n){return FI[n.paths](e.root,t.root,n.matrixParams)&&Ym[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function LI(e,t){return dt(e,t)}function Qm(e,t,n){if(!wn(e.segments,t.segments)||!Ea(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Qm(e.children[r],t.children[r],n))return!1;return!0}function jI(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Zm(e[n],t[n]))}function Jm(e,t,n){return Xm(e,t,t.segments,n)}function Xm(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!wn(o,n)||t.hasChildren()||!Ea(o,n,r))}else if(e.segments.length===n.length){if(!wn(e.segments,n)||!Ea(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!Jm(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!wn(e.segments,o)||!Ea(e.segments,o,r)||!e.children[A]?!1:Xm(e.children[A],t,i,r)}}function Ea(e,t,n){return t.every((r,o)=>Ym[n](e[o].parameters,r.parameters))}var ht=class{root;queryParams;fragment;_queryParamMap;constructor(t=new $([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=bn(this.queryParams),this._queryParamMap}toString(){return $I.serialize(this)}},$=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ia(this)}},zt=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=bn(this.parameters),this._parameterMap}toString(){return tv(this)}};function VI(e,t){return wn(e,t)&&e.every((n,r)=>dt(n.parameters,t[r].parameters))}function wn(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function UI(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===A&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==A&&(n=n.concat(t(o,r)))}),n}var Cn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new qt,providedIn:"root"})}return e})(),qt=class{parse(t){let n=new Id(t);return new ht(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${zo(t.root,!0)}`,r=zI(t.queryParams),o=typeof t.fragment=="string"?`#${BI(t.fragment)}`:"";return`${n}${r}${o}`}},$I=new qt;function Ia(e){return e.segments.map(t=>tv(t)).join("/")}function zo(e,t){if(!e.hasChildren())return Ia(e);if(t){let n=e.children[A]?zo(e.children[A],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==A&&r.push(`${o}:${zo(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=UI(e,(r,o)=>o===A?[zo(e.children[A],!1)]:[`${o}:${zo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[A]!=null?`${Ia(e)}/${n[0]}`:`${Ia(e)}/(${n.join("//")})`}}function ev(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ba(e){return ev(e).replace(/%3B/gi,";")}function BI(e){return encodeURI(e)}function Ed(e){return ev(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sa(e){return decodeURIComponent(e)}function $m(e){return Sa(e.replace(/\+/g,"%20"))}function tv(e){return`${Ed(e.path)}${HI(e.parameters)}`}function HI(e){return Object.entries(e).map(([t,n])=>`;${Ed(t)}=${Ed(n)}`).join("")}function zI(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${ba(n)}=${ba(o)}`).join("&"):`${ba(n)}=${ba(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var qI=/^[^\/()?;#]+/;function yd(e){let t=e.match(qI);return t?t[0]:""}var GI=/^[^\/()?;=#]+/;function WI(e){let t=e.match(GI);return t?t[0]:""}var ZI=/^[^=?&#]+/;function KI(e){let t=e.match(ZI);return t?t[0]:""}var YI=/^[^&#]+/;function QI(e){let t=e.match(YI);return t?t[0]:""}var Id=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[A]=new $(t,n)),r}parseSegment(){let t=yd(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(t),new zt(Sa(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=WI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=yd(this.remaining);o&&(r=o,this.capture(r))}t[Sa(n)]=Sa(r)}parseQueryParam(t){let n=KI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=QI(this.remaining);s&&(r=s,this.capture(r))}let o=$m(n),i=$m(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=yd(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new w(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=A);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[A]:new $([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new w(4011,!1)}};function nv(e){return e.segments.length>0?new $([],{[A]:e}):e}function rv(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=rv(o);if(r===A&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new $(e.segments,t);return JI(n)}function JI(e){if(e.numberOfChildren===1&&e.children[A]){let t=e.children[A];return new $(e.segments.concat(t.segments),t.children)}return e}function Rr(e){return e instanceof ht}function ov(e,t,n=null,r=null){let o=iv(e);return sv(o,t,n,r)}function iv(e){let t;function n(i){let s={};for(let c of i.children){let l=n(c);s[c.outlet]=l}let a=new $(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=nv(r);return t??o}function sv(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return _d(o,o,o,n,r);let i=XI(t);if(i.toRoot())return _d(o,o,new $([],{}),n,r);let s=e0(i,o,e),a=s.processChildren?Go(s.segmentGroup,s.index,i.commands):cv(s.segmentGroup,s.index,i.commands);return _d(o,s.segmentGroup,a,n,r)}function Ta(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Zo(e){return typeof e=="object"&&e!=null&&e.outlets}function _d(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=av(e,t,n);let a=nv(rv(s));return new ht(a,i,o)}function av(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=av(i,t,n)}),new $(e.segments,r)}var xa=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ta(r[0]))throw new w(4003,!1);let o=r.find(Zo);if(o&&o!==Km(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XI(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new xa(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new xa(n,t,r)}var Ar=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function e0(e,t,n){if(e.isAbsolute)return new Ar(t,!0,0);if(!n)return new Ar(t,!1,NaN);if(n.parent===null)return new Ar(n,!0,0);let r=Ta(e.commands[0])?0:1,o=n.segments.length-1+r;return t0(n,o,e.numberOfDoubleDots)}function t0(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new w(4005,!1);o=r.segments.length}return new Ar(r,!1,o-i)}function n0(e){return Zo(e[0])?e[0].outlets:{[A]:e}}function cv(e,t,n){if(e??=new $([],{}),e.segments.length===0&&e.hasChildren())return Go(e,t,n);let r=r0(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new $(e.segments.slice(0,r.pathIndex),{});return i.children[A]=new $(e.segments.slice(r.pathIndex),e.children),Go(i,0,o)}else return r.match&&o.length===0?new $(e.segments,{}):r.match&&!e.hasChildren()?Sd(e,t,n):r.match?Go(e,0,o):Sd(e,t,n)}function Go(e,t,n){if(n.length===0)return new $(e.segments,{});{let r=n0(n),o={};if(Object.keys(r).some(i=>i!==A)&&e.children[A]&&e.numberOfChildren===1&&e.children[A].segments.length===0){let i=Go(e.children[A],t,n);return new $(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=cv(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new $(e.segments,o)}}function r0(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(Zo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Hm(c,l,s))return i;r+=2}else{if(!Hm(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Sd(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(Zo(i)){let c=o0(i.outlets);return new $(r,c)}if(o===0&&Ta(n[0])){let c=e.segments[t];r.push(new zt(c.path,Bm(n[0]))),o++;continue}let s=Zo(i)?i.outlets[A]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Ta(a)?(r.push(new zt(s,Bm(a))),o+=2):(r.push(new zt(s,{})),o++)}return new $(r,{})}function o0(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Sd(new $([],{}),0,r))}),t}function Bm(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Hm(e,t,n){return e==n.path&&dt(t,n.parameters)}var Ma="imperative",ce=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ce||{}),Oe=class{id;url;constructor(t,n){this.id=t,this.url=n}},Gt=class extends Oe{type=ce.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nt=class extends Oe{urlAfterRedirects;type=ce.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Se=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Se||{}),Or=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Or||{}),ft=class extends Oe{reason;code;type=ce.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pt=class extends Oe{reason;code;type=ce.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},kr=class extends Oe{error;target;type=ce.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ko=class extends Oe{urlAfterRedirects;state;type=ce.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Aa=class extends Oe{urlAfterRedirects;state;type=ce.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Na=class extends Oe{urlAfterRedirects;state;shouldActivate;type=ce.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ra=class extends Oe{urlAfterRedirects;state;type=ce.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oa=class extends Oe{urlAfterRedirects;state;type=ce.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ka=class{route;type=ce.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pa=class{route;type=ce.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fa=class{snapshot;type=ce.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},La=class{snapshot;type=ce.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ja=class{snapshot;type=ce.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Va=class{snapshot;type=ce.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pr=class{routerEvent;position;anchor;type=ce.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Yo=class{},Fr=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function i0(e,t){return e.providers&&!e._injector&&(e._injector=Ro(e.providers,t,`Route: ${e.path}`)),e._injector??t}function tt(e){return e.outlet||A}function s0(e,t){let n=e.filter(r=>tt(r)===t);return n.push(...e.filter(r=>tt(r)!==t)),n}function ri(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ua=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ri(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new En(this.rootInjector)}},En=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ua(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(S(Ce))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$a=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Md(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Md(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Td(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Td(t,this._root).map(n=>n.value)}};function Md(e,t){if(e===t.value)return t;for(let n of t.children){let r=Md(e,n);if(r)return r}return null}function Td(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Td(e,n);if(r.length)return r.unshift(t),r}return[]}var Re=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function xr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Qo=class extends $a{snapshot;constructor(t,n){super(t),this.snapshot=n,Fd(this,t)}toString(){return this.snapshot.toString()}};function lv(e){let t=a0(e),n=new fe([new zt("",{})]),r=new fe({}),o=new fe({}),i=new fe({}),s=new fe(""),a=new At(n,r,i,s,o,A,e,t.root);return a.snapshot=t.root,new Qo(new Re(a,[]),t)}function a0(e){let t={},n={},r={},o="",i=new Dn([],t,r,o,n,A,e,null,{});return new Jo("",new Re(i,[]))}var At=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[ni]))??I(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(t=>bn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(t=>bn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ba(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:y(y({},t.params),e.params),data:y(y({},t.data),e.data),resolve:y(y(y(y({},e.data),t.data),o?.data),e._resolvedData)}:r={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},o&&dv(o)&&(r.resolve[ni]=o.title),r}var Dn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ni]}constructor(t,n,r,o,i,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Jo=class extends $a{url;constructor(t,n){super(n),this.url=t,Fd(this,n)}toString(){return uv(this._root)}};function Fd(e,t){t.value._routerState=e,t.children.forEach(n=>Fd(e,n))}function uv(e){let t=e.children.length>0?` { ${e.children.map(uv).join(", ")} } `:"";return`${e.value}${t}`}function wd(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,dt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),dt(t.params,n.params)||e.paramsSubject.next(n.params),PI(t.url,n.url)||e.urlSubject.next(n.url),dt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function xd(e,t){let n=dt(e.params,t.params)&&VI(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||xd(e.parent,t.parent))}function dv(e){return typeof e.title=="string"||e.title===null}var fv=new b(""),oi=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=A;activateEvents=new se;deactivateEvents=new se;attachEvents=new se;detachEvents=new se;routerOutletData=ug(void 0);parentContexts=m(En);location=m(No);changeDetector=m(_n);inputBinder=m(ii,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Ad(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fn]})}return e})(),Ad=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===At?this.route:t===En?this.childContexts:t===fv?this.outletData:this.parent.get(t,n)}},ii=new b(""),Ld=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=co([r.queryParams,r.params,r.data]).pipe(Fe(([i,s,a],c)=>(a=y(y(y({},i),s),a),c===0?I(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=bm(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),jd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=$t({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Oo(0,"router-outlet")},dependencies:[oi],encapsulation:2})}return e})();function Vd(e){let t=e.children&&e.children.map(Vd),n=t?F(y({},e),{children:t}):y({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==A&&(n.component=jd),n}function c0(e,t,n){let r=Xo(e,t._root,n?n._root:void 0);return new Qo(r,t)}function Xo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=l0(e,t,n);return new Re(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Xo(e,a)),s}}let r=u0(t.value),o=t.children.map(i=>Xo(e,i));return new Re(r,o)}}function l0(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Xo(e,r,o);return Xo(e,r)})}function u0(e){return new At(new fe(e.url),new fe(e.params),new fe(e.queryParams),new fe(e.fragment),new fe(e.data),e.outlet,e.component,e)}var Lr=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},hv="ngNavigationCancelingError";function Ha(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Rr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=pv(!1,Se.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function pv(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[hv]=!0,n.cancellationCode=t,n}function d0(e){return gv(e)&&Rr(e.url)}function gv(e){return!!e&&e[hv]}var f0=(e,t,n,r)=>L(o=>(new Nd(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Nd=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),wd(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=xr(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=xr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=xr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=xr(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Va(i.value.snapshot))}),t.children.length&&this.forwardEvent(new La(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(wd(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wd(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},za=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Nr=class{component;route;constructor(t,n){this.component=t,this.route=n}};function h0(e,t,n){let r=e._root,o=t?t._root:null;return qo(r,o,n,[r.value])}function p0(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Vr(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!ip(e)?e:t.get(e):r}function qo(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=xr(t);return e.children.forEach(s=>{g0(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Wo(a,n.getContext(s),o)),o}function g0(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=m0(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new za(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?qo(e,t,a?a.children:null,r,o):qo(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Nr(a.outlet.component,s))}else s&&Wo(t,a,o),o.canActivateChecks.push(new za(r)),i.component?qo(e,null,a?a.children:null,r,o):qo(e,null,n,r,o);return o}function m0(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!wn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wn(e.url,t.url)||!dt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xd(e,t)||!dt(e.queryParams,t.queryParams);case"paramsChange":default:return!xd(e,t)}}function Wo(e,t,n){let r=xr(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?Wo(s,t.children.getContext(i),n):Wo(s,null,n):Wo(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Nr(t.outlet.component,o)):n.canDeactivateChecks.push(new Nr(null,o)):n.canDeactivateChecks.push(new Nr(null,o))}function si(e){return typeof e=="function"}function v0(e){return typeof e=="boolean"}function y0(e){return e&&si(e.canLoad)}function _0(e){return e&&si(e.canActivate)}function w0(e){return e&&si(e.canActivateChild)}function D0(e){return e&&si(e.canDeactivate)}function b0(e){return e&&si(e.canMatch)}function mv(e){return e instanceof _t||e?.name==="EmptyError"}var Ca=Symbol("INITIAL_VALUE");function jr(){return Fe(e=>co(e.map(t=>t.pipe(Dt(1),pl(Ca)))).pipe(L(t=>{for(let n of t)if(n!==!0){if(n===Ca)return Ca;if(n===!1||C0(n))return n}return!0}),Te(t=>t!==Ca),Dt(1)))}function C0(e){return Rr(e)||e instanceof Lr}function E0(e,t){return J(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?I(F(y({},n),{guardsResult:!0})):I0(s,r,o,e).pipe(J(a=>a&&v0(a)?S0(r,i,e,t):I(a)),L(a=>F(y({},n),{guardsResult:a})))})}function I0(e,t,n,r){return K(e).pipe(J(o=>N0(o.component,o.route,n,t,r)),bt(o=>o!==!0,!0))}function S0(e,t,n,r){return K(t).pipe(kt(o=>Jn(T0(o.route.parent,r),M0(o.route,r),A0(e,o.path,n),x0(e,o.route,n))),bt(o=>o!==!0,!0))}function M0(e,t){return e!==null&&t&&t(new ja(e)),I(!0)}function T0(e,t){return e!==null&&t&&t(new Fa(e)),I(!0)}function x0(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return I(!0);let o=r.map(i=>ms(()=>{let s=ri(t)??n,a=Vr(i,s),c=_0(a)?a.canActivate(t,e):Be(s,()=>a(t,e));return Wt(c).pipe(bt())}));return I(o).pipe(jr())}function A0(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>p0(s)).filter(s=>s!==null).map(s=>ms(()=>{let a=s.guards.map(c=>{let l=ri(s.node)??n,u=Vr(c,l),d=w0(u)?u.canActivateChild(r,e):Be(l,()=>u(r,e));return Wt(d).pipe(bt())});return I(a).pipe(jr())}));return I(i).pipe(jr())}function N0(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return I(!0);let s=i.map(a=>{let c=ri(t)??o,l=Vr(a,c),u=D0(l)?l.canDeactivate(e,t,n,r):Be(c,()=>l(e,t,n,r));return Wt(u).pipe(bt())});return I(s).pipe(jr())}function R0(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return I(!0);let i=o.map(s=>{let a=Vr(s,e),c=y0(a)?a.canLoad(t,n):Be(e,()=>a(t,n));return Wt(c)});return I(i).pipe(jr(),vv(r))}function vv(e){return sl(he(t=>{if(typeof t!="boolean")throw Ha(e,t)}),L(t=>t===!0))}function O0(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return I(!0);let i=o.map(s=>{let a=Vr(s,e),c=b0(a)?a.canMatch(t,n):Be(e,()=>a(t,n));return Wt(c)});return I(i).pipe(jr(),vv(r))}var ei=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ti=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Tr(e){return Yn(new ei(e))}function k0(e){return Yn(new w(4e3,!1))}function P0(e){return Yn(pv(!1,Se.GuardRejected))}var Rd=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return I(r);if(o.numberOfChildren>1||!o.children[A])return k0(`${t.redirectTo}`);o=o.children[A]}}applyRedirectCommands(t,n,r,o,i){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:f,data:g,title:v}=o,_=Be(i,()=>a({params:f,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:v}));if(_ instanceof ht)throw new ti(_);n=_}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new ti(s);return s}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new ht(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new $(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new w(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}},Od={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F0(e,t,n,r,o){let i=yv(e,t,n);return i.matched?(r=i0(t,r),O0(r,t,n,o).pipe(L(s=>s===!0?i:y({},Od)))):I(i)}function yv(e,t,n){if(t.path==="**")return L0(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?y({},Od):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||Wm)(n,e,t);if(!o)return y({},Od);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?y(y({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function L0(e){return{matched:!0,parameters:e.length>0?Km(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function zm(e,t,n,r){return n.length>0&&U0(e,n,r)?{segmentGroup:new $(t,V0(r,new $(n,e.children))),slicedSegments:[]}:n.length===0&&$0(e,n,r)?{segmentGroup:new $(e.segments,j0(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new $(e.segments,e.children),slicedSegments:n}}function j0(e,t,n,r){let o={};for(let i of n)if(Ga(e,t,i)&&!r[tt(i)]){let s=new $([],{});o[tt(i)]=s}return y(y({},r),o)}function V0(e,t){let n={};n[A]=t;for(let r of e)if(r.path===""&&tt(r)!==A){let o=new $([],{});n[tt(r)]=o}return n}function U0(e,t,n){return n.some(r=>Ga(e,t,r)&&tt(r)!==A)}function $0(e,t,n){return n.some(r=>Ga(e,t,r))}function Ga(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function B0(e,t,n){return t.length===0&&!e.children[n]}var kd=class{};function H0(e,t,n,r,o,i,s="emptyOnly"){return new Pd(e,t,n,r,o,s,i).recognize()}var z0=31,Pd=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Rd(this.urlSerializer,this.urlTree)}noMatchError(t){return new w(4002,`'${t.segmentGroup}'`)}recognize(){let t=zm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(L(({children:n,rootSnapshot:r})=>{let o=new Re(r,n),i=new Jo("",o),s=ov(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new Dn([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),A,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,A,n).pipe(L(r=>({children:r,rootSnapshot:n})),wt(r=>{if(r instanceof ti)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ei?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(L(s=>s instanceof Re?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return K(i).pipe(kt(s=>{let a=r.children[s],c=s0(n,s);return this.processSegmentGroup(t,c,a,s,o)}),hl((s,a)=>(s.push(...a),s)),Pt(null),fl(),J(s=>{if(s===null)return Tr(r);let a=_v(s);return q0(a),I(a)}))}processSegment(t,n,r,o,i,s,a){return K(n).pipe(kt(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(wt(l=>{if(l instanceof ei)return I(null);throw l}))),bt(c=>!!c),wt(c=>{if(mv(c))return B0(r,o,i)?I(new kd):Tr(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return tt(r)!==s&&(s===A||!Ga(o,i,r))?Tr(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):Tr(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=yv(n,o,i);if(!c)return Tr(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>z0&&(this.allowRedirects=!1));let f=new Dn(i,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,qm(o),tt(o),o.component??o._loadedComponent??null,o,Gm(o)),g=Ba(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(o,v).pipe(J(_=>this.processSegment(t,r,n,_.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=F0(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Fe(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Fe(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new Dn(h,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,qm(r),tt(r),r.component??r._loadedComponent??null,r,Gm(r)),v=Ba(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:C}=zm(n,h,f,l);if(C.length===0&&_.hasChildren())return this.processChildren(u,l,_,g).pipe(L(Q=>new Re(g,Q)));if(l.length===0&&C.length===0)return I(new Re(g,[]));let q=tt(r)===i;return this.processSegment(u,l,_,C,q?A:i,!0,g).pipe(L(Q=>new Re(g,Q instanceof Re?[Q]:[])))}))):Tr(n)))}getChildConfig(t,n,r){return n.children?I({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?I({routes:n._loadedRoutes,injector:n._loadedInjector}):R0(t,n,r,this.urlSerializer).pipe(J(o=>o?this.configLoader.loadChildren(t,n).pipe(he(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):P0(n))):I({routes:[],injector:t})}};function q0(e){e.sort((t,n)=>t.value.outlet===A?-1:n.value.outlet===A?1:t.value.outlet.localeCompare(n.value.outlet))}function G0(e){let t=e.value.routeConfig;return t&&t.path===""}function _v(e){let t=[],n=new Set;for(let r of e){if(!G0(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=_v(r.children);t.push(new Re(r.value,o))}return t.filter(r=>!n.has(r))}function qm(e){return e.data||{}}function Gm(e){return e.resolve||{}}function W0(e,t,n,r,o,i){return J(s=>H0(e,t,n,r,s.extractedUrl,o,i).pipe(L(({state:a,tree:c})=>F(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Z0(e,t){return J(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return I(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of wv(c))s.add(l);let a=0;return K(s).pipe(kt(c=>i.has(c)?K0(c,r,e,t):(c.data=Ba(c,c.parent,e).resolve,I(void 0))),he(()=>a++),Xn(1),J(c=>a===s.size?I(n):we))})}function wv(e){let t=e.children.map(n=>wv(n)).flat();return[e,...t]}function K0(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!dv(o)&&(i[ni]=o.title),Y0(i,e,t,r).pipe(L(s=>(e._resolvedData=s,e.data=Ba(e,e.parent,n).resolve,null)))}function Y0(e,t,n,r){let o=Cd(e);if(o.length===0)return I({});let i={};return K(o).pipe(J(s=>Q0(e[s],t,n,r).pipe(bt(),he(a=>{if(a instanceof Lr)throw Ha(new qt,a);i[s]=a}))),Xn(1),L(()=>i),wt(s=>mv(s)?we:Yn(s)))}function Q0(e,t,n,r){let o=ri(t)??r,i=Vr(e,o),s=i.resolve?i.resolve(t,n):Be(o,()=>i(t,n));return Wt(s)}function Dd(e){return Fe(t=>{let n=e(t);return n?K(n).pipe(L(()=>t)):I(t)})}var Ud=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===A);return r}getResolvedTitleForRoute(n){return n.data[ni]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(Dv),providedIn:"root"})}return e})(),Dv=(()=>{class e extends Ud{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(S(Vm))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),In=new b("",{providedIn:"root",factory:()=>({})}),Sn=new b(""),Wa=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(mm);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return I(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Wt(n.loadComponent()).pipe(L(Cv),he(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),lo(()=>{this.componentLoaders.delete(n)})),o=new Kn(r,()=>new ie).pipe(Zn());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return I({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=bv(r,this.compiler,n,this.onLoadEndListener).pipe(lo(()=>{this.childrenLoaders.delete(r)})),s=new Kn(i,()=>new ie).pipe(Zn());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bv(e,t,n,r){return Wt(e.loadChildren()).pipe(L(Cv),J(o=>o instanceof Ju||Array.isArray(o)?I(o):K(t.compileModuleAsync(o))),L(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(Sn,[],{optional:!0,self:!0}).flat()),{routes:s.map(Vd),injector:i}}))}function J0(e){return e&&typeof e=="object"&&"default"in e}function Cv(e){return J0(e)?e.default:e}var Za=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(X0),providedIn:"root"})}return e})(),X0=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$d=new b(""),Bd=new b("");function Ev(e,t,n){let r=e.get(Bd),o=e.get(de);return e.get(X).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,s=new Promise(l=>{i=l}),a=o.startViewTransition(()=>(i(),eS(e))),{onViewTransitionCreated:c}=r;return c&&Be(e,()=>c({transition:a,from:t,to:n})),s})}function eS(e){return new Promise(t=>{Lu({read:()=>setTimeout(t)},{injector:e})})}var Hd=new b(""),Ka=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ie;transitionAbortSubject=new ie;configLoader=m(Wa);environmentInjector=m(Ce);destroyRef=m(To);urlSerializer=m(Cn);rootContexts=m(En);location=m(Ht);inputBindingEnabled=m(ii,{optional:!0})!==null;titleStrategy=m(Ud);options=m(In,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(Za);createViewTransition=m($d,{optional:!0});navigationErrorHandler=m(Hd,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>I(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new ka(o)),r=o=>this.events.next(new Pa(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(F(y({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new fe(null),this.transitions.pipe(Te(r=>r!==null),Fe(r=>{let o=!1,i=!1;return I(r).pipe(Fe(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Se.SupersededByNewNavigation),we;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?F(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new pt(s.id,this.urlSerializer.serialize(s.rawUrl),l,Or.IgnoredSameUrlNavigation)),s.resolve(!1),we}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return I(s).pipe(Fe(l=>(this.events.next(new Gt(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?we:Promise.resolve(l))),W0(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),he(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=F(y({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Ko(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:h,extras:f}=s,g=new Gt(l,this.urlSerializer.serialize(u),d,h);this.events.next(g);let v=lv(this.rootComponentType).snapshot;return this.currentTransition=r=F(y({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:F(y({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,I(r)}else{let l="";return this.events.next(new pt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Or.IgnoredByUrlHandlingStrategy)),s.resolve(!1),we}}),he(s=>{let a=new Aa(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),L(s=>(this.currentTransition=r=F(y({},s),{guards:h0(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),E0(this.environmentInjector,s=>this.events.next(s)),he(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Ha(this.urlSerializer,s.guardsResult);let a=new Na(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Te(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Se.GuardRejected),!1)),Dd(s=>{if(s.guards.canActivateChecks.length!==0)return I(s).pipe(he(a=>{let c=new Ra(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Fe(a=>{let c=!1;return I(a).pipe(Z0(this.paramsInheritanceStrategy,this.environmentInjector),he({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Se.NoDataFromResolver)}}))}),he(a=>{let c=new Oa(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Dd(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(he(u=>{c.component=u}),L(()=>{})));for(let u of c.children)l.push(...a(u));return l};return co(a(s.targetSnapshot.root)).pipe(Pt(null),Dt(1))}),Dd(()=>this.afterPreactivation()),Fe(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?K(c).pipe(L(()=>r)):I(r)}),L(s=>{let a=c0(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=F(y({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),he(()=>{this.events.next(new Yo)}),f0(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Dt(1),he({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),gl(this.transitionAbortSubject.pipe(he(s=>{throw s}))),lo(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Se.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),wt(s=>{if(this.destroyed)return r.resolve(!1),we;if(i=!0,gv(s))this.events.next(new ft(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),d0(s)?this.events.next(new Fr(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new kr(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Lr){let{message:l,cancellationCode:u}=Ha(this.urlSerializer,c);this.events.next(new ft(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Fr(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return we}))}))}cancelNavigationTransition(n,r,o){let i=new ft(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tS(e){return e!==Ma}var Iv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(nS),providedIn:"root"})}return e})(),qa=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},nS=(()=>{class e extends qa{static \u0275fac=(()=>{let n;return function(o){return(n||(n=_r(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sv=(()=>{class e{urlSerializer=m(Cn);options=m(In,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(Ht);urlHandlingStrategy=m(Za);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ht;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof ht?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=lv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(rS),providedIn:"root"})}return e})(),rS=(()=>{class e extends Sv{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Gt?this.updateStateMemento():n instanceof pt?this.commitTransition(r):n instanceof Ko?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Yo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ft&&(n.code===Se.GuardRejected||n.code===Se.NoDataFromResolver)?this.restoreHistory(r):n instanceof kr?this.restoreHistory(r,!0):n instanceof nt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=y(y({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=y(y({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=_r(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ya(e,t){e.events.pipe(Te(n=>n instanceof nt||n instanceof ft||n instanceof kr||n instanceof pt),L(n=>n instanceof nt||n instanceof pt?0:(n instanceof ft?n.code===Se.Redirect||n.code===Se.SupersededByNewNavigation:!1)?2:1),Te(n=>n!==2),Dt(1)).subscribe(()=>{t()})}var oS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ke=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(cm);stateManager=m(Sv);options=m(In,{optional:!0})||{};pendingTasks=m(wr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(Ka);urlSerializer=m(Cn);location=m(Ht);urlHandlingStrategy=m(Za);_events=new ie;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(Iv);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(Sn,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(ii,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new te;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof ft&&r.code!==Se.Redirect&&r.code!==Se.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nt)this.navigated=!0;else if(r instanceof Fr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=y({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tS(o.source)},s);this.scheduleNavigation(a,Ma,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}aS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ma,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=y({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Vd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=iv(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return sv(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Rr(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ma,null,r)}navigate(n,r={skipLocationChange:!1}){return sS(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=y({},oS):r===!1?o=y({},iS):o=r,Rr(n))return Um(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Um(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return Ya(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sS(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new w(4008,!1)}function aS(e){return!(e instanceof Yo)&&!(e instanceof Fr)}var ai=class{};var Mv=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Te(n=>n instanceof nt),kt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Ro(i.providers,n,`Route: ${i.path}`));let s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return K(o).pipe(Qn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=I(null);let i=o.pipe(J(s=>s===null?I(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return K([i,s]).pipe(Qn())}else return i})}static \u0275fac=function(r){return new(r||e)(S(ke),S(Ce),S(ai),S(Wa))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Tv=new b(""),cS=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Gt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof nt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof pt&&n.code===Or.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Pr&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pr(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Xg()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function qd(e,...t){return Js([{provide:Sn,multi:!0,useValue:e},[],{provide:At,useFactory:xv,deps:[ke]},{provide:aa,multi:!0,useFactory:Av},t.map(n=>n.\u0275providers)])}function xv(e){return e.routerState.root}function ci(e,t){return{\u0275kind:e,\u0275providers:t}}function Av(){let e=m($e);return t=>{let n=e.get(ln);if(t!==n.components[0])return;let r=e.get(ke),o=e.get(Nv);e.get(Gd)===1&&r.initialNavigation(),e.get(kv,null,N.Optional)?.setUpPreloading(),e.get(Tv,null,N.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Nv=new b("",{factory:()=>new ie}),Gd=new b("",{providedIn:"root",factory:()=>1});function Rv(){let e=[{provide:Gd,useValue:0},ed(()=>{let t=m($e);return t.get(rd,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(ke),i=t.get(Nv);Ya(o,()=>{r(!0)}),t.get(Ka).afterPreactivation=()=>(r(!0),i.closed?I(void 0):i),o.initialNavigation()}))})];return ci(2,e)}function Ov(){let e=[ed(()=>{m(ke).setUpLocationChangeListener()}),{provide:Gd,useValue:2}];return ci(3,e)}var kv=new b("");function Pv(e){return ci(0,[{provide:kv,useExisting:Mv},{provide:ai,useExisting:e}])}function Fv(){return ci(8,[Ld,{provide:ii,useExisting:Ld}])}function Lv(e){Cr("NgRouterViewTransitions");let t=[{provide:$d,useValue:Ev},{provide:Bd,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return ci(9,t)}var jv=[Ht,{provide:Cn,useClass:qt},ke,En,{provide:At,useFactory:xv,deps:[ke]},Wa,[]],Wd=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[jv,[],{provide:Sn,multi:!0,useValue:n},[],r?.errorHandler?{provide:Hd,useValue:r.errorHandler}:[],{provide:In,useValue:r||{}},r?.useHash?uS():dS(),lS(),r?.preloadingStrategy?Pv(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?fS(r):[],r?.bindToComponentInputs?Fv().\u0275providers:[],r?.enableViewTransitions?Lv().\u0275providers:[],hS()]}}static forChild(n){return{ngModule:e,providers:[{provide:Sn,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Mt({type:e});static \u0275inj=Et({})}return e})();function lS(){return{provide:Tv,useFactory:()=>{let e=m(Am),t=m(X),n=m(In),r=m(Ka),o=m(Cn);return n.scrollOffset&&e.setOffset(n.scrollOffset),new cS(o,r,e,t,n)}}}function uS(){return{provide:xt,useClass:id}}function dS(){return{provide:xt,useClass:pa}}function fS(e){return[e.initialNavigation==="disabled"?Ov().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Rv().\u0275providers:[]]}var zd=new b("");function hS(){return[{provide:zd,useFactory:Av},{provide:aa,multi:!0,useExisting:zd}]}var Vv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var li=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Qa=class extends li{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ui=class extends li{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},di=class extends li{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Kd=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Kd||{});var gS=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},fi=class{constructor(t,{headers:n={},customFetch:r,region:o=Kd.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Vv(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return gS(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=n,a={},{region:c}=n;c||(c=this.region);let l=new URL(`${this.url}/${t}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let d=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:u}).catch(v=>{throw new Qa(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new ui(d);if(!d.ok)throw new di(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(o){return{data:null,error:o,response:o instanceof di||o instanceof ui?o.context:void 0}}})}};var Yv=w_(Kv(),1),{PostgrestClient:Qv,PostgrestQueryBuilder:D1,PostgrestFilterBuilder:b1,PostgrestTransformBuilder:C1,PostgrestBuilder:E1,PostgrestError:IS}=Yv.default;var cf=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},lf=cf;var Jv="2.15.5";var Xv=`realtime-js/${Jv}`,ey="1.0.0";var _i=1e4,ty=1e3,ny=100,wi=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(wi||{}),le=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(le||{}),qe=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(qe||{}),uf=function(e){return e.websocket="websocket",e}(uf||{}),Mn=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Mn||{});var Xa=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var $r=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Z=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Z||{}),ff=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=SS(s,e,t,o),i),{})},SS=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?ry(i,s):df(s)},ry=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return AS(t,n)}switch(e){case Z.bool:return MS(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return TS(t);case Z.json:case Z.jsonb:return xS(t);case Z.timestamp:return NS(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return df(t);default:return df(t)}},df=e=>e,MS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TS=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AS=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>ry(t,a))}return e},NS=e=>typeof e=="string"?e.replace(" ","T"):e,ec=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};var Br=class{constructor(t,n,r={},o=_i){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Di=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let h=u.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),g=u.filter(_=>f.indexOf(_.presence_ref)<0),v=d.filter(_=>h.indexOf(_.presence_ref)<0);g.length>0&&(a[l]=g),v.length>0&&(c[l]=v)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,o(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var bi=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(bi||{}),Nt=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Nt||{});var Ci=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Br(this,qe.join,this.params,this.timeout),this.rejoinTimer=new $r(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Di(this),this.broadcastEndpointURL=ec(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[bi.PRESENCE]&&this.bindings[bi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Nt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>p(this,[g],function*({postgres_changes:f}){var v;if(this.socket.setAuth(),f===void 0){t?.(Nt.SUBSCRIBED);return}else{let _=this.bindings.postgres_changes,C=(v=_?.length)!==null&&v!==void 0?v:0,q=[];for(let Q=0;Q<C;Q++){let E=_[Q],{filter:{event:G,schema:$n,table:Y,filter:me}}=E,Bn=f&&f[Q];if(Bn&&Bn.event===G&&Bn.schema===$n&&Bn.table===Y&&Bn.filter===me)q.push(Object.assign(Object.assign({},E),{id:Bn.id}));else{this.unsubscribe(),this.state=le.errored,t?.(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,t&&t(Nt.SUBSCRIBED);return}})).receive("error",f=>{this.state=le.errored,t?.(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===le.joined&&t===bi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}send(r){return p(this,arguments,function*(t,n={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=le.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Br(this,qe.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Br(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ny){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=qe;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,v,_;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(v=f.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,v,_,C,q,Q;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,G=(g=f.filter)===null||g===void 0?void 0:g.event;return E&&((v=n.ids)===null||v===void 0?void 0:v.includes(E))&&(G==="*"||G?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{let E=(q=(C=f?.filter)===null||C===void 0?void 0:C.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return E==="*"||E===((Q=n?.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:v,table:_,commit_timestamp:C,type:q,errors:Q}=g;h=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:C,eventType:q,new:{},old:{},errors:Q}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qe.close,{},t)}_onError(t){this._on(qe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ff(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ff(t.columns,t.old_record)),n}};var hf=()=>{},tc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OS=[1e3,2e3,5e3,1e4],kS=1e4,PS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ei=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_i,this.transport=null,this.heartbeatIntervalMs=tc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hf,this.ref=0,this.reconnectTimer=null,this.logger=hf,this.conn=null,this.sendBuffer=[],this.serializer=new Xa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${uf.websocket}`,this.httpEndpoint=ec(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lf.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ey}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return p(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wi.connecting:return Mn.Connecting;case wi.open:return Mn.Open;case wi.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Ci(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return p(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return p(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ty,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},tc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([PS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return p(this,null,function*(){let n;t?n=t:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:Xv};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(qe.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return p(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $r(()=>p(this,null,function*(){setTimeout(()=>p(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),tc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,l,u;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:_i,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:tc.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:hf,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:d=>OS[d-1]||kS,this.encode=(l=t?.encode)!==null&&l!==void 0?l:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Hr=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var nc=class extends Hr{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Tn=class extends Hr{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var FS=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},oc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},oy=()=>FS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),rc=e=>{if(Array.isArray(e))return e.map(n=>rc(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=rc(r)}),t},iy=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var xn=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},pf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LS=(e,t,n)=>xn(void 0,void 0,void 0,function*(){let r=yield oy();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{let i=e.status||500,s=o?.statusCode||i+"";t(new nc(pf(o),i,s))}).catch(o=>{t(new Tn(pf(o),o))}):t(new Tn(pf(e),e))}),jS=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(iy(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function Ii(e,t,n,r,o,i){return xn(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,jS(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>LS(c,a,r))})})}function zr(e,t,n,r){return xn(this,void 0,void 0,function*(){return Ii(e,"GET",t,n,r)})}function Ge(e,t,n,r,o){return xn(this,void 0,void 0,function*(){return Ii(e,"POST",t,r,o,n)})}function Si(e,t,n,r,o){return xn(this,void 0,void 0,function*(){return Ii(e,"PUT",t,r,o,n)})}function sy(e,t,n,r){return xn(this,void 0,void 0,function*(){return Ii(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ic(e,t,n,r,o){return xn(this,void 0,void 0,function*(){return Ii(e,"DELETE",t,r,o,n)})}var _e=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},VS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ay={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},sc=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=oc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return _e(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},ay),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield(t=="PUT"?Si:Ge)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}upload(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return _e(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:ay.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield Si(this.fetch,a.toString(),c,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ee(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield Ge(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Hr("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}update(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}})}copy(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield Ge(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return _e(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield Ge(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return _e(this,void 0,void 0,function*(){try{let o=yield Ge(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}})}download(t,n){return _e(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield zr(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ee(a))return{data:null,error:a};throw a}})}info(t){return _e(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield zr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}exists(t){return _e(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield sy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r)&&r instanceof Tn){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}list(t,n,r){return _e(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},VS),n),{prefix:t||""});return{data:yield Ge(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}})}listV2(t,n){return _e(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield Ge(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var cy="2.12.1";var ly={"X-Client-Info":`storage-js/${cy}`};var qr=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},ac=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ly),n),this.fetch=oc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qr(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ee(t))return{data:null,error:t};throw t}})}getBucket(t){return qr(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return qr(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return qr(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qr(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qr(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}};var Mi=class extends ac{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new sc(this.url,this.headers,t,this.fetch)}};var uy="2.57.4";var Ti="";typeof Deno<"u"?Ti="deno":typeof document<"u"?Ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ti="react-native":Ti="node";var US={"X-Client-Info":`supabase-js-${Ti}/${uy}`},dy={headers:US},fy={schema:"public"},hy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},py={};Pf();var $S=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},BS=e=>{let t;return e?t=e:typeof fetch>"u"?t=Of:t=fetch,(...n)=>t(...n)},HS=()=>typeof Headers>"u"?kf:Headers,gy=(e,t,n)=>{let r=BS(n),o=HS();return(i,s)=>$S(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};var zS=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};function qS(e){return e.endsWith("/")?e:e+"/"}function my(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>zS(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function vy(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var cc="2.71.1";var An=30*1e3,lc=3,uc=lc*An,yy="http://localhost:9999",_y="supabase.auth.token";var wy={"X-Client-Info":`gotrue-js/${cc}`};var xi="X-Supabase-Api-Version",gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,by=10*60*1e3;var Ai=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var dc=class extends Ai{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Cy(e){return M(e)&&e.name==="AuthApiError"}var Gr=class extends Ai{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},gt=class extends Ai{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},We=class extends gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Ey(e){return M(e)&&e.name==="AuthSessionMissingError"}var Nn=class extends gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Rn=class extends gt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},On=class extends gt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Iy(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ni=class extends gt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Wr=class extends gt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function fc(e){return M(e)&&e.name==="AuthRetryableFetchError"}var Ri=class extends gt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var kn=class extends gt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sy=` 	
\r=`.split(""),GS=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sy.length;t+=1)e[Sy[t].charCodeAt(0)]=-2;for(let t=0;t<hc.length;t+=1)e[hc[t].charCodeAt(0)]=t;return e})();function My(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(hc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(hc[r]),t.queuedBits-=6}}function Ty(e,t,n){let r=GS[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function mf(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{KS(s,r,n)};for(let s=0;s<e.length;s+=1)Ty(e.charCodeAt(s),o,i);return t.join("")}function WS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ZS(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}WS(r,t)}}function KS(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xy(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Ty(e.charCodeAt(o),n,r);return new Uint8Array(t)}function Ay(e){let t=[];return ZS(e,n=>t.push(n)),new Uint8Array(t)}function Ny(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>My(o,n,r)),My(null,n,r),t.join("")}function Ry(e){return Math.round(Date.now()/1e3)+e}function Oy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var Ze=()=>typeof window<"u"&&typeof document<"u",Pn={tested:!1,writable:!1},pc=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pn.tested)return Pn.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pn.tested=!0,Pn.writable=!0}catch{Pn.tested=!0,Pn.writable=!1}return Pn.writable};function ky(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var gc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Py=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fn=(e,t,n)=>p(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Zt=(e,t)=>p(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Rt=(e,t)=>p(null,null,function*(){yield e.removeItem(t)}),Oi=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Oi.promiseConstructor=Promise;function mc(e){let t=e.split(".");if(t.length!==3)throw new kn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Dy.test(t[r]))throw new kn("JWT not in base64url format");return{header:JSON.parse(mf(t[0])),payload:JSON.parse(mf(t[1])),signature:xy(t[2]),raw:{header:t[0],payload:t[1]}}}function Fy(e){return p(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function Ly(e,t){return new Promise((r,o)=>{p(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})})}function YS(e){return("0"+e.toString(16)).substr(-2)}function QS(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,YS).join("")}function JS(e){return p(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function XS(e){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield JS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Ln(e,t,n=!1){return p(this,null,function*(){let r=QS(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield Fn(e,`${t}-code-verifier`,o);let i=yield XS(r);return[i,r===i?"plain":"s256"]})}var eM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jy(e){let t=e.headers.get(xi);if(!t||!t.match(eM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Vy(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Uy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var tM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jn(e){if(!tM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vc(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vf(e){return JSON.parse(JSON.stringify(e))}var nM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Vn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rM=[502,503,504];function $y(e){return p(this,null,function*(){var t;if(!Py(e))throw new Wr(Vn(e),0);if(rM.includes(e.status))throw new Wr(Vn(e),e.status);let n;try{n=yield e.json()}catch(i){throw new Gr(Vn(i),i)}let r,o=jy(e);if(o&&o.getTime()>=gf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ri(Vn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new We}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ri(Vn(n),e.status,n.weak_password.reasons);throw new dc(Vn(n),e.status||500,r)})}var oM=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function R(e,t,n,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[xi]||(i[xi]=gf["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield iM(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function iM(e,t,n,r,o,i){return p(this,null,function*(){let s=oM(t,r,o,i),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new Wr(Vn(c),0)}if(a.ok||(yield $y(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield $y(c)}})}function mt(e){var t;let n=null;sM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ry(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function yf(e){let t=mt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function By(e){return{data:e,error:null}}function Hy(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=nM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function zy(e){return e}function sM(e){return e.access_token&&e.refresh_token&&e.expires_in}var yc=["global","local","others"];var aM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Zr=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=gc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return p(this,arguments,function*(t,n=yc[0]){if(yc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yc.join(", ")}`);try{return yield R(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(M(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return p(this,arguments,function*(t,n={}){try{return yield R(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vt})}catch(o){if(M(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return p(this,null,function*(){try{let{options:n}=t,r=aM(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Hy,redirectTo:n?.redirectTo})}catch(n){if(M(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return p(this,null,function*(){try{return yield R(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return p(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:zy});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);l[`${_}Page`]=v}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(M(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return p(this,null,function*(){jn(t);try{return yield R(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return p(this,null,function*(){jn(t);try{return yield R(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return p(this,null,function*(){jn(t);try{return yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return p(this,null,function*(){jn(t.userId);try{let{data:n,error:r}=yield R(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(M(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return p(this,null,function*(){jn(t.userId),jn(t.id);try{return{data:yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}})}};function _f(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function qy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Un={debug:!!(globalThis&&pc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ki=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},_c=class extends ki{};function wf(e,t,n){return p(this,null,function*(){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>p(null,null,function*(){if(o){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield n()}finally{Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _c(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Un.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}qy();var cM={url:yy,storageKey:_y,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Gy(e,t,n){return p(this,null,function*(){return yield n()})}var Kr={},Df=(()=>{class e{constructor(n){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},cM),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Zr({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gc(i.fetch),this.lock=i.lock||Gy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ze()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=wf:this.lock=Gy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:pc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_f(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_f(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var n,r;return(r=(n=Kr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Kr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cc}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var n;try{let r=ky(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),Ze()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Iy(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new Gr("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return p(this,null,function*(){var r,o,i;try{let s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:mt}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return p(this,null,function*(){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,g=null,v=null;this.flowType==="pkce"&&([g,v]=yield Ln(this.storage,this.storageKey)),s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:v},xform:mt})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:mt})}else throw new Rn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return p(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:yf})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:yf})}else throw new Rn("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Nn}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return p(this,null,function*(){let{chain:r}=n;if(r==="solana")return yield this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(n){return p(this,null,function*(){var r,o,i,s,a,c,l,u,d,h,f,g;let v,_;if("message"in n)v=n.message,_=n.signature;else{let{chain:C,wallet:q,statement:Q,options:E}=n,G;if(Ze())if(typeof q=="object")G=q;else{let Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))G=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=q}let $n=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in G&&G.signIn){let Y=yield G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:$n.host,uri:$n.href}),Q?{statement:Q}:null)),me;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")me=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)me=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in me&&"signature"in me&&(typeof me.signedMessage=="string"||me.signedMessage instanceof Uint8Array)&&me.signature instanceof Uint8Array)v=typeof me.signedMessage=="string"?me.signedMessage:new TextDecoder().decode(me.signedMessage),_=me.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${$n.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...Q?["",Q,""]:[""],"Version: 1",`URI: ${$n.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(me=>`- ${me}`)]:[]].join(`
`);let Y=yield G.signMessage(new TextEncoder().encode(v),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=Y}}try{let{data:C,error:q}=yield R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ny(_)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:mt});if(q)throw q;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Nn}:(C.session&&(yield this._saveSession(C.session),yield this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:q})}catch(C){if(M(C))return{data:{user:null,session:null},error:C};throw C}})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield Zt(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:mt});if(yield Rt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Nn}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(M(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return p(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:mt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Nn}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,o,i,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Ln(this.storage,this.storageKey));let{error:h}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Rn("You must provide either an email or phone number.")}catch(c){if(M(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return p(this,null,function*(){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:mt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return p(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Ln(this.storage,this.storageKey)),yield R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:By})}catch(s){if(M(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new We;let{error:i}=yield R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield R(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield R(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Rn("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<uc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=yield Zt(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=vc()}if(this.storage.isServer&&n.user){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:n},error:null}}let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:vt}):yield this._useSession(r=>p(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:vt})}))}catch(r){if(M(r))return Ey(r)&&(yield this._removeSession(),yield Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new We;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield Ln(this.storage,this.storageKey));let{data:d,error:h}=yield R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:vt});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(M(i))return{data:{user:null},error:i};throw i}})}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new We;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=mc(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new We;let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return p(this,null,function*(){try{if(!Ze())throw new On("No browser detected.");if(n.error||n.error_description||n.error_code)throw new On(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ni("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new On("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ni("No code detected.");let{data:Q,error:E}=yield this._exchangeCodeForSession(n.code);if(E)throw E;let G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:Q.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new On("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let g=f-d;g*1e3<=An&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);let{data:_,error:C}=yield this._getUser(s);if(C)throw C;let q={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:n.type},error:null}}catch(o){if(M(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return p(this,null,function*(){let r=yield Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(Cy(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=Oy(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield Ln(this.storage,this.storageKey,!0));try{return yield R(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(M(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield R(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return Ze()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(M(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield R(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield Ly(i=>p(this,null,function*(){return i>0&&(yield Fy(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:mt})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&fc(s)&&Date.now()+a-o<An})}catch(o){if(this._debug(r,"error",o),M(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),Ze()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield Zt(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield Fn(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:vc()}else if(i&&!i.user&&!i.user){let a=yield Zt(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,yield Rt(this.storage,this.storageKey+"-user"),yield Fn(this.storage,this.storageKey,i)):i.user=vc()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uc;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${uc}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),fc(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,o;if(!n)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Oi;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new We;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),M(s)){let a={session:null,error:s};return fc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield Fn(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let s=vf(i);yield Fn(this.storage,this.storageKey,s)}else{let i=vf(r);yield Fn(this.storage,this.storageKey,i)}})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Rt(this.storage,this.storageKey),yield Rt(this.storage,this.storageKey+"-code-verifier"),yield Rt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Rt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ze()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),An);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/An);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${An}ms, refresh threshold is ${lc} ticks`),i<=lc&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof ki)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Ln(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield R(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:u}=yield R(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(n.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield R(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(M(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield R(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(M(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=mc(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return p(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(l=>l.kid===n);if(i)return i;let s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===n),i&&this.jwks_cached_at+by>s)return i;let{data:a,error:c}=yield R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(l=>l.kid===n),!i)?null:i})}getClaims(o){return p(this,arguments,function*(n,r={}){try{let i=n;if(!i){let{data:v,error:_}=yield this.getSession();if(_||!v.session)return{data:null,error:_};i=v.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=mc(i);r?.allowExpired||Vy(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:v}=yield this.getUser(i);if(v)throw v;return{data:{claims:a,header:s,signature:c},error:null}}let h=Uy(s.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,c,Ay(`${l}.${u}`))))throw new kn("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(M(i))return{data:null,error:i};throw i}})}}return e.nextInstanceID=0,e})();var lM=Df,bf=lM;var wc=class extends bf{constructor(t){super(t)}};var uM=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},Dc=class{constructor(t,n,r){var o,i,s;this.supabaseUrl=t,this.supabaseKey=n;let a=vy(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:fy,realtime:py,auth:Object.assign(Object.assign({},hy),{storageKey:c}),global:dy},u=my(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=gy(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Qv(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Mi(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new fi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return uM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wc({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ei(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var bc=(e,t,n)=>new Dc(e,t,n);function dM(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}dM()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var fM="https://qdzklqbqqjrxcoqxkiky.supabase.co",hM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkemtscWJxcWpyeGNvcXhraWt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MjU4NDMsImV4cCI6MjA3NDEwMTg0M30.C9ozRZSa06i8ie6AfVRSFoNucWbNTRsjh-_qZ4zHk6g",Yr=bc(fM,hM);var t_=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(U(pn),U(Ut))};static \u0275dir=pe({type:e})}return e})(),pM=(()=>{class e extends t_{static \u0275fac=(()=>{let n;return function(o){return(n||(n=_r(e)))(o||e)}})();static \u0275dir=pe({type:e,features:[Tt]})}return e})(),n_=new b("");var gM={provide:n_,useExisting:dn(()=>eo),multi:!0};function mM(){let e=ze()?ze().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var vM=new b(""),eo=(()=>{class e extends t_{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!mM())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(U(pn),U(Ut),U(vM,8))};static \u0275dir=pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Xe("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[ko([gM]),Tt]})}return e})();function yM(e){return e==null||_M(e)===0}function _M(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Sf=new b(""),r_=new b("");function wM(e){return yM(e.value)?{required:!0}:null}function Wy(e){return null}function o_(e){return e!=null}function i_(e){return Ir(e)?K(e):e}function s_(e){let t={};return e.forEach(n=>{t=n!=null?y(y({},t),n):t}),Object.keys(t).length===0?null:t}function a_(e,t){return t.map(n=>n(e))}function DM(e){return!e.validate}function c_(e){return e.map(t=>DM(t)?t:n=>t.validate(n))}function bM(e){if(!e)return null;let t=e.filter(o_);return t.length==0?null:function(n){return s_(a_(n,t))}}function Mf(e){return e!=null?bM(c_(e)):null}function CM(e){if(!e)return null;let t=e.filter(o_);return t.length==0?null:function(n){let r=a_(n,t).map(i_);return dl(r).pipe(L(s_))}}function Tf(e){return e!=null?CM(c_(e)):null}function Zy(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function EM(e){return e._rawValidators}function IM(e){return e._rawAsyncValidators}function Cf(e){return e?Array.isArray(e)?e:[e]:[]}function Ec(e,t){return Array.isArray(e)?e.includes(t):e===t}function Ky(e,t){let n=Cf(t);return Cf(e).forEach(o=>{Ec(n,o)||n.push(o)}),n}function Yy(e,t){return Cf(t).filter(n=>!Ec(e,n))}var Ic=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Mf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Tf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Xr=class extends Ic{name;get formDirective(){return null}get path(){return null}},Ui=class extends Ic{_parent=null;name=null;valueAccessor=null},Sc=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},SM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hV=F(y({},SM),{"[class.ng-submitted]":"isSubmitted"}),Ac=(()=>{class e extends Sc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(U(Ui,2))};static \u0275dir=pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ua("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Tt]})}return e})(),l_=(()=>{class e extends Sc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(U(Xr,10))};static \u0275dir=pe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ua("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Tt]})}return e})();var Pi="VALID",Cc="INVALID",Qr="PENDING",Fi="DISABLED",Kt=class{},Mc=class extends Kt{value;source;constructor(t,n){super(),this.value=t,this.source=n}},ji=class extends Kt{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Vi=class extends Kt{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Jr=class extends Kt{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Ef=class extends Kt{source;constructor(t){super(),this.source=t}},If=class extends Kt{source;constructor(t){super(),this.source=t}};function u_(e){return(Nc(e)?e.validators:e)||null}function MM(e){return Array.isArray(e)?Mf(e):e||null}function d_(e,t){return(Nc(t)?t.asyncValidators:e)||null}function TM(e){return Array.isArray(e)?Tf(e):e||null}function Nc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function xM(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new w(1e3,"");if(!r[n])throw new w(1001,"")}function AM(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new w(1002,"")})}var Tc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Bt(this.statusReactive)}set status(t){Bt(()=>this.statusReactive.set(t))}_status=Fo(()=>this.statusReactive());statusReactive=xo(void 0);get valid(){return this.status===Pi}get invalid(){return this.status===Cc}get pending(){return this.status==Qr}get disabled(){return this.status===Fi}get enabled(){return this.status!==Fi}errors;get pristine(){return Bt(this.pristineReactive)}set pristine(t){Bt(()=>this.pristineReactive.set(t))}_pristine=Fo(()=>this.pristineReactive());pristineReactive=xo(!0);get dirty(){return!this.pristine}get touched(){return Bt(this.touchedReactive)}set touched(t){Bt(()=>this.touchedReactive.set(t))}_touched=Fo(()=>this.touchedReactive());touchedReactive=xo(!1);get untouched(){return!this.touched}_events=new ie;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ky(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ky(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Yy(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Yy(t,this._rawAsyncValidators))}hasValidator(t){return Ec(this._rawValidators,t)}hasAsyncValidator(t){return Ec(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(F(y({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Vi(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Vi(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(F(y({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ji(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new ji(!0,r))}markAsPending(t={}){this.status=Qr;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Jr(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(F(y({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Fi,this.errors=null,this._forEachChild(o=>{o.disable(F(y({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Mc(this.value,r)),this._events.next(new Jr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Pi,this._forEachChild(r=>{r.enable(F(y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(F(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pi||this.status===Qr)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Mc(this.value,n)),this._events.next(new Jr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(F(y({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fi:Pi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Qr,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=i_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Jr(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Fi:this.errors?Cc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qr)?Qr:this._anyControlsHaveStatus(Cc)?Cc:Pi}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new ji(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Vi(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Nc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=MM(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=TM(this._rawAsyncValidators)}},xc=class extends Tc{constructor(t,n,r){super(u_(n),d_(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){AM(this,!0,t),Object.keys(t).forEach(r=>{xM(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var xf=new b("",{providedIn:"root",factory:()=>Af}),Af="always";function NM(e,t){return[...t.path,e]}function f_(e,t,n=Af){h_(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),OM(e,t),PM(e,t),kM(e,t),RM(e,t)}function Qy(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function RM(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function h_(e,t){let n=EM(e);t.validator!==null?e.setValidators(Zy(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=IM(e);t.asyncValidator!==null?e.setAsyncValidators(Zy(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();Qy(t._rawValidators,o),Qy(t._rawAsyncValidators,o)}function OM(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&p_(e,t)})}function kM(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&p_(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function p_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function PM(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function FM(e,t){e==null,h_(e,t)}function LM(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function jM(e){return Object.getPrototypeOf(e.constructor)===pM}function VM(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function UM(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===eo?n=i:jM(i)?r=i:o=i}),o||r||n||null}var $M={provide:Xr,useExisting:dn(()=>Nf)},Li=Promise.resolve(),Nf=(()=>{class e extends Xr{callSetDisabledState;get submitted(){return Bt(this.submittedReactive)}_submitted=Fo(()=>this.submittedReactive());submittedReactive=xo(!1);_directives=new Set;form;ngSubmit=new se;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new xc({},Mf(n),Tf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Li.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),f_(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Li.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Li.then(()=>{let r=this._findContainer(n.path),o=new xc({});FM(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Li.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Li.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),VM(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Ef(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new If(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(U(Sf,10),U(r_,10),U(xf,8))};static \u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Xe("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ko([$M]),Tt]})}return e})();function Jy(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Xy(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var BM=class extends Tc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(u_(n),d_(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Xy(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Jy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Jy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Xy(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var HM={provide:Ui,useExisting:dn(()=>$i)},e_=Promise.resolve(),$i=(()=>{class e extends Ui{_changeDetectorRef;callSetDisabledState;control=new BM;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new se;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=UM(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),LM(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){f_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){e_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Po(r);e_.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?NM(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(U(Xr,9),U(Sf,10),U(r_,10),U(n_,10),U(_n,8),U(xf,8))};static \u0275dir=pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ko([HM]),Tt,fn]})}return e})();var g_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var zM=(()=>{class e{_validator=Wy;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Wy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,features:[fn]})}return e})();var qM={provide:Sf,useExisting:dn(()=>Rf),multi:!0};var Rf=(()=>{class e extends zM{required;inputName="required";normalizeInput=Po;createValidator=n=>wM;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=_r(e)))(o||e)}})();static \u0275dir=pe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&ca("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ko([qM]),Tt]})}return e})();var GM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Mt({type:e});static \u0275inj=Et({})}return e})();var Rc=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:xf,useValue:n.callSetDisabledState??Af}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Mt({type:e});static \u0275inj=Et({imports:[GM]})}return e})();var WM=e=>({highlight:e});function ZM(e,t){if(e&1){let n=fm();re(0,"div",3)(1,"span",4),Ne(2),ue(),re(3,"input",5),yn("ngModelChange",function(o){let i=Io(n).$implicit;return Sr(i.check_in,o)||(i.check_in=o),So(o)}),ue(),re(4,"input",5),yn("ngModelChange",function(o){let i=Io(n).$implicit;return Sr(i.check_out,o)||(i.check_out=o),So(o)}),ue(),re(5,"span",6),Ne(6),ue(),re(7,"button",7),Xe("click",function(){let o=Io(n).$implicit,i=da();return So(i.saveEntry(o))}),Ne(8,"Save"),ue(),re(9,"button",8),Xe("click",function(){let o=Io(n).$implicit,i=da();return So(i.clearEntry(o))}),Ne(10,"Clear"),ue()()}if(e&2){let n=t.$implicit,r=t.index,o=da();la("ngClass",gm(5,WM,r===o.currentDayIndex)),Ie(2),gn(n.day),Ie(),vn("ngModel",n.check_in),Ie(),vn("ngModel",n.check_out),Ie(2),mn("",n.total_minutes," mins")}}var Oc=class e{constructor(t){this.router=t}workWeek=[];currentDayIndex=new Date().getDay()-1;DEFAULT_IN="11:15";DEFAULT_OUT="20:30";ngOnInit(){return p(this,null,function*(){yield this.loadEntries()})}loadEntries(){return p(this,null,function*(){let{data:{user:t}}=yield Yr.auth.getUser();if(!t){alert("Please login or signup first!"),this.router.navigate(["/"]);return}let{data:n,error:r}=yield Yr.from("time_entries").select("*").eq("user_id",t.id);if(r){console.error("Error fetching entries:",r.message);return}let o=["Monday","Tuesday","Wednesday","Thursday","Friday"];this.workWeek=o.map(i=>{let s=n?.find(a=>a.day===i);return s?y({},s):{day:i,check_in:this.DEFAULT_IN,check_out:this.DEFAULT_OUT,total_minutes:0}})})}saveEntry(t){return p(this,null,function*(){let{data:{user:n}}=yield Yr.auth.getUser();if(!n)return;let[r,o]=t.check_in.split(":").map(Number),[i,s]=t.check_out.split(":").map(Number),a=r*60+o,c=i*60+s,l=11*60+15,u=20*60+30,d=a>l?-(a-l):0,h=c>u?c-u:0;if(t.total_minutes=d+h,t.id){let{error:f}=yield Yr.from("time_entries").update({check_in:t.check_in,check_out:t.check_out,total_minutes:t.total_minutes}).eq("id",t.id);f&&console.error("Update failed:",f.message)}else{let{data:f,error:g}=yield Yr.from("time_entries").insert([{user_id:n.id,day:t.day,check_in:t.check_in,check_out:t.check_out,total_minutes:t.total_minutes}]).select().single();!g&&f?t.id=f.id:g&&console.error("Insert failed:",g.message)}})}get weeklyTotal(){return this.workWeek.reduce((t,n)=>t+n.total_minutes,0)}clearEntry(t){t.check_in=this.DEFAULT_IN,t.check_out=this.DEFAULT_OUT,this.saveEntry(t)}static \u0275fac=function(n){return new(n||e)(U(ke))};static \u0275cmp=$t({type:e,selectors:[["app-timeinput"]],decls:8,vars:2,consts:[[1,"time-calculator"],["class","day-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"weekly-total"],[1,"day-row",3,"ngClass"],[1,"day-label"],["type","time",3,"ngModelChange","ngModel"],[1,"time-output"],[1,"save-btn",3,"click"],[1,"clear-btn",3,"click"]],template:function(n,r){n&1&&(re(0,"div",0)(1,"h2"),Ne(2,"Time Calculator"),ue(),Xu(3,ZM,11,7,"div",1),re(4,"div",2),Ne(5," Weekly Total: "),re(6,"strong"),Ne(7),ue()()()),n&2&&(Ie(3),la("ngForOf",r.workWeek),Ie(4),mn("",r.weeklyTotal," mins"))},dependencies:[Mr,sd,ma,Rc,eo,Ac,$i],styles:[".time-calculator[_ngcontent-%COMP%]{font-family:Arial,sans-serif;max-width:600px;margin:auto;padding:20px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.day-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px;padding:8px;border:1px solid #ddd;border-radius:6px;background:#f9f9f9;transition:background .3s ease}.day-label[_ngcontent-%COMP%]{width:100px;font-weight:700}.time-output[_ngcontent-%COMP%]{margin-left:auto;font-weight:700}.highlight[_ngcontent-%COMP%]{background:#d2f8d2!important;border-color:#4caf50}input[_ngcontent-%COMP%]{padding:4px}.weekly-total[_ngcontent-%COMP%]{margin-top:16px;font-size:16px;text-align:right;font-weight:700}button[_ngcontent-%COMP%]{display:block;padding:8px 16px;border:none;color:#fff;border-radius:6px;cursor:pointer;font-size:14px}.save-btn[_ngcontent-%COMP%]{background-color:#468346}.save-btn[_ngcontent-%COMP%]:hover{background-color:#067506}.clear-btn[_ngcontent-%COMP%]{background-color:#ff4d4d}.clear-btn[_ngcontent-%COMP%]:hover{background-color:#e60000}"]})};var kc=class e{supabase;constructor(){this.supabase=bc("https://qdzklqbqqjrxcoqxkiky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkemtscWJxcWpyeGNvcXhraWt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MjU4NDMsImV4cCI6MjA3NDEwMTg0M30.C9ozRZSa06i8ie6AfVRSFoNucWbNTRsjh-_qZ4zHk6g")}signUp(t,n){return p(this,null,function*(){return this.supabase.auth.signUp({email:t,password:n})})}signIn(t,n){return p(this,null,function*(){return this.supabase.auth.signInWithPassword({email:t,password:n})})}signOut(){return p(this,null,function*(){return this.supabase.auth.signOut()})}getUser(){return p(this,null,function*(){let{data:t}=yield this.supabase.auth.getUser();return t.user})}insertTimeEntry(t,n,r,o,i){return p(this,null,function*(){return this.supabase.from("time_entries").insert([{user_id:t,day:n,check_in:r,check_out:o,total_minutes:i}])})}fetchTimeEntries(t){return p(this,null,function*(){return this.supabase.from("time_entries").select("*").eq("user_id",t)})}clearUserEntries(t){return p(this,null,function*(){return this.supabase.from("time_entries").delete().eq("user_id",t)})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pc=class e{constructor(t,n){this.supabase=t;this.router=n}email="";password="";isLoginMode=!0;message="";onSubmit(){return p(this,null,function*(){try{if(this.isLoginMode){let{error:t}=yield this.supabase.signIn(this.email,this.password);if(t)throw t;this.message="Login successful!",this.router.navigate(["/dashboard"])}else{let{error:t}=yield this.supabase.signUp(this.email,this.password);if(t)throw t;this.message="Signup successful! Please check your email to confirm."}}catch(t){this.message=t.message}})}toggleMode(){this.isLoginMode=!this.isLoginMode,this.message=""}static \u0275fac=function(n){return new(n||e)(U(kc),U(ke))};static \u0275cmp=$t({type:e,selectors:[["app-auth"]],decls:12,vars:6,consts:[[1,"auth-container"],[3,"ngSubmit"],["type","email","placeholder","Email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","placeholder","Password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"toggle",3,"click"],[1,"message"]],template:function(n,r){n&1&&(re(0,"div",0)(1,"h2"),Ne(2),ue(),re(3,"form",1),Xe("ngSubmit",function(){return r.onSubmit()}),re(4,"input",2),yn("ngModelChange",function(i){return Sr(r.email,i)||(r.email=i),i}),ue(),re(5,"input",3),yn("ngModelChange",function(i){return Sr(r.password,i)||(r.password=i),i}),ue(),re(6,"button",4),Ne(7),ue()(),re(8,"p",5),Xe("click",function(){return r.toggleMode()}),Ne(9),ue(),re(10,"p",6),Ne(11),ue()()),n&2&&(Ie(2),gn(r.isLoginMode?"Login":"Sign Up"),Ie(2),vn("ngModel",r.email),Ie(),vn("ngModel",r.password),Ie(2),gn(r.isLoginMode?"Login":"Sign Up"),Ie(2),mn(" ",r.isLoginMode?"Don't have an account? Sign Up":"Already have an account? Login"," "),Ie(2),gn(r.message))},dependencies:[Mr,Rc,g_,eo,Ac,l_,Rf,$i,Nf],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;border:1px solid #ddd;border-radius:8px;background:#f9f9f9;text-align:center}input[_ngcontent-%COMP%]{width:100%;margin:8px 0;padding:10px;border:1px solid #ccc;border-radius:6px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background:#4caf50;border:none;color:#fff;border-radius:6px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#45a049}.toggle[_ngcontent-%COMP%]{margin-top:12px;color:#007bff;cursor:pointer}.message[_ngcontent-%COMP%]{margin-top:10px;color:red}"]})};var y_=[{path:"",component:Pc},{path:"dashboard",component:Oc}];var __={providers:[ym({eventCoalescing:!0}),qd(y_)]};var Fc=class e{title="time-calculator-app";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=$t({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&Oo(0,"router-outlet")},dependencies:[Wd,oi],encapsulation:2})};vd(Fc,__).catch(e=>console.error(e));
