import{a as y,b as k,c as gn,d as L_,e as j_,f as h,h as Yf,i as Qf,l as V_,m as Jf}from"./chunk-PZ5UXJ7I.js";var mf=gn(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});var pf=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};gf.default=pf});var yf=gn(wo=>{"use strict";var oy=wo&&wo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wo,"__esModule",{value:!0});var LS=oy((Jf(),j_(V_))),jS=oy(mf()),vf=class{constructor(n){var t,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=LS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,c,l;let u=null,d=null,p=null,f=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let G=yield o.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=G:d=JSON.parse(G))}let _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),C=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&C&&C.length>1&&(p=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield o.text();try{u=JSON.parse(_),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,g="OK")}catch{o.status===404&&_===""?(f=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new jS.default(u)}return{error:u,data:d,count:p,status:f,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,t)}returns(){return this}overrideTypes(){return this}};wo.default=vf});var wf=gn(Do=>{"use strict";var VS=Do&&Do.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Do,"__esModule",{value:!0});var US=VS(yf()),_f=class extends US.default{select(n){let t=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let c=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};Do.default=_f});var lc=gn(bo=>{"use strict";var $S=bo&&bo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bo,"__esModule",{value:!0});var BS=$S(wf()),Df=class extends BS.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};bo.default=Df});var Cf=gn(Eo=>{"use strict";var HS=Eo&&Eo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eo,"__esModule",{value:!0});var Co=HS(lc()),bf=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=new Headers(t),this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Co.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:r=!0}={}){var i;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let s=n.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Co.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let c=n.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Co.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:t}={}){var r;let i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Co.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var t;let r="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new Co.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};Eo.default=bf});var ay=gn(Io=>{"use strict";var sy=Io&&Io.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Io,"__esModule",{value:!0});var zS=sy(Cf()),qS=sy(lc()),Ef=class e{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(n){let t=new URL(`${this.url}/${n}`);return new zS.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${n}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{c.searchParams.append(d,p)})):(a="POST",l=t);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new qS.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Io.default=Ef});var py=gn(ve=>{"use strict";var Xr=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ve,"__esModule",{value:!0});ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;var cy=Xr(ay());ve.PostgrestClient=cy.default;var ly=Xr(Cf());ve.PostgrestQueryBuilder=ly.default;var uy=Xr(lc());ve.PostgrestFilterBuilder=uy.default;var dy=Xr(wf());ve.PostgrestTransformBuilder=dy.default;var fy=Xr(yf());ve.PostgrestBuilder=fy.default;var hy=Xr(mf());ve.PostgrestError=hy.default;ve.default={PostgrestClient:cy.default,PostgrestQueryBuilder:ly.default,PostgrestFilterBuilder:uy.default,PostgrestTransformBuilder:dy.default,PostgrestBuilder:fy.default,PostgrestError:hy.default}});function Yc(e,n){return Object.is(e,n)}var se=null,Ko=!1,Qc=1,Le=Symbol("SIGNAL");function F(e){let n=se;return se=e,n}function Jc(){return se}var pi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gi(e){if(Ko)throw new Error("");if(se===null)return;se.consumerOnSignalRead(e);let n=se.nextProducerIndex++;if(Xo(se),n<se.producerNode.length&&se.producerNode[n]!==e&&hi(se)){let t=se.producerNode[n];Jo(t,se.producerIndexOfThis[n])}se.producerNode[n]!==e&&(se.producerNode[n]=e,se.producerIndexOfThis[n]=hi(se)?eh(e,se,n):0),se.producerLastReadVersion[n]=e.version}function Xf(){Qc++}function Xc(e){if(!(hi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Qc)){if(!e.producerMustRecompute(e)&&!rl(e)){Kc(e);return}e.producerRecomputeValue(e),Kc(e)}}function el(e){if(e.liveConsumerNode===void 0)return;let n=Ko;Ko=!0;try{for(let t of e.liveConsumerNode)t.dirty||U_(t)}finally{Ko=n}}function tl(){return se?.consumerAllowSignalWrites!==!1}function U_(e){e.dirty=!0,el(e),e.consumerMarkedDirty?.(e)}function Kc(e){e.dirty=!1,e.lastCleanEpoch=Qc}function Qo(e){return e&&(e.nextProducerIndex=0),F(e)}function nl(e,n){if(F(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(hi(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Jo(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function rl(e){Xo(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Xc(t),r!==t.version))return!0}return!1}function il(e){if(Xo(e),hi(e))for(let n=0;n<e.producerNode.length;n++)Jo(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function eh(e,n,t){if(th(e),e.liveConsumerNode.length===0&&nh(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=eh(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Jo(e,n){if(th(e),e.liveConsumerNode.length===1&&nh(e))for(let r=0;r<e.producerNode.length;r++)Jo(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Xo(i),i.producerIndexOfThis[r]=n}}function hi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Xo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function th(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function nh(e){return e.producerNode!==void 0}function ol(e,n){let t=Object.create($_);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Xc(t),gi(t),t.value===Yo)throw t.error;return t.value};return r[Le]=t,r}var Gc=Symbol("UNSET"),Zc=Symbol("COMPUTING"),Yo=Symbol("ERRORED"),$_=k(y({},pi),{value:Gc,dirty:!0,error:null,equal:Yc,kind:"computed",producerMustRecompute(e){return e.value===Gc||e.value===Zc},producerRecomputeValue(e){if(e.value===Zc)throw new Error("Detected cycle in computations.");let n=e.value;e.value=Zc;let t=Qo(e),r,i=!1;try{r=e.computation(),F(null),i=n!==Gc&&n!==Yo&&r!==Yo&&e.equal(n,r)}catch(o){r=Yo,e.error=o}finally{nl(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function B_(){throw new Error}var rh=B_;function ih(e){rh(e)}function sl(e){rh=e}var H_=null;function al(e,n){let t=Object.create(es);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(gi(t),t.value);return r[Le]=t,r}function mi(e,n){tl()||ih(e),e.equal(e.value,n)||(e.value=n,z_(e))}function cl(e,n){tl()||ih(e),mi(e,n(e.value))}var es=k(y({},pi),{equal:Yc,value:void 0,kind:"signal"});function z_(e){e.version++,Xf(),el(e),H_?.()}function ll(e){let n=F(null);try{return e()}finally{F(n)}}var ul;function vi(){return ul}function St(e){let n=ul;return ul=e,n}var ts=Symbol("NotFound");function T(e){return typeof e=="function"}function ir(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ns=ir(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function yi(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var re=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(T(r))try{r()}catch(o){n=o instanceof ns?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{oh(o)}catch(s){n=n??[],s instanceof ns?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ns(n)}}add(n){var t;if(n&&n!==this)if(this.closed)oh(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&yi(t,n)}remove(n){let{_finalizers:t}=this;t&&yi(t,n),n instanceof e&&n._removeParent(this)}};re.EMPTY=(()=>{let e=new re;return e.closed=!0,e})();var dl=re.EMPTY;function rs(e){return e instanceof re||e&&"closed"in e&&T(e.remove)&&T(e.add)&&T(e.unsubscribe)}function oh(e){T(e)?e():e.unsubscribe()}var Ke={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var or={setTimeout(e,n,...t){let{delegate:r}=or;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=or;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function is(e){or.setTimeout(()=>{let{onUnhandledError:n}=Ke;if(n)n(e);else throw e})}function _i(){}var sh=fl("C",void 0,void 0);function ah(e){return fl("E",void 0,e)}function ch(e){return fl("N",e,void 0)}function fl(e,n,t){return{kind:e,value:n,error:t}}var mn=null;function sr(e){if(Ke.useDeprecatedSynchronousErrorHandling){let n=!mn;if(n&&(mn={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=mn;if(mn=null,t)throw r}}else e()}function lh(e){Ke.useDeprecatedSynchronousErrorHandling&&mn&&(mn.errorThrown=!0,mn.error=e)}var vn=class extends re{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,rs(n)&&n.add(this)):this.destination=Y_}static create(n,t,r){return new ar(n,t,r)}next(n){this.isStopped?pl(ch(n),this):this._next(n)}error(n){this.isStopped?pl(ah(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?pl(sh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Z_=Function.prototype.bind;function hl(e,n){return Z_.call(e,n)}var gl=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){os(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){os(r)}else os(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){os(t)}}},ar=class extends vn{constructor(n,t,r){super();let i;if(T(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ke.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&hl(n.next,o),error:n.error&&hl(n.error,o),complete:n.complete&&hl(n.complete,o)}):i=n}this.destination=new gl(i)}};function os(e){Ke.useDeprecatedSynchronousErrorHandling?lh(e):is(e)}function K_(e){throw e}function pl(e,n){let{onStoppedNotification:t}=Ke;t&&or.setTimeout(()=>t(e,n))}var Y_={closed:!0,next:_i,error:K_,complete:_i};var cr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ne(e){return e}function ml(...e){return vl(e)}function vl(e){return e.length===0?Ne:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var B=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=J_(t)?t:new ar(t,r,i);return sr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=uh(r),new r((i,o)=>{let s=new ar({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[cr](){return this}pipe(...t){return vl(t)(this)}toPromise(t){return t=uh(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function uh(e){var n;return(n=e??Ke.Promise)!==null&&n!==void 0?n:Promise}function Q_(e){return e&&T(e.next)&&T(e.error)&&T(e.complete)}function J_(e){return e&&e instanceof vn||Q_(e)&&rs(e)}function yl(e){return T(e?.lift)}function U(e){return n=>{if(yl(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function L(e,n,t,r,i){return new _l(e,n,t,r,i)}var _l=class extends vn{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function lr(){return U((e,n)=>{let t=null;e._refCount++;let r=L(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var ur=class extends B{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,yl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new re;let t=this.getSubject();n.add(this.source.subscribe(L(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=re.EMPTY)}return n}refCount(){return lr()(this)}};var dh=ir(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=(()=>{class e extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ss(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new dh}next(t){sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dl:(this.currentObservers=null,o.push(t),new re(()=>{this.currentObservers=null,yi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new B;return t.source=this,t}}return e.create=(n,t)=>new ss(n,t),e})(),ss=class extends ae{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:dl}};var ce=class extends ae{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var be=new B(e=>e.complete());function fh(e){return e&&T(e.schedule)}function hh(e){return e[e.length-1]}function as(e){return T(hh(e))?e.pop():void 0}function Ht(e){return fh(hh(e))?e.pop():void 0}function gh(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})}function ph(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function yn(e){return this instanceof yn?(this.v=e,this):new yn(e)}function mh(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(v){return new Promise(function(_,C){o.push([f,v,_,C])>1||c(f,v)})},g&&(i[f]=g(i[f])))}function c(f,g){try{l(r[f](g))}catch(v){p(o[0][3],v)}}function l(f){f.value instanceof yn?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function vh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof ph=="function"?ph(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var cs=e=>e&&typeof e.length=="number"&&typeof e!="function";function ls(e){return T(e?.then)}function us(e){return T(e[cr])}function ds(e){return Symbol.asyncIterator&&T(e?.[Symbol.asyncIterator])}function fs(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function X_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hs=X_();function ps(e){return T(e?.[hs])}function gs(e){return mh(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield yn(t.read());if(i)return yield yn(void 0);yield yield yn(r)}}finally{t.releaseLock()}})}function ms(e){return T(e?.getReader)}function ie(e){if(e instanceof B)return e;if(e!=null){if(us(e))return ew(e);if(cs(e))return tw(e);if(ls(e))return nw(e);if(ds(e))return yh(e);if(ps(e))return rw(e);if(ms(e))return iw(e)}throw fs(e)}function ew(e){return new B(n=>{let t=e[cr]();if(T(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tw(e){return new B(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function nw(e){return new B(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,is)})}function rw(e){return new B(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function yh(e){return new B(n=>{ow(e,n).catch(t=>n.error(t))})}function iw(e){return yh(gs(e))}function ow(e,n){var t,r,i,o;return gh(this,void 0,void 0,function*(){try{for(t=vh(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function Ce(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function vs(e,n=0){return U((t,r)=>{t.subscribe(L(r,i=>Ce(r,e,()=>r.next(i),n),()=>Ce(r,e,()=>r.complete(),n),i=>Ce(r,e,()=>r.error(i),n)))})}function ys(e,n=0){return U((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function _h(e,n){return ie(e).pipe(ys(n),vs(n))}function wh(e,n){return ie(e).pipe(ys(n),vs(n))}function Dh(e,n){return new B(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function bh(e,n){return new B(t=>{let r;return Ce(t,n,()=>{r=e[hs](),Ce(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}function _s(e,n){if(!e)throw new Error("Iterable cannot be null");return new B(t=>{Ce(t,n,()=>{let r=e[Symbol.asyncIterator]();Ce(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ch(e,n){return _s(gs(e),n)}function Eh(e,n){if(e!=null){if(us(e))return _h(e,n);if(cs(e))return Dh(e,n);if(ls(e))return wh(e,n);if(ds(e))return _s(e,n);if(ps(e))return bh(e,n);if(ms(e))return Ch(e,n)}throw fs(e)}function Q(e,n){return n?Eh(e,n):ie(e)}function S(...e){let n=Ht(e);return Q(e,n)}function dr(e,n){let t=T(e)?e:()=>e,r=i=>i.error(t());return new B(n?i=>n.schedule(r,0,i):r)}function wl(e){return!!e&&(e instanceof B||T(e.lift)&&T(e.subscribe))}var Mt=ir(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function j(e,n){return U((t,r)=>{let i=0;t.subscribe(L(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:sw}=Array;function aw(e,n){return sw(n)?e(...n):e(n)}function ws(e){return j(n=>aw(e,n))}var{isArray:cw}=Array,{getPrototypeOf:lw,prototype:uw,keys:dw}=Object;function Ds(e){if(e.length===1){let n=e[0];if(cw(n))return{args:n,keys:null};if(fw(n)){let t=dw(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function fw(e){return e&&typeof e=="object"&&lw(e)===uw}function bs(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function wi(...e){let n=Ht(e),t=as(e),{args:r,keys:i}=Ds(e);if(r.length===0)return Q([],n);let o=new B(hw(r,n,i?s=>bs(i,s):Ne));return t?o.pipe(ws(t)):o}function hw(e,n,t=Ne){return r=>{Ih(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Ih(n,()=>{let l=Q(e[c],n),u=!1;l.subscribe(L(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ih(e,n,t){e?Ce(t,e,n):n()}function Sh(e,n,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&n.complete()},f=v=>l<r?g(v):c.push(v),g=v=>{o&&n.next(v),l++;let _=!1;ie(t(v,u++)).subscribe(L(n,C=>{i?.(C),o?f(C):n.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let C=c.shift();s?Ce(n,s,()=>g(C)):g(C)}p()}catch(C){n.error(C)}}))};return e.subscribe(L(n,f,()=>{d=!0,p()})),()=>{a?.()}}function te(e,n,t=1/0){return T(n)?te((r,i)=>j((o,s)=>n(r,o,i,s))(ie(e(r,i))),t):(typeof n=="number"&&(t=n),U((r,i)=>Sh(r,i,e,t)))}function fr(e=1/0){return te(Ne,e)}function Mh(){return fr(1)}function hr(...e){return Mh()(Q(e,Ht(e)))}function Cs(e){return new B(n=>{ie(e()).subscribe(n)})}function Dl(...e){let n=as(e),{args:t,keys:r}=Ds(e),i=new B(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ie(t[u]).subscribe(L(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?bs(r,a):a),o.complete())}))}});return n?i.pipe(ws(n)):i}function Re(e,n){return U((t,r)=>{let i=0;t.subscribe(L(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Tt(e){return U((n,t)=>{let r=null,i=!1,o;r=n.subscribe(L(t,void 0,void 0,s=>{o=ie(e(s,Tt(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Th(e,n,t,r,i){return(o,s)=>{let a=t,c=n,l=0;o.subscribe(L(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function zt(e,n){return T(n)?te(e,n,1):te(e,1)}function qt(e){return U((n,t)=>{let r=!1;n.subscribe(L(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function xt(e){return e<=0?()=>be:U((n,t)=>{let r=0;n.subscribe(L(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Es(e=pw){return U((n,t)=>{let r=!1;n.subscribe(L(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function pw(){return new Mt}function Di(e){return U((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function At(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Re((i,o)=>e(i,o,r)):Ne,xt(1),t?qt(n):Es(()=>new Mt))}function pr(e){return e<=0?()=>be:U((n,t)=>{let r=[];n.subscribe(L(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function bl(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Re((i,o)=>e(i,o,r)):Ne,pr(1),t?qt(n):Es(()=>new Mt))}function Cl(e,n){return U(Th(e,n,arguments.length>=2,!0))}function El(...e){let n=Ht(e);return U((t,r)=>{(n?hr(e,t,n):hr(e,t)).subscribe(r)})}function je(e,n){return U((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(L(r,c=>{i?.unsubscribe();let l=0,u=o++;ie(e(c,u)).subscribe(i=L(r,d=>r.next(n?n(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Il(e){return U((n,t)=>{ie(e).subscribe(L(t,()=>t.complete(),_i)),!t.closed&&n.subscribe(t)})}function me(e,n,t){let r=T(e)||n||t?{next:e,error:n,complete:t}:e;return r?U((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(L(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ne}var gw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(n,t){super(mp(n,t)),this.code=n}};function mw(e){return`NG0${Math.abs(e)}`}function mp(e,n){return`${mw(e)}${n?": "+n:""}`}var vp=Symbol("InputSignalNode#UNSET"),vw=k(y({},es),{transformFn:void 0,applyValueToInputSignal(e,n){mi(e,n)}});function yp(e,n){let t=Object.create(vw);t.value=e,t.transformFn=n?.transform;function r(){if(gi(t),t.value===vp){let i=null;throw new w(-950,i)}return t.value}return r[Le]=t,r}function Ri(e){return{toString:e}.toString()}var Is="__parameters__";function yw(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function _p(e,n,t){return Ri(()=>{let r=yw(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Is)?c[Is]:Object.defineProperty(c,Is,{value:[]})[Is];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function W(e){for(let n in e)if(e[n]===W)return n;throw Error("Could not find renamed property on target object.")}function _w(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ie(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ie).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function xh(e,n){return e?n?`${e} ${n}`:e:n||""}var ww=W({__forward_ref__:W});function An(e){return e.__forward_ref__=An,e.toString=function(){return Ie(this())},e}function _e(e){return wp(e)?e():e}function wp(e){return typeof e=="function"&&e.hasOwnProperty(ww)&&e.__forward_ref__===An}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Rt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ia(e){return Ah(e,bp)||Ah(e,Cp)}function Dp(e){return ia(e)!==null}function Ah(e,n){return e.hasOwnProperty(n)?e[n]:null}function Dw(e){let n=e&&(e[bp]||e[Cp]);return n||null}function Nh(e){return e&&(e.hasOwnProperty(Rh)||e.hasOwnProperty(bw))?e[Rh]:null}var bp=W({\u0275prov:W}),Rh=W({\u0275inj:W}),Cp=W({ngInjectableDef:W}),bw=W({ngInjectorDef:W}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=D({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ep(e){return e&&!!e.\u0275providers}var Cw=W({\u0275cmp:W}),Ew=W({\u0275dir:W}),Iw=W({\u0275pipe:W}),Sw=W({\u0275mod:W}),Rs=W({\u0275fac:W}),Ii=W({__NG_ELEMENT_ID__:W}),Oh=W({__NG_ENV_ID__:W});function Mu(e){return typeof e=="string"?e:e==null?"":String(e)}function Mw(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Mu(e)}function Ip(e,n){throw new w(-200,e)}function Tu(e,n){throw new w(-201,!1)}var R=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(R||{}),Vl;function Sp(){return Vl}function Ee(e){let n=Vl;return Vl=e,n}function Mp(e,n,t){let r=ia(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&R.Optional)return null;if(n!==void 0)return n;Tu(e,"Injector")}var Tw={},_n=Tw,Ul="__NG_DI_FLAG__",Os=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?ts:_n,r)}},ks="ngTempTokenPath",xw="ngTokenPath",Aw=/\n/gm,Nw="\u0275",kh="__source";function Rw(e,n=R.Default){if(vi()===void 0)throw new w(-203,!1);if(vi()===null)return Mp(e,void 0,n);{let t=vi(),r;return t instanceof Os?r=t.injector:r=t,r.get(e,n&R.Optional?null:void 0,n)}}function I(e,n=R.Default){return(Sp()||Rw)(_e(e),n)}function m(e,n=R.Default){return I(e,oa(n))}function oa(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function $l(e){let n=[];for(let t=0;t<e.length;t++){let r=_e(e[t]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let i,o=R.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Ow(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(I(i,o))}else n.push(I(r))}return n}function Tp(e,n){return e[Ul]=n,e.prototype[Ul]=n,e}function Ow(e){return e[Ul]}function kw(e,n,t,r){let i=e[ks];throw n[kh]&&i.unshift(n[kh]),e.message=Pw(`
`+e.message,i,t,r),e[xw]=i,e[ks]=null,e}function Pw(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Nw?e.slice(2):e;let i=Ie(n);if(Array.isArray(n))i=n.map(Ie).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ie(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(Aw,`
  `)}`}var Fw=Tp(_p("Optional"),8);var Lw=Tp(_p("SkipSelf"),4);function Dn(e,n){let t=e.hasOwnProperty(Rs);return t?e[Rs]:null}function xu(e,n){e.forEach(t=>Array.isArray(t)?xu(t,n):n(t))}function xp(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Ps(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function jw(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function Vw(e,n,t){let r=Oi(e,n);return r>=0?e[r|1]=t:(r=~r,jw(e,r,n,t)),r}function Sl(e,n){let t=Oi(e,n);if(t>=0)return e[t|1]}function Oi(e,n){return Uw(e,n,1)}function Uw(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var bn={},Ve=[],Si=new b(""),Ap=new b("",-1),Np=new b(""),Fs=class{get(n,t=_n){if(t===_n){let r=new Error(`NullInjectorError: No provider for ${Ie(n)}!`);throw r.name="NullInjectorError",r}return t}};function Rp(e,n){let t=e[Sw]||null;if(!t&&n===!0)throw new Error(`Type ${Ie(e)} does not have '\u0275mod' property.`);return t}function Cn(e){return e[Cw]||null}function $w(e){return e[Ew]||null}function Bw(e){return e[Iw]||null}function Au(e){return{\u0275providers:e}}function Hw(...e){return{\u0275providers:Op(!0,e),\u0275fromNgModule:!0}}function Op(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return xu(n,s=>{let a=s;Bl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&kp(i,o),t}function kp(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Nu(i,o=>{n(o,r)})}}function Bl(e,n,t,r){if(e=_e(e),!e)return!1;let i=null,o=Nh(e),s=!o&&Cn(e);if(!o&&!s){let c=e.ngModule;if(o=Nh(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Bl(l,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{xu(o.imports,u=>{Bl(u,n,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&kp(l,n)}if(!a){let l=Dn(i)||(()=>new i);n({provide:i,useFactory:l,deps:Ve},i),n({provide:Np,useValue:i,multi:!0},i),n({provide:Si,useValue:()=>I(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Nu(c,u=>{n(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Nu(e,n){for(let t of e)Ep(t)&&(t=t.\u0275providers),Array.isArray(t)?Nu(t,n):n(t)}var zw=W({provide:String,useValue:W});function Pp(e){return e!==null&&typeof e=="object"&&zw in e}function qw(e){return!!(e&&e.useExisting)}function Ww(e){return!!(e&&e.useFactory)}function Dr(e){return typeof e=="function"}function Gw(e){return!!e.useClass}var sa=new b(""),Ms={},Ph={},Ml;function Ru(){return Ml===void 0&&(Ml=new Fs),Ml}var Se=class{},Mi=class extends Se{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,zl(n,s=>this.processProvider(s)),this.records.set(Ap,gr(void 0,this)),i.has("environment")&&this.records.set(Se,gr(void 0,this));let o=this.records.get(sa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Np,Ve,R.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?ts:_n,r)}destroy(){Ci(this),this._destroyed=!0;let n=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(n)}}onDestroy(n){return Ci(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ci(this);let t=St(this),r=Ee(void 0),i;try{return n()}finally{St(t),Ee(r)}}get(n,t=_n,r=R.Default){if(Ci(this),n.hasOwnProperty(Oh))return n[Oh](this);r=oa(r);let i,o=St(this),s=Ee(void 0);try{if(!(r&R.SkipSelf)){let c=this.records.get(n);if(c===void 0){let l=Jw(n)&&ia(n);l&&this.injectableDefInScope(l)?c=gr(Hl(n),Ms):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,r)}let a=r&R.Self?Ru():this.parent;return t=r&R.Optional&&t===_n?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ks]=a[ks]||[]).unshift(Ie(n)),o)throw a;return kw(a,n,"R3InjectorError",this.source)}else throw a}finally{Ee(s),St(o)}}resolveInjectorInitializers(){let n=F(null),t=St(this),r=Ee(void 0),i;try{let o=this.get(Si,Ve,R.Self);for(let s of o)s()}finally{St(t),Ee(r),F(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Ie(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=_e(n);let t=Dr(n)?n:_e(n&&n.provide),r=Kw(n);if(!Dr(n)&&n.multi===!0){let i=this.records.get(t);i||(i=gr(void 0,Ms,!0),i.factory=()=>$l(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=F(null);try{return t.value===Ph?Ip(Ie(n)):t.value===Ms&&(t.value=Ph,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Qw(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{F(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=_e(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Hl(e){let n=ia(e),t=n!==null?n.factory:Dn(e);if(t!==null)return t;if(e instanceof b)throw new w(204,!1);if(e instanceof Function)return Zw(e);throw new w(204,!1)}function Zw(e){if(e.length>0)throw new w(204,!1);let t=Dw(e);return t!==null?()=>t.factory(e):()=>new e}function Kw(e){if(Pp(e))return gr(void 0,e.useValue);{let n=Fp(e);return gr(n,Ms)}}function Fp(e,n,t){let r;if(Dr(e)){let i=_e(e);return Dn(i)||Hl(i)}else if(Pp(e))r=()=>_e(e.useValue);else if(Ww(e))r=()=>e.useFactory(...$l(e.deps||[]));else if(qw(e))r=(i,o)=>I(_e(e.useExisting),o!==void 0&&o&R.Optional?R.Optional:void 0);else{let i=_e(e&&(e.useClass||e.provide));if(Yw(e))r=()=>new i(...$l(e.deps));else return Dn(i)||Hl(i)}return r}function Ci(e){if(e.destroyed)throw new w(205,!1)}function gr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Yw(e){return!!e.deps}function Qw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Jw(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function zl(e,n){for(let t of e)Array.isArray(t)?zl(t,n):t&&Ep(t)?zl(t.\u0275providers,n):n(t)}function He(e,n){let t;e instanceof Mi?(Ci(e),t=e):t=new Os(e);let r,i=St(t),o=Ee(void 0);try{return n()}finally{St(i),Ee(o)}}function Lp(){return Sp()!==void 0||vi()!=null}function Xw(e){if(!Lp())throw new w(-203,!1)}function eD(e){return typeof e=="function"}var Ot=0,V=1,x=2,we=3,Qe=4,Xe=5,Ls=6,js=7,Me=8,br=9,Zt=10,ue=11,Ti=12,Fh=13,Ar=14,at=15,Cr=16,mr=17,Er=18,aa=19,jp=20,Wt=21,Tl=22,Vs=23,Ue=24,_r=25,Je=26,Vp=1;var En=7,Us=8,$s=9,$e=10;function Gt(e){return Array.isArray(e)&&typeof e[Vp]=="object"}function kt(e){return Array.isArray(e)&&e[Vp]===!0}function Up(e){return(e.flags&4)!==0}function Nr(e){return e.componentOffset>-1}function Ou(e){return(e.flags&1)===1}function ct(e){return!!e.template}function Bs(e){return(e[x]&512)!==0}function Rr(e){return(e[x]&256)===256}var ql=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function $p(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Nn=(()=>{let e=()=>Bp;return e.ngInherit=!0,e})();function Bp(e){return e.type.prototype.ngOnChanges&&(e.setInput=nD),tD}function tD(){let e=zp(this),n=e?.current;if(n){let t=e.previous;if(t===bn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function nD(e,n,t,r,i){let o=this.declaredInputs[r],s=zp(e)||rD(e,{previous:bn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new ql(l&&l.currentValue,t,c===bn),$p(e,n,i,t)}var Hp="__ngSimpleChanges__";function zp(e){return e[Hp]||null}function rD(e,n){return e[Hp]=n}var Lh=null;var H=function(e,n=null,t){Lh?.(e,n,t)},iD="svg",oD="math";function lt(e){for(;Array.isArray(e);)e=e[Ot];return e}function qp(e,n){return lt(n[e])}function ht(e,n){return lt(n[e.index])}function Wp(e,n){return e.data[n]}function sD(e,n){return e[n]}function aD(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function ut(e,n){let t=n[e];return Gt(t)?t:t[Ot]}function ku(e){return(e[x]&128)===128}function cD(e){return kt(e[we])}function Hs(e,n){return n==null?null:e[n]}function Gp(e){e[mr]=0}function Zp(e){e[x]&1024||(e[x]|=1024,ku(e)&&ki(e))}function lD(e,n){for(;e>0;)n=n[Ar],e--;return n}function ca(e){return!!(e[x]&9216||e[Ue]?.dirty)}function Wl(e){e[Zt].changeDetectionScheduler?.notify(8),e[x]&64&&(e[x]|=1024),ca(e)&&ki(e)}function ki(e){e[Zt].changeDetectionScheduler?.notify(0);let n=In(e);for(;n!==null&&!(n[x]&8192||(n[x]|=8192,!ku(n)));)n=In(n)}function Kp(e,n){if(Rr(e))throw new w(911,!1);e[Wt]===null&&(e[Wt]=[]),e[Wt].push(n)}function uD(e,n){if(e[Wt]===null)return;let t=e[Wt].indexOf(n);t!==-1&&e[Wt].splice(t,1)}function In(e){let n=e[we];return kt(n)?n[we]:n}function Yp(e){return e[js]??=[]}function Qp(e){return e.cleanup??=[]}var P={lFrame:og(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Gl=!1;function dD(){return P.lFrame.elementDepthCount}function fD(){P.lFrame.elementDepthCount++}function hD(){P.lFrame.elementDepthCount--}function Jp(){return P.bindingsEnabled}function pD(){return P.skipHydrationRootTNode!==null}function gD(e){return P.skipHydrationRootTNode===e}function mD(){P.skipHydrationRootTNode=null}function z(){return P.lFrame.lView}function Te(){return P.lFrame.tView}function Yt(e){return P.lFrame.contextLView=e,e[Me]}function Qt(e){return P.lFrame.contextLView=null,e}function Oe(){let e=Xp();for(;e!==null&&e.type===64;)e=e.parent;return e}function Xp(){return P.lFrame.currentTNode}function vD(){let e=P.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Pi(e,n){let t=P.lFrame;t.currentTNode=e,t.isParent=n}function eg(){return P.lFrame.isParent}function yD(){P.lFrame.isParent=!1}function tg(){return Gl}function jh(e){let n=Gl;return Gl=e,n}function Pu(){let e=P.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function _D(e){return P.lFrame.bindingIndex=e}function la(){return P.lFrame.bindingIndex++}function wD(e){let n=P.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function DD(){return P.lFrame.inI18n}function bD(e,n){let t=P.lFrame;t.bindingIndex=t.bindingRootIndex=e,Zl(n)}function CD(){return P.lFrame.currentDirectiveIndex}function Zl(e){P.lFrame.currentDirectiveIndex=e}function ED(e){let n=P.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function ng(e){P.lFrame.currentQueryIndex=e}function ID(e){let n=e[V];return n.type===2?n.declTNode:n.type===1?e[Xe]:null}function rg(e,n,t){if(t&R.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&R.Host);)if(i=ID(o),i===null||(o=o[Ar],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=P.lFrame=ig();return r.currentTNode=n,r.lView=e,!0}function Fu(e){let n=ig(),t=e[V];P.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function ig(){let e=P.lFrame,n=e===null?null:e.child;return n===null?og(e):n}function og(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function sg(){let e=P.lFrame;return P.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ag=sg;function Lu(){let e=sg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function SD(e){return(P.lFrame.contextLView=lD(e,P.lFrame.contextLView))[Me]}function Or(){return P.lFrame.selectedIndex}function Sn(e){P.lFrame.selectedIndex=e}function ju(){let e=P.lFrame;return Wp(e.tView,e.selectedIndex)}function MD(){return P.lFrame.currentNamespace}var cg=!0;function Vu(){return cg}function Uu(e){cg=e}function TD(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Bp(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function lg(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function Ts(e,n,t){ug(e,n,3,t)}function xs(e,n,t,r){(e[x]&3)===t&&ug(e,n,t,r)}function xl(e,n){let t=e[x];(t&3)===n&&(t&=16383,t+=1,e[x]=t)}function ug(e,n,t,r){let i=r!==void 0?e[mr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[mr]+=65536),(a<o||o==-1)&&(xD(e,t,n,c),e[mr]=(e[mr]&4294901760)+c+2),c++}function Vh(e,n){H(4,e,n);let t=F(null);try{n.call(e)}finally{F(t),H(5,e,n)}}function xD(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[x]>>14<e[mr]>>16&&(e[x]&3)===n&&(e[x]+=16384,Vh(a,o)):Vh(a,o)}var wr=-1,Mn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function AD(e){return(e.flags&8)!==0}function ND(e){return(e.flags&16)!==0}function RD(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];kD(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function OD(e){return e===3||e===4||e===6}function kD(e){return e.charCodeAt(0)===64}function xi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Uh(e,t,i,null,n[++r]):Uh(e,t,i,null,null))}}return e}function Uh(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function dg(e){return e!==wr}function zs(e){return e&32767}function PD(e){return e>>16}function qs(e,n){let t=PD(e),r=n;for(;t>0;)r=r[Ar],t--;return r}var Kl=!0;function Ws(e){let n=Kl;return Kl=e,n}var FD=256,fg=FD-1,hg=5,LD=0,st={};function jD(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ii)&&(r=t[Ii]),r==null&&(r=t[Ii]=LD++);let i=r&fg,o=1<<i;n.data[e+(i>>hg)]|=o}function Gs(e,n){let t=pg(e,n);if(t!==-1)return t;let r=n[V];r.firstCreatePass&&(e.injectorIndex=n.length,Al(r.data,e),Al(n,null),Al(r.blueprint,null));let i=$u(e,n),o=e.injectorIndex;if(dg(i)){let s=zs(i),a=qs(i,n),c=a[V].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|c[s+l]}return n[o+8]=i,o}function Al(e,n){e.push(0,0,0,0,0,0,0,0,n)}function pg(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function $u(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=_g(i),r===null)return wr;if(t++,i=i[Ar],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return wr}function Yl(e,n,t){jD(e,n,t)}function gg(e,n,t){if(t&R.Optional||e!==void 0)return e;Tu(n,"NodeInjector")}function mg(e,n,t,r){if(t&R.Optional&&r===void 0&&(r=null),(t&(R.Self|R.Host))===0){let i=e[br],o=Ee(void 0);try{return i?i.get(n,r,t&R.Optional):Mp(n,r,t&R.Optional)}finally{Ee(o)}}return gg(r,n,t)}function vg(e,n,t,r=R.Default,i){if(e!==null){if(n[x]&2048&&!(r&R.Self)){let s=HD(e,n,t,r,st);if(s!==st)return s}let o=yg(e,n,t,r,st);if(o!==st)return o}return mg(n,t,r,i)}function yg(e,n,t,r,i){let o=$D(t);if(typeof o=="function"){if(!rg(n,e,r))return r&R.Host?gg(i,t,r):mg(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&R.Optional))Tu(t);else return s}finally{ag()}}else if(typeof o=="number"){let s=null,a=pg(e,n),c=wr,l=r&R.Host?n[at][Xe]:null;for((a===-1||r&R.SkipSelf)&&(c=a===-1?$u(e,n):n[a+8],c===wr||!Bh(r,!1)?a=-1:(s=n[V],a=zs(c),n=qs(c,n)));a!==-1;){let u=n[V];if($h(o,a,u.data)){let d=VD(a,n,t,s,r,l);if(d!==st)return d}c=n[a+8],c!==wr&&Bh(r,n[V].data[a+8]===l)&&$h(o,a,n)?(s=u,a=zs(c),n=qs(c,n)):a=-1}}return i}function VD(e,n,t,r,i,o){let s=n[V],a=s.data[e+8],c=r==null?Nr(a)&&Kl:r!=s&&(a.type&3)!==0,l=i&R.Host&&o===a,u=UD(a,s,t,c,l);return u!==null?Zs(n,s,u,a,i):st}function UD(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let f=d;f<p;f++){let g=s[f];if(f<c&&t===g||f>=c&&g.type===t)return f}if(i){let f=s[c];if(f&&ct(f)&&f.type===t)return c}return null}function Zs(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof Mn){let a=o;a.resolving&&Ip(Mw(s[t]));let c=Ws(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Ee(a.injectImpl):null,d=rg(e,r,R.Default);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&TD(t,s[t],n)}finally{u!==null&&Ee(u),Ws(c),a.resolving=!1,ag()}}return o}function $D(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Ii)?e[Ii]:void 0;return typeof n=="number"?n>=0?n&fg:BD:n}function $h(e,n,t){let r=1<<e;return!!(t[n+(e>>hg)]&r)}function Bh(e,n){return!(e&R.Self)&&!(e&R.Host&&n)}var wn=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return vg(this._tNode,this._lView,n,oa(r),t)}};function BD(){return new wn(Oe(),z())}function kr(e){return Ri(()=>{let n=e.prototype.constructor,t=n[Rs]||Ql(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Rs]||Ql(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ql(e){return wp(e)?()=>{let n=Ql(_e(e));return n&&n()}:Dn(e)}function HD(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[x]&2048&&!Bs(s);){let a=yg(o,s,t,r|R.Self,st);if(a!==st)return a;let c=o.parent;if(!c){let l=s[jp];if(l){let u=l.get(t,st,r);if(u!==st)return u}c=_g(s),s=s[Ar]}o=c}return i}function _g(e){let n=e[V],t=n.type;return t===2?n.declTNode:t===1?e[Xe]:null}function Hh(e,n=null,t=null,r){let i=wg(e,n,t,r);return i.resolveInjectorInitializers(),i}function wg(e,n=null,t=null,r,i=new Set){let o=[t||Ve,Hw(e)];return r=r||(typeof e=="object"?void 0:Ie(e)),new Mi(o,n||Ru(),r||null,i)}var Be=class e{static THROW_IF_NOT_FOUND=_n;static NULL=new Fs;static create(n,t){if(Array.isArray(n))return Hh({name:""},t,n,"");{let r=n.name??"";return Hh({name:r},n.parent,n.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>I(Ap)});static __NG_ELEMENT_ID__=-1};var zD=new b("");zD.__NG_ELEMENT_ID__=e=>{let n=Oe();if(n===null)throw new w(204,!1);if(n.type&2)return n.value;if(e&R.Optional)return null;throw new w(204,!1)};var Dg=!1,Fi=(()=>{class e{static __NG_ELEMENT_ID__=qD;static __NG_ENV_ID__=t=>t}return e})(),Jl=class extends Fi{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return Rr(t)?(n(),()=>{}):(Kp(t,n),()=>uD(t,n))}};function qD(){return new Jl(z())}var Ir=class{},bg=new b("",{providedIn:"root",factory:()=>!1});var Cg=new b(""),Eg=new b(""),Pr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ce(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})();var Xl=class extends ae{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Lp()&&(this.destroyRef=m(Fi,{optional:!0})??void 0,this.pendingTasks=m(Pr,{optional:!0})??void 0)}emit(n){let t=F(null);try{super.next(n)}finally{F(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof re&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},le=Xl;function Ks(...e){}function Ig(e){let n,t;function r(){e=Ks;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function zh(e){return queueMicrotask(()=>e()),()=>{e=Ks}}var Bu="isAngularZone",Ys=Bu+"_ID",WD=0,oe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new le(!1);onMicrotaskEmpty=new le(!1);onStable=new le(!1);onError=new le(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Dg}=n;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,KD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new w(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,GD,Ks,Ks);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},GD={};function Hu(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ZD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Ig(()=>{e.callbackScheduled=!1,eu(e),e.isCheckStableRunning=!0,Hu(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),eu(e)}function KD(e){let n=()=>{ZD(e)},t=WD++;e._inner=e._inner.fork({name:"angular",properties:{[Bu]:!0,[Ys]:t,[Ys+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(YD(c))return r.invokeTask(o,s,a,c);try{return qh(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Wh(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return qh(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!QD(c)&&n(),Wh(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,eu(e),Hu(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function eu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function qh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wh(e){e._nesting--,Hu(e)}var tu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new le;onMicrotaskEmpty=new le;onStable=new le;onError=new le;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function YD(e){return Sg(e,"__ignore_ng_zone__")}function QD(e){return Sg(e,"__scheduler_tick__")}function Sg(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var dt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},JD=new b("",{providedIn:"root",factory:()=>{let e=m(oe),n=m(dt);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function Gh(e,n){return yp(e,n)}function XD(e){return yp(vp,e)}var Mg=(Gh.required=XD,Gh);function eb(){return ua(Oe(),z())}function ua(e,n){return new Jt(ht(e,n))}var Jt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=eb}return e})();function tb(e){return typeof e=="function"&&e[Le]!==void 0}function Li(e,n){let t=al(e,n?.equal),r=t[Le];return t.set=i=>mi(r,i),t.update=i=>cl(r,i),t.asReadonly=nb.bind(t),t}function nb(){let e=this[Le];if(e.readonlyFn===void 0){let n=()=>this();n[Le]=e,e.readonlyFn=n}return e.readonlyFn}function Tg(e){return tb(e)&&typeof e.set=="function"}function xg(e){return(e.flags&128)===128}var Ag=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ag||{}),Ng=new Map,rb=0;function ib(){return rb++}function ob(e){Ng.set(e[aa],e)}function nu(e){Ng.delete(e[aa])}var Zh="__ngContext__";function ji(e,n){Gt(n)?(e[Zh]=n[aa],ob(n)):e[Zh]=n}function Rg(e){return kg(e[Ti])}function Og(e){return kg(e[Qe])}function kg(e){for(;e!==null&&!kt(e);)e=e[Qe];return e}var ru;function Pg(e){ru=e}function sb(){if(ru!==void 0)return ru;if(typeof document<"u")return document;throw new w(210,!1)}var zu=new b("",{providedIn:"root",factory:()=>ab}),ab="ng",qu=new b(""),Fr=new b("",{providedIn:"platform",factory:()=>"unknown"});var Wu=new b("",{providedIn:"root",factory:()=>sb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cb="h",lb="b";var Fg=!1,ub=new b("",{providedIn:"root",factory:()=>Fg});var Gu=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Gu||{}),Lr=new b(""),Kh=new Set;function Vi(e){Kh.has(e)||(Kh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Lg=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=db}return e})();function db(){return new Lg(z(),Oe())}var vr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(vr||{}),jg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),fb=[vr.EarlyRead,vr.Write,vr.MixedReadWrite,vr.Read],hb=(()=>{class e{ngZone=m(oe);scheduler=m(Ir);errorHandler=m(dt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(Lr,{optional:!0})}execute(){let t=this.sequences.size>0;t&&H(16),this.executing=!0;for(let r of fb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&H(17)}register(t){let{view:r}=t;r!==void 0?((r[_r]??=[]).push(t),ki(r),r[x]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Gu.AFTER_NEXT_RENDER,t):t()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),iu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[_r];n&&(this.view[_r]=n.filter(t=>t!==this))}};function Zu(e,n){!n?.injector&&Xw(Zu);let t=n?.injector??m(Be);return Vi("NgAfterNextRender"),gb(e,t,n,!0)}function pb(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function gb(e,n,t,r){let i=n.get(jg);i.impl??=n.get(hb);let o=n.get(Lr,null,{optional:!0}),s=t?.phase??vr.MixedReadWrite,a=t?.manualCleanup!==!0?n.get(Fi):null,c=n.get(Lg,null,{optional:!0}),l=new iu(i.impl,pb(e,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var mb=(e,n,t,r)=>{};function vb(e,n,t,r){mb(e,n,t,r)}var yb=()=>null;function Vg(e,n,t=!1){return yb(e,n,t)}function Ug(e,n){let t=e.contentQueries;if(t!==null){let r=F(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];ng(o),a.contentQueries(2,n[s],s)}}}finally{F(r)}}}function ou(e,n,t){ng(0);let r=F(null);try{n(e,t)}finally{F(r)}}function $g(e,n,t){if(Up(n)){let r=F(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{F(r)}}}var ft=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ft||{});var su=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gw})`}};function Bg(e){return e instanceof su?e.changingThisBreaksApplicationSecurity:e}function Hg(e){return e instanceof Function?e():e}function _b(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var zg="ng-template";function wb(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&_b(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ku(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ku(e){return e.type===4&&e.value!==zg}function Db(e,n,t){let r=e.type===4&&!t?zg:e.value;return n===r}function bb(e,n,t){let r=4,i=e.attrs,o=i!==null?Ib(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Ye(r)&&!Ye(c))return!1;if(s&&Ye(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Db(e,c,t)||c===""&&n.length===1){if(Ye(r))return!1;s=!0}}else if(r&8){if(i===null||!wb(e,i,c,t)){if(Ye(r))return!1;s=!0}}else{let l=n[++a],u=Cb(c,i,Ku(e),t);if(u===-1){if(Ye(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Ye(r))return!1;s=!0}}}}return Ye(r)||s}function Ye(e){return(e&1)===0}function Cb(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Sb(n,e)}function Eb(e,n,t=!1){for(let r=0;r<n.length;r++)if(bb(e,n[r],t))return!0;return!1}function Ib(e){for(let n=0;n<e.length;n++){let t=e[n];if(OD(t))return n}return e.length}function Sb(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Yh(e,n){return e?":not("+n.trim()+")":n}function Mb(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ye(s)&&(n+=Yh(o,i),i=""),r=s,o=o||!Ye(r);t++}return i!==""&&(n+=Yh(o,i)),n}function Tb(e){return e.map(Mb).join(",")}function xb(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Ye(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Rn={};function Ab(e,n){return e.createText(n)}function Nb(e,n,t){e.setValue(n,t)}function qg(e,n,t){return e.createElement(n,t)}function Qs(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Wg(e,n,t){e.appendChild(n,t)}function Qh(e,n,t,r,i){r!==null?Qs(e,n,t,r,i):Wg(e,n,t)}function Rb(e,n,t){e.removeChild(null,n,t)}function Ob(e,n,t){e.setAttribute(n,"style",t)}function kb(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Gg(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&RD(e,n,r),i!==null&&kb(e,n,i),o!==null&&Ob(e,n,o)}function Yu(e,n,t,r,i,o,s,a,c,l,u){let d=Je+r,p=d+i,f=Pb(d,p),g=typeof l=="function"?l():l;return f[V]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Pb(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Rn);return t}function Fb(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Yu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Qu(e,n,t,r,i,o,s,a,c,l,u){let d=n.blueprint.slice();return d[Ot]=i,d[x]=r|4|128|8|64|1024,(l!==null||e&&e[x]&2048)&&(d[x]|=2048),Gp(d),d[we]=d[Ar]=e,d[Me]=t,d[Zt]=s||e&&e[Zt],d[ue]=a||e&&e[ue],d[br]=c||e&&e[br]||null,d[Xe]=o,d[aa]=ib(),d[Ls]=u,d[jp]=l,d[at]=n.type==2?e[at]:d,d}function Lb(e,n,t){let r=ht(n,e),i=Fb(t),o=e[Zt].rendererFactory,s=Ju(e,Qu(e,i,null,Zg(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function Zg(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Kg(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ju(e,n){return e[Ti]?e[Fh][Qe]=n:e[Ti]=n,e[Fh]=n,n}function ee(e=1){Yg(Te(),z(),Or()+e,!1)}function Yg(e,n,t,r){if(!r)if((n[x]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ts(n,o,t)}else{let o=e.preOrderHooks;o!==null&&xs(n,o,0,t)}Sn(t)}var da=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(da||{});function au(e,n,t,r){let i=F(null);try{let[o,s,a]=e.inputs[t],c=null;(s&da.SignalBased)!==0&&(c=n[o][Le]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):$p(n,c,o,r)}finally{F(i)}}function Qg(e,n,t,r,i){let o=Or(),s=r&2;try{Sn(-1),s&&n.length>Je&&Yg(e,n,Je,!1),H(s?2:0,i),t(r,i)}finally{Sn(o),H(s?3:1,i)}}function Xu(e,n,t){Hb(e,n,t),(t.flags&64)===64&&zb(e,n,t)}function Jg(e,n,t=ht){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function jb(e,n,t,r){let o=r.get(ub,Fg)||t===ft.ShadowDom,s=e.selectRootElement(n,o);return Vb(s),s}function Vb(e){Ub(e)}var Ub=()=>null;function $b(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Xg(e,n,t,r,i,o,s,a){if(!a&&ed(n,e,t,r,i)){Nr(n)&&Bb(t,n.index);return}if(n.type&3){let c=ht(n,t);r=$b(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(c,r,i)}else n.type&12}function Bb(e,n){let t=ut(n,e);t[x]&16||(t[x]|=64)}function Hb(e,n,t){let r=t.directiveStart,i=t.directiveEnd;Nr(t)&&Lb(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Gs(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Zs(n,e,s,t);if(ji(c,n),o!==null&&Zb(n,s-r,c,a,t,o),ct(a)){let l=ut(t.index,n);l[Me]=Zs(n,e,s,t)}}}function zb(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=CD();try{Sn(o);for(let a=r;a<i;a++){let c=e.data[a],l=n[a];Zl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qb(c,l)}}finally{Sn(-1),Zl(s)}}function qb(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function em(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Eb(n,o.selectors,!1)&&(r??=[],ct(o)?r.unshift(o):r.push(o))}return r}function Wb(e,n,t,r,i,o){let s=ht(e,n);Gb(n[ue],s,o,e.value,t,r,i)}function Gb(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Mu(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function Zb(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];au(r,t,c,l)}}function Kb(e,n){let t=e[br],r=t?t.get(dt,null):null;r&&r.handleError(n)}function ed(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=n.data[l];au(d,t[l],u,i),a=!0}if(o)for(let c of o){let l=t[c],u=n.data[c];au(u,l,r,i),a=!0}return a}function Yb(e,n){let t=ut(n,e),r=t[V];Qb(r,t);let i=t[Ot];i!==null&&t[Ls]===null&&(t[Ls]=Vg(i,t[br])),H(18),td(r,t,t[Me]),H(19,t[Me])}function Qb(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function td(e,n,t){Fu(n);try{let r=e.viewQuery;r!==null&&ou(1,r,t);let i=e.template;i!==null&&Qg(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Er]?.finishViewCreation(e),e.staticContentQueries&&Ug(e,n),e.staticViewQueries&&ou(2,e.viewQuery,t);let o=e.components;o!==null&&Jb(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[x]&=-5,Lu()}}function Jb(e,n){for(let t=0;t<n.length;t++)Yb(e,n[t])}function Xb(e,n,t,r){let i=F(null);try{let o=n.tView,a=e[x]&4096?4096:16,c=Qu(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];c[Cr]=l;let u=e[Er];return u!==null&&(c[Er]=u.createEmbeddedView(o)),td(o,c,t),c}finally{F(i)}}function Jh(e,n){return!n||n.firstChild===null||xg(e)}var eC;function nd(e,n){return eC(e,n)}var Nt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Nt||{});function tm(e){return(e.flags&32)===32}function yr(e,n,t,r,i){if(r!=null){let o,s=!1;kt(r)?o=r:Gt(r)&&(s=!0,r=r[Ot]);let a=lt(r);e===0&&t!==null?i==null?Wg(n,t,a):Qs(n,t,a,i||null,!0):e===1&&t!==null?Qs(n,t,a,i||null,!0):e===2?Rb(n,a,s):e===3&&n.destroyNode(a),o!=null&&fC(n,e,o,t,i)}}function tC(e,n){nm(e,n),n[Ot]=null,n[Xe]=null}function nC(e,n,t,r,i,o){r[Ot]=i,r[Xe]=n,fa(e,r,t,1,i,o)}function nm(e,n){n[Zt].changeDetectionScheduler?.notify(9),fa(e,n,n[ue],2,null,null)}function rC(e){let n=e[Ti];if(!n)return Nl(e[V],e);for(;n;){let t=null;if(Gt(n))t=n[Ti];else{let r=n[$e];r&&(t=r)}if(!t){for(;n&&!n[Qe]&&n!==e;)Gt(n)&&Nl(n[V],n),n=n[we];n===null&&(n=e),Gt(n)&&Nl(n[V],n),t=n&&n[Qe]}n=t}}function rd(e,n){let t=e[$s],r=t.indexOf(n);t.splice(r,1)}function rm(e,n){if(Rr(n))return;let t=n[ue];t.destroyNode&&fa(e,n,t,3,null,null),rC(n)}function Nl(e,n){if(Rr(n))return;let t=F(null);try{n[x]&=-129,n[x]|=256,n[Ue]&&il(n[Ue]),oC(e,n),iC(e,n),n[V].type===1&&n[ue].destroy();let r=n[Cr];if(r!==null&&kt(n[we])){r!==n[we]&&rd(r,n);let i=n[Er];i!==null&&i.detachView(e)}nu(n)}finally{F(t)}}function iC(e,n){let t=e.cleanup,r=n[js];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[js]=null);let i=n[Wt];if(i!==null){n[Wt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Vs];if(o!==null){n[Vs]=null;for(let s of o)s.destroy()}}function oC(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof Mn)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];H(4,a,c);try{c.call(a)}finally{H(5,a,c)}}else{H(4,i,o);try{o.call(i)}finally{H(5,i,o)}}}}}function sC(e,n,t){return aC(e,n.parent,t)}function aC(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[Ot];if(Nr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===ft.None||i===ft.Emulated)return null}return ht(r,t)}function cC(e,n,t){return uC(e,n,t)}function lC(e,n,t){return e.type&40?ht(e,t):null}var uC=lC,Xh;function id(e,n,t,r){let i=sC(e,r,n),o=n[ue],s=r.parent||n[Xe],a=cC(s,r,n);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Qh(o,i,t[c],a,!1);else Qh(o,i,t,a,!1);Xh!==void 0&&Xh(o,r,n,t,i)}function Ei(e,n){if(n!==null){let t=n.type;if(t&3)return ht(n,e);if(t&4)return cu(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Ei(e,r);{let i=e[n.index];return kt(i)?cu(-1,i):lt(i)}}else{if(t&128)return Ei(e,n.next);if(t&32)return nd(n,e)()||lt(e[n.index]);{let r=im(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=In(e[at]);return Ei(i,r)}else return Ei(e,n.next)}}}return null}function im(e,n){if(n!==null){let r=e[at][Xe],i=n.projection;return r.projection[i]}return null}function cu(e,n){let t=$e+e+1;if(t<n.length){let r=n[t],i=r[V].firstChild;if(i!==null)return Ei(r,i)}return n[En]}function od(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&n===0&&(a&&ji(lt(a),r),t.flags|=2),!tm(t))if(c&8)od(e,n,t.child,r,i,o,!1),yr(n,e,i,a,o);else if(c&32){let l=nd(t,r),u;for(;u=l();)yr(n,e,i,u,o);yr(n,e,i,a,o)}else c&16?dC(e,n,r,t,i,o):yr(n,e,i,a,o);t=s?t.projectionNext:t.next}}function fa(e,n,t,r,i,o){od(t,r,e.firstChild,n,i,o,!1)}function dC(e,n,t,r,i,o){let s=t[at],c=s[Xe].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];yr(n,e,i,u,o)}else{let l=c,u=s[we];xg(r)&&(l.flags|=128),od(e,n,l,u,i,o,!0)}}function fC(e,n,t,r,i){let o=t[En],s=lt(t);o!==s&&yr(n,e,r,o,i);for(let a=$e;a<t.length;a++){let c=t[a];fa(c[V],c,e,n,r,o)}}function hC(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Nt.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Nt.Important),e.setStyle(t,r,i,o))}}function Js(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(lt(o)),kt(o)&&pC(o,r);let s=t.type;if(s&8)Js(e,n,t.child,r);else if(s&32){let a=nd(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=im(n,t);if(Array.isArray(a))r.push(...a);else{let c=In(n[at]);Js(c[V],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function pC(e,n){for(let t=$e;t<e.length;t++){let r=e[t],i=r[V].firstChild;i!==null&&Js(r[V],r,i,n)}e[En]!==e[Ot]&&n.push(e[En])}function om(e){if(e[_r]!==null){for(let n of e[_r])n.impl.addSequence(n);e[_r].length=0}}var sm=[];function gC(e){return e[Ue]??mC(e)}function mC(e){let n=sm.pop()??Object.create(yC);return n.lView=e,n}function vC(e){e.lView[Ue]!==e&&(e.lView=null,sm.push(e))}var yC=k(y({},pi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ki(e.lView)},consumerOnSignalRead(){this.lView[Ue]=this}});function _C(e){let n=e[Ue]??Object.create(wC);return n.lView=e,n}var wC=k(y({},pi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=In(e.lView);for(;n&&!am(n[V]);)n=In(n);n&&Zp(n)},consumerOnSignalRead(){this.lView[Ue]=this}});function am(e){return e.type!==2}function cm(e){if(e[Vs]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Vs])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[x]&8192)}}var DC=100;function lm(e,n=!0,t=0){let i=e[Zt].rendererFactory,o=!1;o||i.begin?.();try{bC(e,t)}catch(s){throw n&&Kb(e,s),s}finally{o||i.end?.()}}function bC(e,n){let t=tg();try{jh(!0),lu(e,n);let r=0;for(;ca(e);){if(r===DC)throw new w(103,!1);r++,lu(e,1)}}finally{jh(t)}}function CC(e,n,t,r){if(Rr(n))return;let i=n[x],o=!1,s=!1;Fu(n);let a=!0,c=null,l=null;o||(am(e)?(l=gC(n),c=Qo(l)):Jc()===null?(a=!1,l=_C(n),c=Qo(l)):n[Ue]&&(il(n[Ue]),n[Ue]=null));try{Gp(n),_D(e.bindingStartIndex),t!==null&&Qg(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Ts(n,f,null)}else{let f=e.preOrderHooks;f!==null&&xs(n,f,0,null),xl(n,0)}if(s||EC(n),cm(n),um(n,0),e.contentQueries!==null&&Ug(e,n),!o)if(u){let f=e.contentCheckHooks;f!==null&&Ts(n,f)}else{let f=e.contentHooks;f!==null&&xs(n,f,1),xl(n,1)}SC(e,n);let d=e.components;d!==null&&fm(n,d,0);let p=e.viewQuery;if(p!==null&&ou(2,p,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&Ts(n,f)}else{let f=e.viewHooks;f!==null&&xs(n,f,2),xl(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Tl]){for(let f of n[Tl])f();n[Tl]=null}o||(om(n),n[x]&=-73)}catch(u){throw o||ki(n),u}finally{l!==null&&(nl(l,c),a&&vC(l)),Lu()}}function um(e,n){for(let t=Rg(e);t!==null;t=Og(t))for(let r=$e;r<t.length;r++){let i=t[r];dm(i,n)}}function EC(e){for(let n=Rg(e);n!==null;n=Og(n)){if(!(n[x]&2))continue;let t=n[$s];for(let r=0;r<t.length;r++){let i=t[r];Zp(i)}}}function IC(e,n,t){H(18);let r=ut(n,e);dm(r,t),H(19,r[Me])}function dm(e,n){ku(e)&&lu(e,n)}function lu(e,n){let r=e[V],i=e[x],o=e[Ue],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&rl(o)),s||=!1,o&&(o.dirty=!1),e[x]&=-9217,s)CC(r,e,r.template,e[Me]);else if(i&8192){cm(e),um(e,1);let a=r.components;a!==null&&fm(e,a,1),om(e)}}function fm(e,n,t){for(let r=0;r<n.length;r++)IC(e,n[r],t)}function SC(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Sn(~i);else{let o=i,s=t[++r],a=t[++r];bD(s,o);let c=n[o];H(24,c),a(2,c),H(25,c)}}}finally{Sn(-1)}}function sd(e,n){let t=tg()?64:1088;for(e[Zt].changeDetectionScheduler?.notify(n);e;){e[x]|=t;let r=In(e);if(Bs(e)&&!r)return e;e=r}return null}function hm(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function MC(e,n,t,r=!0){let i=n[V];if(TC(i,n,e,t),r){let s=cu(t,e),a=n[ue],c=a.parentNode(e[En]);c!==null&&nC(i,e[Xe],a,n,c,s)}let o=n[Ls];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function uu(e,n){if(e.length<=$e)return;let t=$e+n,r=e[t];if(r){let i=r[Cr];i!==null&&i!==e&&rd(i,r),n>0&&(e[t-1][Qe]=r[Qe]);let o=Ps(e,$e+n);tC(r[V],r);let s=o[Er];s!==null&&s.detachView(o[V]),r[we]=null,r[Qe]=null,r[x]&=-129}return r}function TC(e,n,t,r){let i=$e+r,o=t.length;r>0&&(t[i-1][Qe]=n),r<o-$e?(n[Qe]=t[i],xp(t,$e+r,n)):(t.push(n),n[Qe]=null),n[we]=t;let s=n[Cr];s!==null&&t!==s&&pm(s,n);let a=n[Er];a!==null&&a.insertView(e),Wl(n),n[x]|=128}function pm(e,n){let t=e[$s],r=n[we];if(Gt(r))e[x]|=2;else{let i=r[we][at];n[at]!==i&&(e[x]|=2)}t===null?e[$s]=[n]:t.push(n)}var Ai=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[V];return Js(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Me]}set context(n){this._lView[Me]=n}get destroyed(){return Rr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[we];if(kt(n)){let t=n[Us],r=t?t.indexOf(this):-1;r>-1&&(uu(n,r),Ps(t,r))}this._attachedToViewContainer=!1}rm(this._lView[V],this._lView)}onDestroy(n){Kp(this._lView,n)}markForCheck(){sd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){Wl(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,lm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Bs(this._lView),t=this._lView[Cr];t!==null&&!n&&rd(t,this._lView),nm(this._lView[V],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=n;let t=Bs(this._lView),r=this._lView[Cr];r!==null&&!t&&pm(r,this._lView),Wl(this._lView)}};var ha=(()=>{class e{static __NG_ELEMENT_ID__=NC}return e})(),xC=ha,AC=class extends xC{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=Xb(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new Ai(i)}};function NC(){return RC(Oe(),z())}function RC(e,n){return e.type&4?new AC(n,e,ua(e,n)):null}function ad(e,n,t,r,i){let o=e.data[n];if(o===null)o=OC(e,n,t,r,i),DD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=vD();o.injectorIndex=s===null?-1:s.injectorIndex}return Pi(o,!0),o}function OC(e,n,t,r,i){let o=Xp(),s=eg(),a=s?o:o&&o.parent,c=e.data[n]=PC(e,a,t,n,r,i);return kC(e,c,o,s),c}function kC(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function PC(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return pD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var _k=new RegExp(`^(\\d+)*(${lb}|${cb})*(.*)`);var FC=()=>null;function ep(e,n){return FC(e,n)}var LC=class{},gm=class{},du=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Ie(n)}.`)}},pa=class{static NULL=new du},Sr=class{},On=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>jC()}return e})();function jC(){let e=z(),n=Oe(),t=ut(n.index,e);return(Gt(t)?t:e)[ue]}var VC=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var Rl={},fu=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=oa(r);let i=this.injector.get(n,Rl,r);return i!==Rl||t===Rl?i:this.parentInjector.get(n,t,r)}};function tp(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=xh(i,a);else if(o==2){let c=a,l=n[++s];r=xh(r,c+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function A(e,n=R.Default){let t=z();if(t===null)return I(e,n);let r=Oe();return vg(r,t,_e(e),n)}function mm(){let e="invalid";throw new Error(e)}function vm(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a,c=null,l=null,u=$C(s);u===null?a=s:[a,c,l]=u,zC(e,n,t,a,o,c,l)}o!==null&&r!==null&&UC(t,r,o)}function UC(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new w(-301,!1);r.push(n[i],o)}}function $C(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&ct(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,BC(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,i,o]):null}function BC(e,n,t,r){let i=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[i,n.length-1])}function HC(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function zC(e,n,t,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&ct(f)&&(c=!0,HC(e,t,p)),Yl(Gs(t,n),e,f.type)}YC(t,e.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Kg(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(t.mergedAttrs=xi(t.mergedAttrs,f.hostAttrs),WC(e,t,n,d,f),KC(d,f,i),s!==null&&s.has(f)){let[v,_]=s.get(f);t.directiveToIndex.set(f.type,[d,v+t.directiveStart,_+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}qC(e,t,o)}function qC(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))np(0,n,i,r),np(1,n,i,r),ip(n,r,!1);else{let o=t.get(i);rp(0,n,o,r),rp(1,n,o,r),ip(n,r,!0)}}}function np(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),ym(n,o)}}function rp(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),ym(n,s)}}function ym(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function ip(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Ku(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function WC(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=Dn(i.type,!0)),s=new Mn(o,ct(i),A);e.blueprint[r]=s,t[r]=s,GC(e,n,r,Kg(e,t,i.hostVars,Rn),i)}function GC(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;ZC(s)!=a&&s.push(a),s.push(t,r,o)}}function ZC(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function KC(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;ct(n)&&(t[""]=e)}}function YC(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function _m(e,n,t,r,i,o,s,a){let c=n.consts,l=Hs(c,s),u=ad(n,e,2,r,l);return o&&vm(n,t,u,Hs(c,a),i),u.mergedAttrs=xi(u.mergedAttrs,u.attrs),u.attrs!==null&&tp(u,u.attrs,!1),u.mergedAttrs!==null&&tp(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function wm(e,n){lg(e,n),Up(n)&&e.queries.elementEnd(n)}var Xs=class extends pa{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Cn(n);return new Mr(t,this.ngModule)}};function QC(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&da.SignalBased)!==0};return i&&(o.transform=i),o})}function JC(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function XC(e,n,t){let r=n instanceof Se?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new fu(t,r):t}function eE(e){let n=e.get(Sr,null);if(n===null)throw new w(407,!1);let t=e.get(VC,null),r=e.get(Ir,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function tE(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return qg(n,t,t==="svg"?iD:t==="math"?oD:null)}var Mr=class extends gm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=QC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=JC(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=Tb(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i){H(22);let o=F(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:xb(this.componentDef.selectors[0]),c=Yu(0,null,null,1,0,null,null,null,null,[a],null),l=XC(s,i||this.ngModule,n),u=eE(l),d=u.rendererFactory.createRenderer(null,s),p=r?jb(d,r,s.encapsulation,l):tE(s,d),f=Qu(null,c,null,512|Zg(s),null,null,u,d,l,null,Vg(p,l,!0));f[Je]=p,Fu(f);let g=null;try{let v=_m(Je,c,f,"#host",()=>[this.componentDef],!0,0);p&&(Gg(d,p,v),ji(p,f)),Xu(c,f,v),$g(c,v,f),wm(c,v),t!==void 0&&nE(v,this.ngContentSelectors,t),g=ut(v.index,f),f[Me]=g[Me],td(c,f,null)}catch(v){throw g!==null&&nu(g),nu(f),v}finally{H(23),Lu()}return new hu(this.componentType,f)}finally{F(o)}}},hu=class extends LC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Wp(t[V],Je),this.location=ua(this._tNode,t),this.instance=ut(this._tNode.index,t)[Me],this.hostView=this.changeDetectorRef=new Ai(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=ed(r,i[V],i,n,t);this.previousInputValues.set(n,t);let s=ut(r.index,i);sd(s,1)}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function nE(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var jr=(()=>{class e{static __NG_ELEMENT_ID__=rE}return e})();function rE(){let e=Oe();return oE(e,z())}var iE=jr,Dm=class extends iE{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){let n=$u(this._hostTNode,this._hostLView);if(dg(n)){let t=qs(n,this._hostLView),r=zs(n),i=t[V].data[r+8];return new wn(i,t)}else return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=op(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-$e}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ep(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Jh(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!eD(n),a;if(s)a=t;else{let g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?n:new Mr(Cn(n)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let v=(s?l:this.parentInjector).get(Se,null);v&&(o=v)}let u=Cn(c.componentType??{}),d=ep(this._lContainer,u?.id??null),p=d?.firstChild??null,f=c.create(l,i,p,o);return this.insertImpl(f.hostView,a,Jh(this._hostTNode,d)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(cD(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[we],l=new Dm(c,c[Xe],c[we]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return MC(s,i,o,r),n.attachToViewContainerRef(),xp(Ol(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=op(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=uu(this._lContainer,t);r&&(Ps(Ol(this._lContainer),t),rm(r[V],r))}detach(n){let t=this._adjustIndex(n,-1),r=uu(this._lContainer,t);return r&&Ps(Ol(this._lContainer),t)!=null?new Ai(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function op(e){return e[Us]}function Ol(e){return e[Us]||(e[Us]=[])}function oE(e,n){let t,r=n[e.index];return kt(r)?t=r:(t=hm(r,n,null,e),n[e.index]=t,Ju(n,t)),aE(t,n,e,r),new Dm(t,e,n)}function sE(e,n){let t=e[ue],r=t.createComment(""),i=ht(n,e),o=t.parentNode(i);return Qs(t,o,r,t.nextSibling(i),!1),r}var aE=uE,cE=()=>!1;function lE(e,n,t){return cE(e,n,t)}function uE(e,n,t,r){if(e[En])return;let i;t.type&8?i=lt(r):i=sE(n,t),e[En]=i}var Tr=class{},cd=class{};var pu=class extends Tr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Xs(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Rp(n);this._bootstrapComponents=Hg(o.bootstrap),this._r3Injector=wg(n,t,[{provide:Tr,useValue:this},{provide:pa,useValue:this.componentFactoryResolver},...r],Ie(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},gu=class extends cd{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new pu(this.moduleType,n,[])}};var ea=class extends Tr{injector;componentFactoryResolver=new Xs(this);instance=null;constructor(n){super();let t=new Mi([...n.providers,{provide:Tr,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],n.parent||Ru(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ui(e,n,t=null){return new ea({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var dE=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Op(!1,t.type),i=r.length>0?Ui([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(I(Se))})}return e})();function pt(e){return Ri(()=>{let n=Cm(e),t=k(y({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ag.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(dE).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ft.Emulated,styles:e.styles||Ve,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Vi("NgStandalone"),Em(t);let r=e.dependencies;return t.directiveDefs=sp(r,!1),t.pipeDefs=sp(r,!0),t.id=mE(t),t})}function fE(e){return Cn(e)||$w(e)}function hE(e){return e!==null}function Pt(e){return Ri(()=>({type:e.type,bootstrap:e.bootstrap||Ve,declarations:e.declarations||Ve,imports:e.imports||Ve,exports:e.exports||Ve,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function pE(e,n){if(e==null)return bn;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=da.None,c=null),t[o]=[r,a,c],n[o]=s}return t}function gE(e){if(e==null)return bn;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function he(e){return Ri(()=>{let n=Cm(e);return Em(n),n})}function bm(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Cm(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||bn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ve,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pE(e.inputs,n),outputs:gE(e.outputs),debugInfo:null}}function Em(e){e.features?.forEach(n=>n(e))}function sp(e,n){if(!e)return null;let t=n?Bw:fE;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(hE)}function mE(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function vE(e){return Object.getPrototypeOf(e.prototype).constructor}function Ft(e){let n=vE(e.type),t=!0,r=[e];for(;n;){let i;if(ct(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new w(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=kl(e.inputs),s.declaredInputs=kl(e.declaredInputs),s.outputs=kl(e.outputs);let a=i.hostBindings;a&&bE(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&wE(e,c),l&&DE(e,l),yE(e,i),_w(e.outputs,i.outputs),ct(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ft&&(t=!1)}}n=Object.getPrototypeOf(n)}_E(r)}function yE(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function _E(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=xi(i.hostAttrs,t=xi(t,i.hostAttrs))}}function kl(e){return e===bn?{}:e===Ve?[]:e}function wE(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function DE(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function bE(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function Im(e){return EE(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function CE(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function EE(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Sm(e,n,t){return e[n]=t}function Kt(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function IE(e,n,t,r){let i=Kt(e,n,t);return Kt(e,n+1,r)||i}function SE(e,n,t,r,i,o,s,a,c){let l=n.consts,u=ad(n,e,4,s||null,a||null);Jp()&&vm(n,t,u,Hs(l,c),em),u.mergedAttrs=xi(u.mergedAttrs,u.attrs),lg(n,u);let d=u.tView=Yu(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function ME(e,n,t,r,i,o,s,a,c,l){let u=t+Je,d=n.firstCreatePass?SE(u,n,e,r,i,o,s,a,c):n.data[u];Pi(d,!1);let p=TE(n,e,d,t);Vu()&&id(n,e,p,d),ji(p,e);let f=hm(p,e,p,d);return e[u]=f,Ju(e,f),lE(f,d,e),Ou(d)&&Xu(n,e,d),c!=null&&Jg(e,d,l),d}function Lt(e,n,t,r,i,o,s,a){let c=z(),l=Te(),u=Hs(l.consts,o);return ME(c,l,e,n,t,r,i,u,s,a),Lt}var TE=xE;function xE(e,n,t,r){return Uu(!0),n[ue].createComment("")}var Mm=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Tm=new b("");var AE=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new mu})}return e})(),mu=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function Xt(e){return!!e&&typeof e.then=="function"}function ld(e){return!!e&&typeof e.subscribe=="function"}var xm=new b("");function ud(e){return Au([{provide:xm,multi:!0,useValue:e}])}var Am=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=m(xm,{optional:!0})??[];injector=m(Be);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=He(this.injector,i);if(Xt(o))t.push(o);else if(ld(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ga=new b("");function NE(){sl(()=>{throw new w(600,!1)})}function RE(e){return e.isBoundToModule}var OE=10;var Tn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(JD);afterRenderManager=m(jg);zonelessEnabled=m(bg);rootEffectScheduler=m(AE);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ae;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(Pr).hasPendingTasks.pipe(j(t=>!t));constructor(){m(Lr,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=m(Se);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Be.NULL){H(10);let o=t instanceof gm;if(!this._injector.get(Am).done){let f="";throw new w(405,f)}let a;o?a=t:a=this._injector.get(pa).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=RE(a)?void 0:this._injector.get(Tr),l=r||a.selector,u=a.create(i,[],l,c),d=u.location.nativeElement,p=u.injector.get(Tm,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),As(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),H(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){H(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Gu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let t=F(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(t),this.afterTick.next(),H(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Sr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<OE;)H(14),this.synchronizeOnce(),H(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)kE(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ca(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;As(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ga,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>As(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new w(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function As(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function kE(e,n,t,r){if(!t&&!ca(e))return;lm(e,n,t&&!r?0:1)}function ma(e,n,t,r){let i=z(),o=la();if(Kt(i,o,n)){let s=Te(),a=ju();Wb(a,i,e,n,t,r)}return ma}function PE(e,n,t,r){return Kt(e,la(),t)?n+Mu(t)+r:Rn}function Ss(e,n){return e<<17|n<<2}function xn(e){return e>>17&32767}function FE(e){return(e&2)==2}function LE(e,n){return e&131071|n<<17}function vu(e){return e|2}function xr(e){return(e&131068)>>2}function Pl(e,n){return e&-131069|n<<2}function jE(e){return(e&1)===1}function yu(e){return e|1}function VE(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=xn(s),c=xr(s);e[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Oi(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let p=xn(e[a+1]);e[r+1]=Ss(p,a),p!==0&&(e[p+1]=Pl(e[p+1],r)),e[a+1]=LE(e[a+1],r)}else e[r+1]=Ss(a,0),a!==0&&(e[a+1]=Pl(e[a+1],r)),a=r;else e[r+1]=Ss(c,0),a===0?a=r:e[c+1]=Pl(e[c+1],r),c=r;l&&(e[r+1]=vu(e[r+1])),ap(e,u,r,!0),ap(e,u,r,!1),UE(n,u,e,r,o),s=Ss(a,c),o?n.classBindings=s:n.styleBindings=s}function UE(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Oi(o,n)>=0&&(t[r+1]=yu(t[r+1]))}function ap(e,n,t,r){let i=e[t+1],o=n===null,s=r?xn(i):xr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];$E(c,n)&&(a=!0,e[s+1]=r?yu(l):vu(l)),s=r?xn(l):xr(l)}a&&(e[t+1]=r?vu(i):yu(i))}function $E(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Oi(e,n)>=0:!1}function et(e,n,t){let r=z(),i=la();if(Kt(r,i,n)){let o=Te(),s=ju();Xg(o,s,r,e,n,r[ue],t,!1)}return et}function cp(e,n,t,r,i){ed(n,e,t,i?"class":"style",r)}function en(e,n){return BE(e,n,null,!0),en}function BE(e,n,t,r){let i=z(),o=Te(),s=wD(2);if(o.firstUpdatePass&&zE(o,e,s,r),n!==Rn&&Kt(i,s,n)){let a=o.data[Or()];KE(o,a,i,i[ue],e,i[s+1]=YE(n,t),r,s)}}function HE(e,n){return n>=e.expandoStartIndex}function zE(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[Or()],s=HE(e,t);QE(o,r)&&n===null&&!s&&(n=!1),n=qE(i,o,n,r),VE(i,o,n,t,s,r)}}function qE(e,n,t,r){let i=ED(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=Fl(null,e,n,t,r),t=Ni(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=Fl(i,e,n,t,r),o===null){let c=WE(e,n,r);c!==void 0&&Array.isArray(c)&&(c=Fl(null,e,n,c[1],r),c=Ni(c,n.attrs,r),GE(e,n,r,c))}else o=ZE(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function WE(e,n,t){let r=t?n.classBindings:n.styleBindings;if(xr(r)!==0)return e[xn(r)]}function GE(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[xn(i)]=r}function ZE(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ni(r,s,t)}return Ni(r,n.attrs,t)}function Fl(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Ni(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Ni(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Vw(e,s,t?!0:n[++o]))}return e===void 0?null:e}function KE(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let c=e.data,l=c[a+1],u=jE(l)?lp(c,n,t,i,xr(l),s):void 0;if(!ta(u)){ta(o)||FE(l)&&(o=lp(c,null,t,i,a,s));let d=qp(Or(),t);hC(r,s,d,i,o)}}function lp(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=t[i+1];p===Rn&&(p=d?Ve:void 0);let f=d?Sl(p,r):u===r?p:void 0;if(l&&!ta(f)&&(f=Sl(c,r)),ta(f)&&(a=f,s))return a;let g=e[i+1];i=s?xn(g):xr(g)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=Sl(c,r))}return a}function ta(e){return e!==void 0}function YE(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Ie(Bg(e)))),e}function QE(e,n){return(e.flags&(n?8:16))!==0}function q(e,n,t,r){let i=z(),o=Te(),s=Je+e,a=i[ue],c=o.firstCreatePass?_m(s,o,i,n,em,Jp(),t,r):o.data[s],l=JE(o,i,c,a,n,e);i[s]=l;let u=Ou(c);return Pi(c,!0),Gg(a,l,c),!tm(c)&&Vu()&&id(o,i,l,c),(dD()===0||u)&&ji(l,i),fD(),u&&(Xu(o,i,c),$g(o,c,i)),r!==null&&Jg(i,c),q}function K(){let e=Oe();eg()?yD():(e=e.parent,Pi(e,!1));let n=e;gD(n)&&mD(),hD();let t=Te();return t.firstCreatePass&&wm(t,n),n.classesWithoutHost!=null&&AD(n)&&cp(t,n,z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&ND(n)&&cp(t,n,z(),n.stylesWithoutHost,!1),K}function tn(e,n,t,r){return q(e,n,t,r),K(),tn}var JE=(e,n,t,r,i,o)=>(Uu(!0),qg(r,i,MD()));function va(){return z()}var na="en-US";var XE=na;function e0(e){typeof e=="string"&&(XE=e.toLowerCase().replace(/_/g,"-"))}function up(e,n,t){return function r(i){if(i===Function)return t;let o=Nr(e)?ut(e.index,n):n;sd(o,5);let s=n[Me],a=dp(n,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=dp(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function dp(e,n,t,r){let i=F(null);try{return H(6,n,t),t(r)!==!1}catch(o){return t0(e,o),!1}finally{H(7,n,t),F(i)}}function t0(e,n){let t=e[br],r=t?t.get(dt,null):null;r&&r.handleError(n)}function fp(e,n,t,r,i,o){let s=n[t],a=n[V],l=a.data[t].outputs[r],u=s[l],d=a.firstCreatePass?Qp(a):null,p=Yp(n),f=u.subscribe(o),g=p.length;p.push(o,f),d&&d.push(i,e.index,g,-(g+1))}function tt(e,n,t,r){let i=z(),o=Te(),s=Oe();return Nm(o,i,i[ue],s,e,n,r),tt}function n0(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[js],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Nm(e,n,t,r,i,o,s){let a=Ou(r),l=e.firstCreatePass?Qp(e):null,u=Yp(n),d=!0;if(r.type&3||s){let p=ht(r,n),f=s?s(p):p,g=u.length,v=s?C=>s(lt(C[r.index])):r.index,_=null;if(!s&&a&&(_=n0(e,n,i,r.index)),_!==null){let C=_.__ngLastListenerFn__||_;C.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,d=!1}else{o=up(r,n,o),vb(n,f,i,o);let C=t.listen(f,i,o);u.push(o,C),l&&l.push(i,v,g,g+1)}}else o=up(r,n,o);if(d){let p=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let g=0;g<f.length;g+=2){let v=f[g],_=f[g+1];fp(r,n,v,_,i,o)}if(p&&p.length)for(let g of p)fp(r,n,g,i,i,o)}}function gt(e=1){return SD(e)}function pe(e,n=""){let t=z(),r=Te(),i=e+Je,o=r.firstCreatePass?ad(r,i,1,n,null):r.data[i],s=r0(r,t,o,n,e);t[i]=s,Vu()&&id(r,t,s,o),Pi(o,!1)}var r0=(e,n,t,r,i)=>(Uu(!0),Ab(n[ue],r));function nn(e){return rn("",e,""),nn}function rn(e,n,t){let r=z(),i=PE(r,e,n,t);return i!==Rn&&i0(r,Or(),i),rn}function i0(e,n,t){let r=qp(n,e);Nb(e[ue],r,t)}function jt(e,n,t){Tg(n)&&(n=n());let r=z(),i=la();if(Kt(r,i,n)){let o=Te(),s=ju();Xg(o,s,r,e,n,r[ue],t,!1)}return jt}function on(e,n){let t=Tg(e);return t&&e.set(n),t}function Vt(e,n){let t=z(),r=Te(),i=Oe();return Nm(r,t,t[ue],i,e,n),Vt}function o0(e,n,t){let r=Te();if(r.firstCreatePass){let i=ct(e);_u(t,r.data,r.blueprint,i,!0),_u(n,r.data,r.blueprint,i,!1)}}function _u(e,n,t,r,i){if(e=_e(e),Array.isArray(e))for(let o=0;o<e.length;o++)_u(e[o],n,t,r,i);else{let o=Te(),s=z(),a=Oe(),c=Dr(e)?e:_e(e.provide),l=Fp(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Dr(e)||!e.multi){let f=new Mn(l,i,A),g=jl(c,n,i?u:u+p,d);g===-1?(Yl(Gs(a,s),o,c),Ll(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[g]=f,s[g]=f)}else{let f=jl(c,n,u+p,d),g=jl(c,n,u,u+p),v=f>=0&&t[f],_=g>=0&&t[g];if(i&&!_||!i&&!v){Yl(Gs(a,s),o,c);let C=c0(i?a0:s0,t.length,i,r,l);!i&&_&&(t[g].providerFactory=C),Ll(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),s.push(C)}else{let C=Rm(t[i?g:f],l,!i&&r);Ll(o,e,f>-1?f:g,C)}!i&&r&&_&&t[g].componentProviders++}}}function Ll(e,n,t,r){let i=Dr(n),o=Gw(n);if(i||o){let c=(o?_e(n.useClass):n).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function Rm(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function jl(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function s0(e,n,t,r,i){return wu(this.multi,[])}function a0(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Zs(r,r[V],this.providerFactory.index,i);s=c.slice(0,a),wu(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],wu(o,s);return s}function wu(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function c0(e,n,t,r,i){let o=new Mn(e,t,A);return o.multi=[],o.index=n,o.componentProviders=0,Rm(o,i,r&&!t),o}function $i(e,n=[]){return t=>{t.providersResolver=(r,i)=>o0(r,i?i(e):e,n)}}function Om(e,n,t,r){return Fm(z(),Pu(),e,n,t,r)}function km(e,n,t,r,i){return l0(z(),Pu(),e,n,t,r,i)}function Pm(e,n){let t=e[n];return t===Rn?void 0:t}function Fm(e,n,t,r,i,o){let s=n+t;return Kt(e,s,i)?Sm(e,s+1,o?r.call(o,i):r(i)):Pm(e,s+1)}function l0(e,n,t,r,i,o,s){let a=n+t;return IE(e,a,i,o)?Sm(e,a+2,s?r.call(s,i,o):r(i,o)):Pm(e,a+2)}function Lm(e,n){let t=Te(),r,i=e+Je;t.firstCreatePass?(r=u0(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Dn(r.type,!0)),s,a=Ee(A);try{let c=Ws(!1),l=o();return Ws(c),aD(t,z(),i,l),l}finally{Ee(a)}}function u0(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function jm(e,n,t){let r=e+Je,i=z(),o=sD(i,r);return d0(i,r)?Fm(i,Pu(),n,o.transform,t,o):o.transform(t)}function d0(e,n){return e[V].data[n].pure}var Du=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Vm=(()=>{class e{compileModuleSync(t){return new gu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Rp(t),o=Hg(i.declarations).reduce((s,a)=>{let c=Cn(a);return c&&s.push(new Mr(c)),s},[]);return new Du(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var f0=(()=>{class e{zone=m(oe);changeDetectionScheduler=m(Ir);applicationRef=m(Tn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function h0({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new oe(k(y({},p0()),{scheduleInRootZone:t})),[{provide:oe,useFactory:e},{provide:Si,multi:!0,useFactory:()=>{let r=m(f0,{optional:!0});return()=>r.initialize()}},{provide:Si,multi:!0,useFactory:()=>{let r=m(g0);return()=>{r.initialize()}}},n===!0?{provide:Cg,useValue:!0}:[],{provide:Eg,useValue:t??Dg}]}function p0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var g0=(()=>{class e{subscription=new re;initialized=!1;zone=m(oe);pendingTasks=m(Pr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var m0=(()=>{class e{appRef=m(Tn);taskService=m(Pr);ngZone=m(oe);zonelessEnabled=m(bg);tracing=m(Lr,{optional:!0});disableScheduling=m(Cg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ys):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Eg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?zh:Ig;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ys+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function v0(){return typeof $localize<"u"&&$localize.locale||na}var dd=new b("",{providedIn:"root",factory:()=>m(dd,R.Optional|R.SkipSelf)||v0()});var bu=new b(""),y0=new b("");function bi(e){return!e.moduleRef}function _0(e){let n=bi(e)?e.r3Injector:e.moduleRef.injector,t=n.get(oe);return t.run(()=>{bi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(dt,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),bi(e)){let o=()=>n.destroy(),s=e.platformInjector.get(bu);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(bu);s.add(o),e.moduleRef.onDestroy(()=>{As(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return D0(r,t,()=>{let o=n.get(Am);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(dd,na);if(e0(s||na),!n.get(y0,!0))return bi(e)?n.get(Tn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(bi(e)){let c=n.get(Tn);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return w0(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function w0(e,n){let t=e.injector.get(Tn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new w(-403,!1);n.push(e)}function D0(e,n,t){try{let r=t();return Xt(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var Ns=null;function b0(e=[],n){return Be.create({name:n,providers:[{provide:sa,useValue:"platform"},{provide:bu,useValue:new Set([()=>Ns=null])},...e]})}function C0(e=[]){if(Ns)return Ns;let n=b0(e);return Ns=n,NE(),E0(n),n}function E0(e){let n=e.get(qu,null);He(e,()=>{n?.forEach(t=>t())})}var sn=(()=>{class e{static __NG_ELEMENT_ID__=I0}return e})();function I0(e){return S0(Oe(),z(),(e&16)===16)}function S0(e,n,t){if(Nr(e)&&!t){let r=ut(e.index,n);return new Ai(r,r)}else if(e.type&175){let r=n[at];return new Ai(r,n)}return null}var Cu=class{constructor(){}supports(n){return Im(n)}create(n){return new Eu(n)}},M0=(e,n)=>n,Eu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||M0}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<hp(r,i,o)?t:r,a=hp(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let p=0;p<l;p++){let f=p<o.length?o[p]:o[p]=0,g=f+p;u<=g&&g<l&&(o[p]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!Im(n))throw new w(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,CE(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new Iu(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new ra),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ra),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Iu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},Su=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ra=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new Su,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hp(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function pp(){return new fd([new Cu])}var fd=(()=>{class e{factories;static \u0275prov=D({token:e,providedIn:"root",factory:pp});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||pp()),deps:[[e,new Lw,new Fw]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new w(901,!1)}}return e})();function Um(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;H(8);try{let o=i?.injector??C0(r),s=[h0({}),{provide:Ir,useExisting:m0},...t||[]],a=new ea({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return _0({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{H(9)}}function Bi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function nt(e){return ll(e)}function Hi(e,n){return ol(e,n?.equal)}var gp=class{[Le];constructor(n){this[Le]=n}destroy(){this[Le].destroy()}};function $m(e){let n=Cn(e);if(!n)return null;let t=new Mr(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var ge=new b("");var zm=null;function ze(){return zm}function hd(e){zm??=e}var zi=class{},qi=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(qm),providedIn:"platform"})}return e})(),pd=new b(""),qm=(()=>{class e extends qi{_location;_history;_doc=m(ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ze().getBaseHref(this._doc)}onPopState(t){let r=ze().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ze().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function ya(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Bm(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function rt(e){return e&&e[0]!=="?"?`?${e}`:e}var mt=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(wa),providedIn:"root"})}return e})(),_a=new b(""),wa=(()=>{class e extends mt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ya(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+rt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+rt(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+rt(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(I(qi),I(_a,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),an=(()=>{class e{_subject=new ae;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=A0(Bm(Hm(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rt(r))}normalize(t){return e.stripTrailingSlash(x0(this._basePath,Hm(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=rt;static joinWithSlash=ya;static stripTrailingSlash=Bm;static \u0275fac=function(r){return new(r||e)(I(mt))};static \u0275prov=D({token:e,factory:()=>T0(),providedIn:"root"})}return e})();function T0(){return new an(I(mt))}function x0(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Hm(e){return e.replace(/\/index.html$/,"")}function A0(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Ca=(()=>{class e extends mt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=ya(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+rt(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+rt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(I(qi),I(_a,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var gd=/\s+/,Wm=[],yd=(()=>{class e{_ngEl;_renderer;initialClasses=Wm;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(gd):Wm}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(gd):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(gd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(A(Jt),A(On))};static \u0275dir=he({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Da=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ea=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Da(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Gm(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Gm(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(A(jr),A(ha),A(fd))};static \u0275dir=he({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Gm(e,n){e.context.$implicit=n.item}var kn=(()=>{class e{_viewContainer;_context=new ba;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zm(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zm(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(A(jr),A(ha))};static \u0275dir=he({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),ba=class{$implicit=null;ngIf=null};function Zm(e,n){if(e&&!e.createEmbeddedView)throw new w(2020,!1)}function R0(e,n){return new w(2100,!1)}var md=class{createSubscription(n,t){return nt(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){nt(()=>n.unsubscribe())}},vd=class{createSubscription(n,t){return n.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(n){n.unsubscribe()}},O0=new vd,k0=new md,_d=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Xt(t))return O0;if(ld(t))return k0;throw R0(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(A(sn,16))};static \u0275pipe=bm({name:"async",type:e,pure:!1})}return e})();var vt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Pt({type:e});static \u0275inj=Rt({})}return e})();function wd(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Dd="browser",Km="server";function Ia(e){return e===Km}var Wi=class{};var Ym=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new bd(m(ge),window)})}return e})(),bd=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=F0(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function F0(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Ta=new b(""),Md=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(I(Ta),I(oe))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Gi=class{_doc;constructor(n){this._doc=n}manager},Sa="ng-app-id";function Qm(e){for(let n of e)n.remove()}function Jm(e,n){let t=n.createElement("style");return t.textContent=e,t}function L0(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Sa}="${n}"],link[${Sa}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Sa),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Id(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Td=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Ia(o),L0(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Jm);r?.forEach(i=>this.addUsage(i,this.external,Id))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Qm(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Qm(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Jm(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Id(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Sa,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(I(ge),I(zu),I(Wu,8),I(Fr))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Ed={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xd=/%COMP%/g;var ev="%COMP%",j0=`_nghost-${ev}`,V0=`_ngcontent-${ev}`,U0=!0,$0=new b("",{providedIn:"root",factory:()=>U0});function B0(e){return V0.replace(xd,e)}function H0(e){return j0.replace(xd,e)}function tv(e,n){return n.map(t=>t.replace(xd,e))}var Ad=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Ia(a),this.defaultRenderer=new Zi(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ft.ShadowDom&&(r=k(y({},r),{encapsulation:ft.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ma?i.applyToHost(t):i instanceof Ki&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case ft.Emulated:o=new Ma(c,l,r,this.appId,u,s,a,d,p);break;case ft.ShadowDom:return new Sd(c,l,t,r,s,a,this.nonce,d,p);default:o=new Ki(c,l,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(I(Md),I(Td),I(zu),I($0),I(ge),I(Fr),I(oe),I(Wu),I(Lr,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Zi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Ed[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Xm(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Xm(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new w(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Ed[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Ed[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Nt.DashCase|Nt.Important)?n.style.setProperty(t,r,i&Nt.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Nt.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=ze().getGlobalEventTarget(this.doc,n),!n))throw new w(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function Xm(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Sd=class extends Zi{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,a,c,l){super(n,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=tv(i.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=Id(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ki=class extends Zi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,c,l){super(n,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?tv(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ma=class extends Ki{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(n,t,r,o,s,a,c,l,u),this.contentAttr=B0(u),this.hostAttr=H0(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var xa=class e extends zi{supportsDOMEvents=!0;static makeCurrent(){hd(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=z0();return t==null?null:q0(t)}resetBaseElement(){Yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return wd(document.cookie,n)}},Yi=null;function z0(){return Yi=Yi||document.head.querySelector("base"),Yi?Yi.getAttribute("href"):null}function q0(e){return new URL(e,document.baseURI).pathname}var W0=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),rv=(()=>{class e extends Gi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(I(ge))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),nv=["alt","control","meta","shift"],G0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z0={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},iv=(()=>{class e extends Gi{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ze().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nv.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=G0[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),nv.forEach(s=>{if(s!==i){let a=Z0[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(I(ge))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function Nd(e,n,t){return Um(y({rootComponent:e,platformRef:t?.platformRef},K0(n)))}function K0(e){return{appProviders:[...eI,...e?.providers??[]],platformProviders:X0}}function Y0(){xa.makeCurrent()}function Q0(){return new dt}function J0(){return Pg(document),document}var X0=[{provide:Fr,useValue:Dd},{provide:qu,useValue:Y0,multi:!0},{provide:ge,useFactory:J0}];var eI=[{provide:sa,useValue:"root"},{provide:dt,useFactory:Q0},{provide:Ta,useClass:rv,multi:!0,deps:[ge]},{provide:Ta,useClass:iv,multi:!0,deps:[ge]},Ad,Td,Md,{provide:Sr,useExisting:Ad},{provide:Wi,useClass:W0},[]];var Vr=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(I(ge))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var N="primary",lo=Symbol("RouteTitle"),Ld=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ln(e){return new Ld(e)}function fv(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function tI(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!yt(e[t],n[t]))return!1;return!0}function yt(e,n){let t=e?jd(e):void 0,r=n?jd(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!hv(e[i],n[i]))return!1;return!0}function jd(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function hv(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function pv(e){return e.length>0?e[e.length-1]:null}function dn(e){return wl(e)?e:Xt(e)?Q(Promise.resolve(e)):S(e)}var nI={exact:mv,subset:vv},gv={exact:rI,subset:iI,ignored:()=>!0};function ov(e,n,t){return nI[t.paths](e.root,n.root,t.matrixParams)&&gv[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function rI(e,n){return yt(e,n)}function mv(e,n,t){if(!Pn(e.segments,n.segments)||!Ra(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!mv(e.children[r],n.children[r],t))return!1;return!0}function iI(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>hv(e[t],n[t]))}function vv(e,n,t){return yv(e,n,n.segments,t)}function yv(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Pn(i,t)||n.hasChildren()||!Ra(i,t,r))}else if(e.segments.length===t.length){if(!Pn(e.segments,t)||!Ra(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!vv(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Pn(e.segments,i)||!Ra(e.segments,i,r)||!e.children[N]?!1:yv(e.children[N],n,o,r)}}function Ra(e,n,t){return n.every((r,i)=>gv[t](e[i].parameters,r.parameters))}var wt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new $([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ln(this.queryParams),this._queryParamMap}toString(){return aI.serialize(this)}},$=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oa(this)}},cn=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ln(this.parameters),this._parameterMap}toString(){return wv(this)}};function oI(e,n){return Pn(e,n)&&e.every((t,r)=>yt(t.parameters,n[r].parameters))}function Pn(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function sI(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===N&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==N&&(t=t.concat(n(i,r)))}),t}var jn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new ln,providedIn:"root"})}return e})(),ln=class{parse(n){let t=new Ud(n);return new wt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Qi(n.root,!0)}`,r=uI(n.queryParams),i=typeof n.fragment=="string"?`#${cI(n.fragment)}`:"";return`${t}${r}${i}`}},aI=new ln;function Oa(e){return e.segments.map(n=>wv(n)).join("/")}function Qi(e,n){if(!e.hasChildren())return Oa(e);if(n){let t=e.children[N]?Qi(e.children[N],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==N&&r.push(`${i}:${Qi(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=sI(e,(r,i)=>i===N?[Qi(e.children[N],!1)]:[`${i}:${Qi(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[N]!=null?`${Oa(e)}/${t[0]}`:`${Oa(e)}/(${t.join("//")})`}}function _v(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Aa(e){return _v(e).replace(/%3B/gi,";")}function cI(e){return encodeURI(e)}function Vd(e){return _v(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ka(e){return decodeURIComponent(e)}function sv(e){return ka(e.replace(/\+/g,"%20"))}function wv(e){return`${Vd(e.path)}${lI(e.parameters)}`}function lI(e){return Object.entries(e).map(([n,t])=>`;${Vd(n)}=${Vd(t)}`).join("")}function uI(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Aa(t)}=${Aa(i)}`).join("&"):`${Aa(t)}=${Aa(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var dI=/^[^\/()?;#]+/;function Od(e){let n=e.match(dI);return n?n[0]:""}var fI=/^[^\/()?;=#]+/;function hI(e){let n=e.match(fI);return n?n[0]:""}var pI=/^[^=?&#]+/;function gI(e){let n=e.match(pI);return n?n[0]:""}var mI=/^[^&#]+/;function vI(e){let n=e.match(mI);return n?n[0]:""}var Ud=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[N]=new $(n,t)),r}parseSegment(){let n=Od(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(n),new cn(ka(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=hI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Od(this.remaining);i&&(r=i,this.capture(r))}n[ka(t)]=ka(r)}parseQueryParam(n){let t=gI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=vI(this.remaining);s&&(r=s,this.capture(r))}let i=sv(t),o=sv(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Od(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=N);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[N]:new $([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new w(4011,!1)}};function Dv(e){return e.segments.length>0?new $([],{[N]:e}):e}function bv(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=bv(i);if(r===N&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new $(e.segments,n);return yI(t)}function yI(e){if(e.numberOfChildren===1&&e.children[N]){let n=e.children[N];return new $(e.segments.concat(n.segments),n.children)}return e}function zr(e){return e instanceof wt}function Cv(e,n,t=null,r=null){let i=Ev(e);return Iv(i,n,t,r)}function Ev(e){let n;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new $(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=Dv(r);return n??i}function Iv(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return kd(i,i,i,t,r);let o=_I(n);if(o.toRoot())return kd(i,i,new $([],{}),t,r);let s=wI(o,i,e),a=s.processChildren?Xi(s.segmentGroup,s.index,o.commands):Mv(s.segmentGroup,s.index,o.commands);return kd(i,s.segmentGroup,a,t,r)}function Fa(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function to(e){return typeof e=="object"&&e!=null&&e.outlets}function kd(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===n?s=t:s=Sv(e,n,t);let a=Dv(bv(s));return new wt(a,o,i)}function Sv(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=Sv(o,n,t)}),new $(e.segments,r)}var La=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Fa(r[0]))throw new w(4003,!1);let i=r.find(to);if(i&&i!==pv(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _I(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new La(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new La(t,n,r)}var Br=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function wI(e,n,t){if(e.isAbsolute)return new Br(n,!0,0);if(!t)return new Br(n,!1,NaN);if(t.parent===null)return new Br(t,!0,0);let r=Fa(e.commands[0])?0:1,i=t.segments.length-1+r;return DI(t,i,e.numberOfDoubleDots)}function DI(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new Br(r,!1,i-o)}function bI(e){return to(e[0])?e[0].outlets:{[N]:e}}function Mv(e,n,t){if(e??=new $([],{}),e.segments.length===0&&e.hasChildren())return Xi(e,n,t);let r=CI(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new $(e.segments.slice(0,r.pathIndex),{});return o.children[N]=new $(e.segments.slice(r.pathIndex),e.children),Xi(o,0,i)}else return r.match&&i.length===0?new $(e.segments,{}):r.match&&!e.hasChildren()?$d(e,n,t):r.match?Xi(e,0,i):$d(e,n,t)}function Xi(e,n,t){if(t.length===0)return new $(e.segments,{});{let r=bI(t),i={};if(Object.keys(r).some(o=>o!==N)&&e.children[N]&&e.numberOfChildren===1&&e.children[N].segments.length===0){let o=Xi(e.children[N],n,t);return new $(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Mv(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new $(e.segments,i)}}function CI(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(to(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!cv(c,l,s))return o;r+=2}else{if(!cv(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $d(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(to(o)){let c=EI(o.outlets);return new $(r,c)}if(i===0&&Fa(t[0])){let c=e.segments[n];r.push(new cn(c.path,av(t[0]))),i++;continue}let s=to(o)?o.outlets[N]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Fa(a)?(r.push(new cn(s,av(a))),i+=2):(r.push(new cn(s,{})),i++)}return new $(r,{})}function EI(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=$d(new $([],{}),0,r))}),n}function av(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function cv(e,n,t){return e==t.path&&yt(n,t.parameters)}var Pa="imperative",de=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(de||{}),Pe=class{id;url;constructor(n,t){this.id=n,this.url=t}},un=class extends Pe{type=de.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ot=class extends Pe{urlAfterRedirects;type=de.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ae=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ae||{}),qr=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(qr||{}),_t=class extends Pe{reason;code;type=de.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dt=class extends Pe{reason;code;type=de.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Wr=class extends Pe{error;target;type=de.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},no=class extends Pe{urlAfterRedirects;state;type=de.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ja=class extends Pe{urlAfterRedirects;state;type=de.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Va=class extends Pe{urlAfterRedirects;state;shouldActivate;type=de.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ua=class extends Pe{urlAfterRedirects;state;type=de.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$a=class extends Pe{urlAfterRedirects;state;type=de.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ba=class{route;type=de.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ha=class{route;type=de.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},za=class{snapshot;type=de.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qa=class{snapshot;type=de.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wa=class{snapshot;type=de.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ga=class{snapshot;type=de.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gr=class{routerEvent;position;anchor;type=de.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},ro=class{},Zr=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function II(e,n){return e.providers&&!e._injector&&(e._injector=Ui(e.providers,n,`Route: ${e.path}`)),e._injector??n}function it(e){return e.outlet||N}function SI(e,n){let t=e.filter(r=>it(r)===n);return t.push(...e.filter(r=>it(r)!==n)),t}function uo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Za=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return uo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Vn(this.rootInjector)}},Vn=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Za(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(I(Se))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ka=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Bd(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Bd(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Hd(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Hd(n,this._root).map(t=>t.value)}};function Bd(e,n){if(e===n.value)return n;for(let t of n.children){let r=Bd(e,t);if(r)return r}return null}function Hd(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Hd(e,t);if(r.length)return r.unshift(n),r}return[]}var ke=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function $r(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var io=class extends Ka{snapshot;constructor(n,t){super(n),this.snapshot=t,Qd(this,n)}toString(){return this.snapshot.toString()}};function Tv(e){let n=MI(e),t=new ce([new cn("",{})]),r=new ce({}),i=new ce({}),o=new ce({}),s=new ce(""),a=new Ut(t,r,o,s,i,N,e,n.root);return a.snapshot=n.root,new io(new ke(a,[]),n)}function MI(e){let n={},t={},r={},i="",o=new Fn([],n,r,i,t,N,e,null,{});return new oo("",new ke(o,[]))}var Ut=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[lo]))??S(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(n=>Ln(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(n=>Ln(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ya(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:y(y({},n.params),e.params),data:y(y({},n.data),e.data),resolve:y(y(y(y({},e.data),n.data),i?.data),e._resolvedData)}:r={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},i&&Av(i)&&(r.resolve[lo]=i.title),r}var Fn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lo]}constructor(n,t,r,i,o,s,a,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ln(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ln(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},oo=class extends Ka{url;constructor(n,t){super(t),this.url=n,Qd(this,t)}toString(){return xv(this._root)}};function Qd(e,n){n.value._routerState=e,n.children.forEach(t=>Qd(e,t))}function xv(e){let n=e.children.length>0?` { ${e.children.map(xv).join(", ")} } `:"";return`${e.value}${n}`}function Pd(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,yt(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),yt(n.params,t.params)||e.paramsSubject.next(t.params),tI(n.url,t.url)||e.urlSubject.next(t.url),yt(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function zd(e,n){let t=yt(e.params,n.params)&&oI(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||zd(e.parent,n.parent))}function Av(e){return typeof e.title=="string"||e.title===null}var Nv=new b(""),fo=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=N;activateEvents=new le;deactivateEvents=new le;attachEvents=new le;detachEvents=new le;routerOutletData=Mg(void 0);parentContexts=m(Vn);location=m(jr);changeDetector=m(sn);inputBinder=m(ho,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new qd(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=he({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Nn]})}return e})(),qd=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Ut?this.route:n===Vn?this.childContexts:n===Nv?this.outletData:this.parent.get(n,t)}},ho=new b(""),Jd=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=wi([r.queryParams,r.params,r.data]).pipe(je(([o,s,a],c)=>(a=y(y(y({},o),s),a),c===0?S(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=$m(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Xd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=pt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&tn(0,"router-outlet")},dependencies:[fo],encapsulation:2})}return e})();function ef(e){let n=e.children&&e.children.map(ef),t=n?k(y({},e),{children:n}):y({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==N&&(t.component=Xd),t}function TI(e,n,t){let r=so(e,n._root,t?t._root:void 0);return new io(r,n)}function so(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=xI(e,n,t);return new ke(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>so(e,a)),s}}let r=AI(n.value),i=n.children.map(o=>so(e,o));return new ke(r,i)}}function xI(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return so(e,r,i);return so(e,r)})}function AI(e){return new Ut(new ce(e.url),new ce(e.params),new ce(e.queryParams),new ce(e.fragment),new ce(e.data),e.outlet,e.component,e)}var Kr=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Rv="ngNavigationCancelingError";function Qa(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=zr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Ov(!1,Ae.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Ov(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Rv]=!0,t.cancellationCode=n,t}function NI(e){return kv(e)&&zr(e.url)}function kv(e){return!!e&&e[Rv]}var RI=(e,n,t,r)=>j(i=>(new Wd(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Wd=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Pd(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=$r(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=$r(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=$r(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=$r(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ga(o.value.snapshot))}),n.children.length&&this.forwardEvent(new qa(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Pd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Pd(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Ja=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Hr=class{component;route;constructor(n,t){this.component=n,this.route=t}};function OI(e,n,t){let r=e._root,i=n?n._root:null;return Ji(r,i,t,[r.value])}function kI(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Qr(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Dp(e)?e:n.get(e):r}function Ji(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$r(n);return e.children.forEach(s=>{PI(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>eo(a,t.getContext(s),i)),i}function PI(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=FI(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ja(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ji(e,n,a?a.children:null,r,i):Ji(e,n,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hr(a.outlet.component,s))}else s&&eo(n,a,i),i.canActivateChecks.push(new Ja(r)),o.component?Ji(e,null,a?a.children:null,r,i):Ji(e,null,t,r,i);return i}function FI(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Pn(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Pn(e.url,n.url)||!yt(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zd(e,n)||!yt(e.queryParams,n.queryParams);case"paramsChange":default:return!zd(e,n)}}function eo(e,n,t){let r=$r(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?eo(s,n.children.getContext(o),t):eo(s,null,t):eo(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Hr(n.outlet.component,i)):t.canDeactivateChecks.push(new Hr(null,i)):t.canDeactivateChecks.push(new Hr(null,i))}function po(e){return typeof e=="function"}function LI(e){return typeof e=="boolean"}function jI(e){return e&&po(e.canLoad)}function VI(e){return e&&po(e.canActivate)}function UI(e){return e&&po(e.canActivateChild)}function $I(e){return e&&po(e.canDeactivate)}function BI(e){return e&&po(e.canMatch)}function Pv(e){return e instanceof Mt||e?.name==="EmptyError"}var Na=Symbol("INITIAL_VALUE");function Yr(){return je(e=>wi(e.map(n=>n.pipe(xt(1),El(Na)))).pipe(j(n=>{for(let t of n)if(t!==!0){if(t===Na)return Na;if(t===!1||HI(t))return t}return!0}),Re(n=>n!==Na),xt(1)))}function HI(e){return zr(e)||e instanceof Kr}function zI(e,n){return te(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?S(k(y({},t),{guardsResult:!0})):qI(s,r,i,e).pipe(te(a=>a&&LI(a)?WI(r,o,e,n):S(a)),j(a=>k(y({},t),{guardsResult:a})))})}function qI(e,n,t,r){return Q(e).pipe(te(i=>QI(i.component,i.route,t,n,r)),At(i=>i!==!0,!0))}function WI(e,n,t,r){return Q(n).pipe(zt(i=>hr(ZI(i.route.parent,r),GI(i.route,r),YI(e,i.path,t),KI(e,i.route,t))),At(i=>i!==!0,!0))}function GI(e,n){return e!==null&&n&&n(new Wa(e)),S(!0)}function ZI(e,n){return e!==null&&n&&n(new za(e)),S(!0)}function KI(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(o=>Cs(()=>{let s=uo(n)??t,a=Qr(o,s),c=VI(a)?a.canActivate(n,e):He(s,()=>a(n,e));return dn(c).pipe(At())}));return S(i).pipe(Yr())}function YI(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>kI(s)).filter(s=>s!==null).map(s=>Cs(()=>{let a=s.guards.map(c=>{let l=uo(s.node)??t,u=Qr(c,l),d=UI(u)?u.canActivateChild(r,e):He(l,()=>u(r,e));return dn(d).pipe(At())});return S(a).pipe(Yr())}));return S(o).pipe(Yr())}function QI(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let s=o.map(a=>{let c=uo(n)??i,l=Qr(a,c),u=$I(l)?l.canDeactivate(e,n,t,r):He(c,()=>l(e,n,t,r));return dn(u).pipe(At())});return S(s).pipe(Yr())}function JI(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return S(!0);let o=i.map(s=>{let a=Qr(s,e),c=jI(a)?a.canLoad(n,t):He(e,()=>a(n,t));return dn(c)});return S(o).pipe(Yr(),Fv(r))}function Fv(e){return ml(me(n=>{if(typeof n!="boolean")throw Qa(e,n)}),j(n=>n===!0))}function XI(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return S(!0);let o=i.map(s=>{let a=Qr(s,e),c=BI(a)?a.canMatch(n,t):He(e,()=>a(n,t));return dn(c)});return S(o).pipe(Yr(),Fv(r))}var ao=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},co=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Ur(e){return dr(new ao(e))}function eS(e){return dr(new w(4e3,!1))}function tS(e){return dr(Ov(!1,Ae.GuardRejected))}var Gd=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return S(r);if(i.numberOfChildren>1||!i.children[N])return eS(`${n.redirectTo}`);i=i.children[N]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,params:f,data:g,title:v}=i,_=He(o,()=>a({params:f,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,title:v}));if(_ instanceof wt)throw new co(_);t=_}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new co(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new wt(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new $(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},Zd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nS(e,n,t,r,i){let o=Lv(e,n,t);return o.matched?(r=II(n,r),XI(r,n,t,i).pipe(j(s=>s===!0?o:y({},Zd)))):S(o)}function Lv(e,n,t){if(n.path==="**")return rS(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?y({},Zd):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||fv)(t,e,n);if(!i)return y({},Zd);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function rS(e){return{matched:!0,parameters:e.length>0?pv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function lv(e,n,t,r){return t.length>0&&sS(e,t,r)?{segmentGroup:new $(n,oS(r,new $(t,e.children))),slicedSegments:[]}:t.length===0&&aS(e,t,r)?{segmentGroup:new $(e.segments,iS(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new $(e.segments,e.children),slicedSegments:t}}function iS(e,n,t,r){let i={};for(let o of t)if(ec(e,n,o)&&!r[it(o)]){let s=new $([],{});i[it(o)]=s}return y(y({},r),i)}function oS(e,n){let t={};t[N]=n;for(let r of e)if(r.path===""&&it(r)!==N){let i=new $([],{});t[it(r)]=i}return t}function sS(e,n,t){return t.some(r=>ec(e,n,r)&&it(r)!==N)}function aS(e,n,t){return t.some(r=>ec(e,n,r))}function ec(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function cS(e,n,t){return n.length===0&&!e.children[t]}var Kd=class{};function lS(e,n,t,r,i,o,s="emptyOnly"){return new Yd(e,n,t,r,i,s,o).recognize()}var uS=31,Yd=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Gd(this.urlSerializer,this.urlTree)}noMatchError(n){return new w(4002,`'${n.segmentGroup}'`)}recognize(){let n=lv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(j(({children:t,rootSnapshot:r})=>{let i=new ke(r,t),o=new oo("",i),s=Cv(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Fn([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),N,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,N,t).pipe(j(r=>({children:r,rootSnapshot:t})),Tt(r=>{if(r instanceof co)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ao?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof ke?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Q(o).pipe(zt(s=>{let a=r.children[s],c=SI(t,s);return this.processSegmentGroup(n,c,a,s,i)}),Cl((s,a)=>(s.push(...a),s)),qt(null),bl(),te(s=>{if(s===null)return Ur(r);let a=jv(s);return dS(a),S(a)}))}processSegment(n,t,r,i,o,s,a){return Q(t).pipe(zt(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,i,o,s,a).pipe(Tt(l=>{if(l instanceof ao)return S(null);throw l}))),At(c=>!!c),Tt(c=>{if(Pv(c))return cS(r,i,o)?S(new Kd):Ur(r);throw c}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,c){return it(r)!==s&&(s===N||!ec(i,o,r))?Ur(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,c):Ur(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=Lv(t,i,o);if(!c)return Ur(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uS&&(this.allowRedirects=!1));let f=new Fn(o,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,uv(i),it(i),i.component??i._loadedComponent??null,i,dv(i)),g=Ya(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(i,v).pipe(te(_=>this.processSegment(n,r,t,_.concat(p),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=nS(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(je(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(je(({routes:l})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:p,remainingSegments:f}=c,g=new Fn(p,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,uv(r),it(r),r.component??r._loadedComponent??null,r,dv(r)),v=Ya(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:C}=lv(t,p,f,l);if(C.length===0&&_.hasChildren())return this.processChildren(u,l,_,g).pipe(j(X=>new ke(g,X)));if(l.length===0&&C.length===0)return S(new ke(g,[]));let G=it(r)===o;return this.processSegment(u,l,_,C,G?N:o,!0,g).pipe(j(X=>new ke(g,X instanceof ke?[X]:[])))}))):Ur(t)))}getChildConfig(n,t,r){return t.children?S({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?S({routes:t._loadedRoutes,injector:t._loadedInjector}):JI(n,t,r,this.urlSerializer).pipe(te(i=>i?this.configLoader.loadChildren(n,t).pipe(me(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):tS(t))):S({routes:[],injector:n})}};function dS(e){e.sort((n,t)=>n.value.outlet===N?-1:t.value.outlet===N?1:n.value.outlet.localeCompare(t.value.outlet))}function fS(e){let n=e.value.routeConfig;return n&&n.path===""}function jv(e){let n=[],t=new Set;for(let r of e){if(!fS(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=jv(r.children);n.push(new ke(r.value,i))}return n.filter(r=>!t.has(r))}function uv(e){return e.data||{}}function dv(e){return e.resolve||{}}function hS(e,n,t,r,i,o){return te(s=>lS(e,n,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>k(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function pS(e,n){return te(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return S(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Vv(c))s.add(l);let a=0;return Q(s).pipe(zt(c=>o.has(c)?gS(c,r,e,n):(c.data=Ya(c,c.parent,e).resolve,S(void 0))),me(()=>a++),pr(1),te(c=>a===s.size?S(t):be))})}function Vv(e){let n=e.children.map(t=>Vv(t)).flat();return[e,...n]}function gS(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Av(i)&&(o[lo]=i.title),mS(o,e,n,r).pipe(j(s=>(e._resolvedData=s,e.data=Ya(e,e.parent,t).resolve,null)))}function mS(e,n,t,r){let i=jd(e);if(i.length===0)return S({});let o={};return Q(i).pipe(te(s=>vS(e[s],n,t,r).pipe(At(),me(a=>{if(a instanceof Kr)throw Qa(new ln,a);o[s]=a}))),pr(1),j(()=>o),Tt(s=>Pv(s)?be:dr(s)))}function vS(e,n,t,r){let i=uo(n)??r,o=Qr(e,i),s=o.resolve?o.resolve(n,t):He(i,()=>o(n,t));return dn(s)}function Fd(e){return je(n=>{let t=e(n);return t?Q(t).pipe(j(()=>n)):S(n)})}var tf=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===N);return r}getResolvedTitleForRoute(t){return t.data[lo]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(Uv),providedIn:"root"})}return e})(),Uv=(()=>{class e extends tf{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(I(Vr))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Un=new b("",{providedIn:"root",factory:()=>({})}),$n=new b(""),tc=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(Vm);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return S(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=dn(t.loadComponent()).pipe(j(Bv),me(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Di(()=>{this.componentLoaders.delete(t)})),i=new ur(r,()=>new ae).pipe(lr());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return S({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=$v(r,this.compiler,t,this.onLoadEndListener).pipe(Di(()=>{this.childrenLoaders.delete(r)})),s=new ur(o,()=>new ae).pipe(lr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $v(e,n,t,r){return dn(e.loadChildren()).pipe(j(Bv),te(i=>i instanceof cd||Array.isArray(i)?S(i):Q(n.compileModuleAsync(i))),j(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get($n,[],{optional:!0,self:!0}).flat()),{routes:s.map(ef),injector:o}}))}function yS(e){return e&&typeof e=="object"&&"default"in e}function Bv(e){return yS(e)?e.default:e}var nc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(_S),providedIn:"root"})}return e})(),_S=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nf=new b(""),rf=new b("");function Hv(e,n,t){let r=e.get(rf),i=e.get(ge);return e.get(oe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),wS(e))),{onViewTransitionCreated:c}=r;return c&&He(e,()=>c({transition:a,from:n,to:t})),s})}function wS(e){return new Promise(n=>{Zu({read:()=>setTimeout(n)},{injector:e})})}var of=new b(""),rc=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ae;transitionAbortSubject=new ae;configLoader=m(tc);environmentInjector=m(Se);destroyRef=m(Fi);urlSerializer=m(jn);rootContexts=m(Vn);location=m(an);inputBindingEnabled=m(ho,{optional:!0})!==null;titleStrategy=m(tf);options=m(Un,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(nc);createViewTransition=m(nf,{optional:!0});navigationErrorHandler=m(of,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Ba(i)),r=i=>this.events.next(new Ha(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(k(y({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ce(null),this.transitions.pipe(Re(r=>r!==null),je(r=>{let i=!1,o=!1;return S(r).pipe(je(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ae.SupersededByNewNavigation),be;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?k(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Dt(s.id,this.urlSerializer.serialize(s.rawUrl),l,qr.IgnoredSameUrlNavigation)),s.resolve(!1),be}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return S(s).pipe(je(l=>(this.events.next(new un(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?be:Promise.resolve(l))),hS(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),me(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=k(y({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new no(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:p,extras:f}=s,g=new un(l,this.urlSerializer.serialize(u),d,p);this.events.next(g);let v=Tv(this.rootComponentType).snapshot;return this.currentTransition=r=k(y({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:k(y({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,S(r)}else{let l="";return this.events.next(new Dt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,qr.IgnoredByUrlHandlingStrategy)),s.resolve(!1),be}}),me(s=>{let a=new ja(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),j(s=>(this.currentTransition=r=k(y({},s),{guards:OI(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),zI(this.environmentInjector,s=>this.events.next(s)),me(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Qa(this.urlSerializer,s.guardsResult);let a=new Va(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Re(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ae.GuardRejected),!1)),Fd(s=>{if(s.guards.canActivateChecks.length!==0)return S(s).pipe(me(a=>{let c=new Ua(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),je(a=>{let c=!1;return S(a).pipe(pS(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Ae.NoDataFromResolver)}}))}),me(a=>{let c=new $a(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Fd(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(me(u=>{c.component=u}),j(()=>{})));for(let u of c.children)l.push(...a(u));return l};return wi(a(s.targetSnapshot.root)).pipe(qt(null),xt(1))}),Fd(()=>this.afterPreactivation()),je(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Q(c).pipe(j(()=>r)):S(r)}),j(s=>{let a=TI(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=k(y({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),me(()=>{this.events.next(new ro)}),RI(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),xt(1),me({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ot(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Il(this.transitionAbortSubject.pipe(me(s=>{throw s}))),Di(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Ae.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tt(s=>{if(this.destroyed)return r.resolve(!1),be;if(o=!0,kv(s))this.events.next(new _t(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),NI(s)?this.events.next(new Zr(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Wr(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=He(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Kr){let{message:l,cancellationCode:u}=Qa(this.urlSerializer,c);this.events.next(new _t(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Zr(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return be}))}))}cancelNavigationTransition(t,r,i){let o=new _t(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function DS(e){return e!==Pa}var zv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(bS),providedIn:"root"})}return e})(),Xa=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},bS=(()=>{class e extends Xa{static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qv=(()=>{class e{urlSerializer=m(jn);options=m(Un,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(an);urlHandlingStrategy=m(nc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof wt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Tv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(CS),providedIn:"root"})}return e})(),CS=(()=>{class e extends qv{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof un?this.updateStateMemento():t instanceof Dt?this.commitTransition(r):t instanceof no?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ro?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof _t&&(t.code===Ae.GuardRejected||t.code===Ae.NoDataFromResolver)?this.restoreHistory(r):t instanceof Wr?this.restoreHistory(r,!0):t instanceof ot&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=y(y({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=y(y({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ic(e,n){e.events.pipe(Re(t=>t instanceof ot||t instanceof _t||t instanceof Wr||t instanceof Dt),j(t=>t instanceof ot||t instanceof Dt?0:(t instanceof _t?t.code===Ae.Redirect||t.code===Ae.SupersededByNewNavigation:!1)?2:1),Re(t=>t!==2),xt(1)).subscribe(()=>{n()})}var ES={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fe=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(Mm);stateManager=m(qv);options=m(Un,{optional:!0})||{};pendingTasks=m(Pr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(rc);urlSerializer=m(jn);location=m(an);urlHandlingStrategy=m(nc);_events=new ae;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(zv);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m($n,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(ho,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new re;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _t&&r.code!==Ae.Redirect&&r.code!==Ae.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ot)this.navigated=!0;else if(r instanceof Zr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=y({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||DS(i.source)},s);this.scheduleNavigation(a,Pa,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}MS(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=y({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ef),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=Ev(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Iv(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=zr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Pa,null,r)}navigate(t,r={skipLocationChange:!1}){return SS(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=y({},ES):r===!1?i=y({},IS):i=r,zr(t))return ov(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ov(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return ic(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SS(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new w(4008,!1)}function MS(e){return!(e instanceof ro)&&!(e instanceof Zr)}var go=class{};var Wv=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Re(t=>t instanceof ot),zt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ui(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Q(i).pipe(fr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=S(null);let o=i.pipe(te(s=>s===null?S(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Q([o,s]).pipe(fr())}else return o})}static \u0275fac=function(r){return new(r||e)(I(Fe),I(Se),I(go),I(tc))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gv=new b(""),TS=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof un?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ot?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dt&&t.code===qr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gr&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gr(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){mm()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function af(e,...n){return Au([{provide:$n,multi:!0,useValue:e},[],{provide:Ut,useFactory:Zv,deps:[Fe]},{provide:ga,multi:!0,useFactory:Kv},n.map(t=>t.\u0275providers)])}function Zv(e){return e.routerState.root}function Jr(e,n){return{\u0275kind:e,\u0275providers:n}}function Kv(){let e=m(Be);return n=>{let t=e.get(Tn);if(n!==t.components[0])return;let r=e.get(Fe),i=e.get(Yv);e.get(cf)===1&&r.initialNavigation(),e.get(Xv,null,R.Optional)?.setUpPreloading(),e.get(Gv,null,R.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Yv=new b("",{factory:()=>new ae}),cf=new b("",{providedIn:"root",factory:()=>1});function Qv(){let e=[{provide:cf,useValue:0},ud(()=>{let n=m(Be);return n.get(pd,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Fe),o=n.get(Yv);ic(i,()=>{r(!0)}),n.get(rc).afterPreactivation=()=>(r(!0),o.closed?S(void 0):o),i.initialNavigation()}))})];return Jr(2,e)}function Jv(){let e=[ud(()=>{m(Fe).setUpLocationChangeListener()}),{provide:cf,useValue:2}];return Jr(3,e)}var Xv=new b("");function ey(e){return Jr(0,[{provide:Xv,useExisting:Wv},{provide:go,useExisting:e}])}function lf(){return Jr(6,[{provide:mt,useClass:Ca}])}function ty(){return Jr(8,[Jd,{provide:ho,useExisting:Jd}])}function ny(e){Vi("NgRouterViewTransitions");let n=[{provide:nf,useValue:Hv},{provide:rf,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return Jr(9,n)}var ry=[an,{provide:jn,useClass:ln},Fe,Vn,{provide:Ut,useFactory:Zv,deps:[Fe]},tc,[]],uf=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[ry,[],{provide:$n,multi:!0,useValue:t},[],r?.errorHandler?{provide:of,useValue:r.errorHandler}:[],{provide:Un,useValue:r||{}},r?.useHash?AS():NS(),xS(),r?.preloadingStrategy?ey(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?RS(r):[],r?.bindToComponentInputs?ty().\u0275providers:[],r?.enableViewTransitions?ny().\u0275providers:[],OS()]}}static forChild(t){return{ngModule:e,providers:[{provide:$n,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Pt({type:e});static \u0275inj=Rt({})}return e})();function xS(){return{provide:Gv,useFactory:()=>{let e=m(Ym),n=m(oe),t=m(Un),r=m(rc),i=m(jn);return t.scrollOffset&&e.setOffset(t.scrollOffset),new TS(i,r,e,n,t)}}}function AS(){return{provide:mt,useClass:Ca}}function NS(){return{provide:mt,useClass:wa}}function RS(e){return[e.initialNavigation==="disabled"?Jv().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Qv().\u0275providers:[]]}var sf=new b("");function OS(){return[{provide:sf,useFactory:Kv},{provide:ga,multi:!0,useExisting:sf}]}var oc=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=pt({type:e,selectors:[["app-loading"]],decls:5,vars:0,consts:[[1,"loading-overlay"],[1,"loading-spinner"],[1,"spinner"]],template:function(t,r){t&1&&(q(0,"div",0)(1,"div",1),tn(2,"div",2),q(3,"p"),pe(4,"Loading..."),K()()())},dependencies:[vt],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:9999}.loading-spinner[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000001a}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}p[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500}"]})};var bt=class e{loadingSubject=new ce(!1);loading$=this.loadingSubject.asObservable();loadingCount=0;show(){this.loadingCount++,this.loadingCount===1&&this.loadingSubject.next(!0)}hide(){this.loadingCount--,this.loadingCount<=0&&(this.loadingCount=0,this.loadingSubject.next(!1))}reset(){this.loadingCount=0,this.loadingSubject.next(!1)}get isLoading(){return this.loadingSubject.value}static \u0275fac=function(t){return new(t||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};function PS(e,n){e&1&&tn(0,"app-loading")}var ac=class e{constructor(n){this.loadingService=n}title="time-calculator-app";static \u0275fac=function(t){return new(t||e)(A(bt))};static \u0275cmp=pt({type:e,selectors:[["app-root"]],decls:3,vars:3,consts:[[4,"ngIf"]],template:function(t,r){t&1&&(Lt(0,PS,1,0,"app-loading",0),Lm(1,"async"),tn(2,"router-outlet")),t&2&&et("ngIf",jm(1,1,r.loadingService.loading$))},dependencies:[uf,fo,vt,kn,_d,oc],encapsulation:2})};var iy=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var mo=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},cc=class extends mo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},vo=class extends mo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},yo=class extends mo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},hf=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(hf||{});var FS=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},_o=class{constructor(n,{headers:t={},customFetch:r,region:i=hf.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=iy(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return FS(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:c}=t;c||(c=this.region);let l=new URL(`${this.url}/${n}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let d=yield this.fetch(l.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(v=>{throw new cc(v)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new vo(d);if(!d.ok)throw new yo(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof yo||i instanceof vo?i.context:void 0}}})}};var gy=L_(py(),1),{PostgrestClient:my,PostgrestQueryBuilder:fL,PostgrestFilterBuilder:hL,PostgrestTransformBuilder:pL,PostgrestBuilder:gL,PostgrestError:WS}=gy.default;var If=class{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`

Suggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){let r=this.getWebSocketConstructor();return new r(n,t)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},Sf=If;var vy="2.15.5";var yy=`realtime-js/${vy}`,_y="1.0.0";var So=1e4,wy=1e3,Dy=100,Mo=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Mo||{}),fe=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(fe||{}),qe=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(qe||{}),Mf=function(e){return e.websocket="websocket",e}(Mf||{}),Bn=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Bn||{});var uc=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let c=r.decode(n.slice(s,s+o));s=s+o;let l=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var ei=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Y=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Y||{}),xf=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=GS(s,e,n,i),o),{})},GS=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?by(o,s):Tf(s)},by=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return QS(n,t)}switch(e){case Y.bool:return ZS(n);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return KS(n);case Y.json:case Y.jsonb:return YS(n);case Y.timestamp:return JS(n);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Tf(n);default:return Tf(n)}},Tf=e=>e,ZS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},KS=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},YS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},QS=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>by(n,a))}return e},JS=e=>typeof e=="string"?e.replace(" ","T"):e,dc=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};var ti=class{constructor(n,t,r={},i=So){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var To=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let p=u.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),g=u.filter(_=>f.indexOf(_.presence_ref)<0),v=d.filter(_=>p.indexOf(_.presence_ref)<0);g.length>0&&(a[l]=g),v.length>0&&(c[l]=v)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=n[a])!==null&&l!==void 0?l:[];if(n[a]=this.cloneDeep(c),u.length>0){let d=n[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=n[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=l,i(a,l,c),l.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var xo=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(xo||{}),$t=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}($t||{});var Ao=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ti(this,qe.join,this.params,this.timeout),this.rejoinTimer=new ei(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new To(this),this.broadcastEndpointURL=dc(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[xo.PRESENCE]&&this.bindings[xo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>n?.($t.CHANNEL_ERROR,f)),this._onClose(()=>n?.($t.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",g=>h(this,[g],function*({postgres_changes:f}){var v;if(this.socket.setAuth(),f===void 0){n?.($t.SUBSCRIBED);return}else{let _=this.bindings.postgres_changes,C=(v=_?.length)!==null&&v!==void 0?v:0,G=[];for(let X=0;X<C;X++){let E=_[X],{filter:{event:Z,schema:nr,table:J,filter:ye}}=E,rr=f&&f[X];if(rr&&rr.event===Z&&rr.schema===nr&&rr.table===J&&rr.filter===ye)G.push(Object.assign(Object.assign({},E),{id:rr.id}));else{this.unsubscribe(),this.state=fe.errored,n?.($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,n&&n($t.SUBSCRIBED);return}})).receive("error",f=>{this.state=fe.errored,n?.($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{n?.($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this.state===fe.joined&&n===xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,t,r)}send(r){return h(this,arguments,function*(n,t={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=fe.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ti(this,qe.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fe.closed,this.bindings={}}_fetchWithTimeout(n,t,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ti(this,n,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Dy){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=qe;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,v,_;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(v=f.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,v,_,C,G,X;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,Z=(g=f.filter)===null||g===void 0?void 0:g.event;return E&&((v=t.ids)===null||v===void 0?void 0:v.includes(E))&&(Z==="*"||Z?.toLocaleLowerCase()===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{let E=(G=(C=f?.filter)===null||C===void 0?void 0:C.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return E==="*"||E===((X=t?.event)===null||X===void 0?void 0:X.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:v,table:_,commit_timestamp:C,type:G,errors:X}=g;p=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:C,eventType:G,new:{},old:{},errors:X}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(qe.close,{},n)}_onError(n){this._on(qe.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=xf(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=xf(n.columns,n.old_record)),t}};var Af=()=>{},fc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eM=[1e3,2e3,5e3,1e4],tM=1e4,nM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,No=class{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=So,this.transport=null,this.heartbeatIntervalMs=fc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Af,this.ref=0,this.reconnectTimer=null,this.logger=Af,this.conn=null,this.sendBuffer=[],this.serializer=new uc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...s)=>o(...s)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${Mf.websocket}`,this.httpEndpoint=dc(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sf.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let t=n.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_y}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},n?this.conn.close(n,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){return h(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return h(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mo.connecting:return Bn.Connecting;case Mo.open:return Bn.Open;case Mo.closing:return Bn.Closing;default:return Bn.Closed}}isConnected(){return this.connectionState()===Bn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,t={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ao(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return h(this,null,function*(){this._authPromise=this._performAuth(n);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return h(this,null,function*(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(wy,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},fc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=t,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(qe.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([nM],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(n=null){return h(this,null,function*(){let t;n?t=n:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let i={access_token:t,version:yy};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(qe.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(n="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ei(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),fc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(n){var t,r,i,o,s,a,c,l,u;if(this.transport=(t=n?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:So,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:fc.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:Af,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=n?.reconnectAfterMs)!==null&&c!==void 0?c:d=>eM[d-1]||tM,this.encode=(l=n?.encode)!==null&&l!==void 0?l:(d,p)=>p(JSON.stringify(d)),this.decode=(u=n?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};var ni=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function ne(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var hc=class extends ni{constructor(n,t,r){super(n),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hn=class extends ni{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var rM=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},gc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},Cy=()=>rM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),pc=e=>{if(Array.isArray(e))return e.map(t=>pc(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=pc(r)}),n},Ey=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var zn=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},Nf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iM=(e,n,t)=>zn(void 0,void 0,void 0,function*(){let r=yield Cy();e instanceof r&&!t?.noResolveJson?e.json().then(i=>{let o=e.status||500,s=i?.statusCode||o+"";n(new hc(Nf(i),o,s))}).catch(i=>{n(new Hn(Nf(i),i))}):n(new Hn(Nf(e),e))}),oM=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"||!r?i:(Ey(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),t))};function Ro(e,n,t,r,i,o){return zn(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,oM(n,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>iM(c,a,r))})})}function ri(e,n,t,r){return zn(this,void 0,void 0,function*(){return Ro(e,"GET",n,t,r)})}function We(e,n,t,r,i){return zn(this,void 0,void 0,function*(){return Ro(e,"POST",n,r,i,t)})}function Oo(e,n,t,r,i){return zn(this,void 0,void 0,function*(){return Ro(e,"PUT",n,r,i,t)})}function Iy(e,n,t,r){return zn(this,void 0,void 0,function*(){return Ro(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function mc(e,n,t,r,i){return zn(this,void 0,void 0,function*(){return Ro(e,"DELETE",n,r,i,t)})}var De=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},sM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},vc=class{constructor(n,t={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=r,this.fetch=gc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,t,r,i){return De(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Sy),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),d=yield(n=="PUT"?Oo:We)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ne(o))return{data:null,error:o};throw o}})}upload(n,t,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return De(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,l=Object.assign({upsert:Sy.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield Oo(this.fetch,a.toString(),c,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ne(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return De(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield We(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new ni("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}update(n,t,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return De(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}copy(n,t,r){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield We(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return De(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield We(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return De(this,void 0,void 0,function*(){try{let i=yield We(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}download(n,t){return De(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield ri(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ne(a))return{data:null,error:a};throw a}})}info(n){return De(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield ri(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:pc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}exists(n){return De(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield Iy(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r)&&r instanceof Hn){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(n){return De(this,void 0,void 0,function*(){try{return{data:yield mc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}list(n,t,r){return De(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},sM),t),{prefix:n||""});return{data:yield We(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}listV2(n,t){return De(this,void 0,void 0,function*(){try{let r=Object.assign({},n);return{data:yield We(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var My="2.12.1";var Ty={"X-Client-Info":`storage-js/${My}`};var ii=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},yc=class{constructor(n,t={},r,i){this.shouldThrowOnError=!1;let o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Ty),t),this.fetch=gc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ii(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}getBucket(n){return ii(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return ii(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return ii(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(n){return ii(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}deleteBucket(n){return ii(this,void 0,void 0,function*(){try{return{data:yield mc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}};var ko=class extends yc{constructor(n,t={},r,i){super(n,t,r,i)}from(n){return new vc(this.url,this.headers,n,this.fetch)}};var xy="2.57.4";var Po="";typeof Deno<"u"?Po="deno":typeof document<"u"?Po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Po="react-native":Po="node";var aM={"X-Client-Info":`supabase-js-${Po}/${xy}`},Ay={headers:aM},Ny={schema:"public"},Ry={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oy={};Jf();var cM=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},lM=e=>{let n;return e?n=e:typeof fetch>"u"?n=Yf:n=fetch,(...t)=>n(...t)},uM=()=>typeof Headers>"u"?Qf:Headers,ky=(e,n,t)=>{let r=lM(t),i=uM();return(o,s)=>cM(void 0,void 0,void 0,function*(){var a;let c=(a=yield n())!==null&&a!==void 0?a:e,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:l}))})};var dM=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})};function fM(e){return e.endsWith("/")?e:e+"/"}function Py(e,n){var t,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=n,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>dM(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Fy(e){let n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fM(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _c="2.71.1";var qn=30*1e3,wc=3,Dc=wc*qn,Ly="http://localhost:9999",jy="supabase.auth.token";var Vy={"X-Client-Info":`gotrue-js/${_c}`};var Fo="X-Supabase-Api-Version",Rf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Uy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$y=10*60*1e3;var Lo=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var bc=class extends Lo{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function By(e){return M(e)&&e.name==="AuthApiError"}var oi=class extends Lo{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},Ct=class extends Lo{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},Ge=class extends Ct{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Hy(e){return M(e)&&e.name==="AuthSessionMissingError"}var Wn=class extends Ct{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Gn=class extends Ct{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Zn=class extends Ct{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function zy(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}var jo=class extends Ct{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},si=class extends Ct{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function Cc(e){return M(e)&&e.name==="AuthRetryableFetchError"}var Vo=class extends Ct{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var Kn=class extends Ct{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qy=` 	
\r=`.split(""),hM=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<qy.length;n+=1)e[qy[n].charCodeAt(0)]=-2;for(let n=0;n<Ec.length;n+=1)e[Ec[n].charCodeAt(0)]=n;return e})();function Wy(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Ec[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Ec[r]),n.queuedBits-=6}}function Gy(e,n,t){let r=hM[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Of(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{mM(s,r,t)};for(let s=0;s<e.length;s+=1)Gy(e.charCodeAt(s),i,o);return n.join("")}function pM(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gM(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}pM(r,n)}}function mM(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function Zy(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)Gy(e.charCodeAt(i),t,r);return new Uint8Array(n)}function Ky(e){let n=[];return gM(e,t=>n.push(t)),new Uint8Array(n)}function Yy(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>Wy(i,t,r)),Wy(null,t,r),n.join("")}function Qy(e){return Math.round(Date.now()/1e3)+e}function Jy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var Ze=()=>typeof window<"u"&&typeof document<"u",Yn={tested:!1,writable:!1},Ic=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yn.tested)return Yn.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yn.tested=!0,Yn.writable=!0}catch{Yn.tested=!0,Yn.writable=!1}return Yn.writable};function Xy(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var Sc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},e_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qn=(e,n,t)=>h(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),fn=(e,n)=>h(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Bt=(e,n)=>h(null,null,function*(){yield e.removeItem(n)}),Uo=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Uo.promiseConstructor=Promise;function Mc(e){let n=e.split(".");if(n.length!==3)throw new Kn("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Uy.test(n[r]))throw new Kn("JWT not in base64url format");return{header:JSON.parse(Of(n[0])),payload:JSON.parse(Of(n[1])),signature:Zy(n[2]),raw:{header:n[0],payload:n[1]}}}function t_(e){return h(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function n_(e,n){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function vM(e){return("0"+e.toString(16)).substr(-2)}function yM(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,vM).join("")}function _M(e){return h(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function wM(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield _M(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Jn(e,n,t=!1){return h(this,null,function*(){let r=yM(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield Qn(e,`${n}-code-verifier`,i);let o=yield wM(r);return[o,r===o?"plain":"s256"]})}var DM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r_(e){let n=e.headers.get(Fo);if(!n||!n.match(DM))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function i_(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function o_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var bM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xn(e){if(!bM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tc(){let e={};return new Proxy(e,{get:(n,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kf(e){return JSON.parse(JSON.stringify(e))}var CM=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},er=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EM=[502,503,504];function s_(e){return h(this,null,function*(){var n;if(!e_(e))throw new si(er(e),0);if(EM.includes(e.status))throw new si(er(e),e.status);let t;try{t=yield e.json()}catch(o){throw new oi(er(o),o)}let r,i=r_(e);if(i&&i.getTime()>=Rf["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Vo(er(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Ge}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Vo(er(t),e.status,t.weak_password.reasons);throw new bc(er(t),e.status||500,r)})}var IM=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function O(e,n,t,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Fo]||(o[Fo]=Rf["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield SM(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function SM(e,n,t,r,i,o){return h(this,null,function*(){let s=IM(n,r,i,o),a;try{a=yield e(t,Object.assign({},s))}catch(c){throw console.error(c),new si(er(c),0)}if(a.ok||(yield s_(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield s_(c)}})}function Et(e){var n;let t=null;MM(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=Qy(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function Pf(e){let n=Et(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function It(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function a_(e){return{data:e,error:null}}function c_(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=CM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function l_(e){return e}function MM(e){return e.access_token&&e.refresh_token&&e.expires_in}var xc=["global","local","others"];var TM=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},ai=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Sc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return h(this,arguments,function*(n,t=xc[0]){if(xc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xc.join(", ")}`);try{return yield O(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(M(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(n,t={}){try{return yield O(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:It})}catch(i){if(M(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return h(this,null,function*(){try{let{options:t}=n,r=TM(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:c_,redirectTo:t?.redirectTo})}catch(t){if(M(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:It})}catch(t){if(M(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return h(this,null,function*(){var t,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:l_});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);l[`${_}Page`]=v}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(M(l))return{data:{users:[]},error:l};throw l}})}getUserById(n){return h(this,null,function*(){Xn(n);try{return yield O(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:It})}catch(t){if(M(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return h(this,null,function*(){Xn(n);try{return yield O(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:It})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return h(this,null,function*(){Xn(n);try{return yield O(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:It})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return h(this,null,function*(){Xn(n.userId);try{let{data:t,error:r}=yield O(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(M(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return h(this,null,function*(){Xn(n.userId),Xn(n.id);try{return{data:yield O(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(M(t))return{data:null,error:t};throw t}})}};function Ff(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function u_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var tr={debug:!!(globalThis&&Ic()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},$o=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Ac=class extends $o{};function Lf(e,n,t){return h(this,null,function*(){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield t()}finally{tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ac(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}u_();var xM={url:Ly,storageKey:jy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function d_(e,n,t){return h(this,null,function*(){return yield t()})}var ci={},jf=(()=>{class e{constructor(t){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},xM),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ai({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Sc(o.fetch),this.lock=o.lock||d_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ze()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Lf:this.lock=d_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ic()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var t,r;return(r=(t=ci[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ci[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_c}) ${new Date().toISOString()}`,...t),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var t;try{let r=Xy(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Ze()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),zy(s)){let l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new oi("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return h(this,null,function*(){var r,i,o;try{let s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Et}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return h(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:d,password:p,options:f}=t,g=null,v=null;this.flowType==="pkce"&&([g,v]=yield Jn(this.storage,this.storageKey)),s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:v},xform:Et})}else if("phone"in t){let{phone:d,password:p,options:f}=t;s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Et})}else throw new Gn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return h(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:c}=t;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Pf})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Pf})}else throw new Gn("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Wn}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return h(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return h(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,f,g;let v,_;if("message"in t)v=t.message,_=t.signature;else{let{chain:C,wallet:G,statement:X,options:E}=t,Z;if(Ze())if(typeof G=="object")Z=G;else{let J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))Z=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=G}let nr=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){let J=yield Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:nr.host,uri:nr.href}),X?{statement:X}:null)),ye;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")ye=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)ye=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ye&&"signature"in ye&&(typeof ye.signedMessage=="string"||ye.signedMessage instanceof Uint8Array)&&ye.signature instanceof Uint8Array)v=typeof ye.signedMessage=="string"?ye.signedMessage:new TextDecoder().decode(ye.signedMessage),_=ye.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${nr.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...X?["",X,""]:[""],"Version: 1",`URI: ${nr.href}`,`Issued At: ${(o=(i=E?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(ye=>`- ${ye}`)]:[]].join(`
`);let J=yield Z.signMessage(new TextEncoder().encode(v),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=J}}try{let{data:C,error:G}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Yy(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Et});if(G)throw G;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Wn}:(C.session&&(yield this._saveSession(C.session),yield this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:G})}catch(C){if(M(C))return{data:{user:null,session:null},error:C};throw C}})}_exchangeCodeForSession(t){return h(this,null,function*(){let r=yield fn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Et});if(yield Bt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Wn}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(M(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,c=yield O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Et}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Wn}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:c,options:l}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Jn(this.storage,this.storageKey));let{error:p}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){let{phone:c,options:l}=t,{data:u,error:d}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Gn("You must provide either an email or phone number.")}catch(c){if(M(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return h(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Et});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return h(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Jn(this.storage,this.storageKey)),yield O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:a_})}catch(s){if(M(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(t=>h(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Ge;let{error:o}=yield O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:c}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Gn("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(t,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<Dc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield fn(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=Tc()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return h(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return h(this,null,function*(){try{return t?yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:It}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ge}:yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:It})}))}catch(r){if(M(r))return Hy(r)&&(yield this._removeSession(),yield Bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return h(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return h(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Ge;let c=s.session,l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=yield Jn(this.storage,this.storageKey));let{data:d,error:p}=yield O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:It});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(M(o))return{data:{user:null},error:o};throw o}})}setSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return h(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Ge;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Mc(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Ge;let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return h(this,null,function*(){try{if(!Ze())throw new Zn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jo("No code detected.");let{data:X,error:E}=yield this._exchangeCodeForSession(t.code);if(E)throw E;let Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:X.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=t;if(!s||!c||!a||!u)throw new Zn("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let g=f-d;g*1e3<=qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let v=f-p;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);let{data:_,error:C}=yield this._getUser(s);if(C)throw C;let G={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:G,redirectType:t.type},error:null}}catch(i){if(M(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return h(this,null,function*(){let r=yield fn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return h(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return h(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,t);if(c&&!(By(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield Bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=Jy(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Jn(this.storage,this.storageKey,!0));try{return yield O(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(M(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}})}linkIdentity(t){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield O(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Ze()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(M(i))return{data:{provider:t.provider,url:null},error:i};throw i}})}unlinkIdentity(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield O(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return h(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield n_(o=>h(this,null,function*(){return o>0&&(yield t_(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Et})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Cc(s)&&Date.now()+a-i<qn})}catch(i){if(this._debug(r,"error",i),M(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Ze()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield fn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield fn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Qn(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:Tc()}else if(o&&!o.user&&!o.user){let a=yield fn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Bt(this.storage,this.storageKey+"-user"),yield Qn(this.storage,this.storageKey,o)):o.user=Tc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Dc;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Dc}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Cc(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return h(this,null,function*(){var r,i;if(!t)throw new Ge;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Uo;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Ge;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),M(s)){let a={session:null,error:s};return Cc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(t,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return h(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Qn(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=kf(o);yield Qn(this.storage,this.storageKey,s)}else{let o=kf(r);yield Qn(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield Bt(this.storage,this.storageKey),yield Bt(this.storage,this.storageKey+"-code-verifier"),yield Bt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Bt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),qn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${qn}ms, refresh threshold is ${wc} ticks`),o<=wc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof $o)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return h(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Jn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield O(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_enroll(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=yield O(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_verify(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(M(r))return{data:null,error:r};throw r}}))})}_challenge(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(M(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(t=>h(this,null,function*(){var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Mc(o.access_token),c=null;a.aal&&(c=a.aal);let l=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(i){return h(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(l=>l.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(l=>l.kid===t),o&&this.jwks_cached_at+$y>s)return o;let{data:a,error:c}=yield O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(l=>l.kid===t),!o)?null:o})}getClaims(i){return h(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:v,error:_}=yield this.getSession();if(_||!v.session)return{data:null,error:_};o=v.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Mc(o);r?.allowExpired||i_(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:v}=yield this.getUser(o);if(v)throw v;return{data:{claims:a,header:s,signature:c},error:null}}let p=o_(s.alg),f=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,f,c,Ky(`${l}.${u}`))))throw new Kn("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(o){if(M(o))return{data:null,error:o};throw o}})}}return e.nextInstanceID=0,e})();var AM=jf,Vf=AM;var Nc=class extends Vf{constructor(n){super(n)}};var NM=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},Rc=class{constructor(n,t,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=t;let a=Fy(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:Ny,realtime:Oy,auth:Object.assign(Object.assign({},Ry),{storageKey:c}),global:Ay},u=Py(r??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=ky(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new my(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new ko(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new _o(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return NM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:c,debug:l},u,d){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nc({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new No(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Oc=(e,n,t)=>new Rc(e,n,t);function RM(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}RM()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var OM="https://qdzklqbqqjrxcoqxkiky.supabase.co",kM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkemtscWJxcWpyeGNvcXhraWt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MjU4NDMsImV4cCI6MjA3NDEwMTg0M30.C9ozRZSa06i8ie6AfVRSFoNucWbNTRsjh-_qZ4zHk6g",hn=Oc(OM,kM);var w_=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(A(On),A(Jt))};static \u0275dir=he({type:e})}return e})(),PM=(()=>{class e extends w_{static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(e)))(i||e)}})();static \u0275dir=he({type:e,features:[Ft]})}return e})(),D_=new b("");var FM={provide:D_,useExisting:An(()=>fi),multi:!0};function LM(){let e=ze()?ze().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var jM=new b(""),fi=(()=>{class e extends w_{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!LM())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(A(On),A(Jt),A(jM,8))};static \u0275dir=he({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&tt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[$i([FM]),Ft]})}return e})();function VM(e){return e==null||UM(e)===0}function UM(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Hf=new b(""),b_=new b("");function $M(e){return VM(e.value)?{required:!0}:null}function f_(e){return null}function C_(e){return e!=null}function E_(e){return Xt(e)?Q(e):e}function I_(e){let n={};return e.forEach(t=>{n=t!=null?y(y({},n),t):n}),Object.keys(n).length===0?null:n}function S_(e,n){return n.map(t=>t(e))}function BM(e){return!e.validate}function M_(e){return e.map(n=>BM(n)?n:t=>n.validate(t))}function HM(e){if(!e)return null;let n=e.filter(C_);return n.length==0?null:function(t){return I_(S_(t,n))}}function zf(e){return e!=null?HM(M_(e)):null}function zM(e){if(!e)return null;let n=e.filter(C_);return n.length==0?null:function(t){let r=S_(t,n).map(E_);return Dl(r).pipe(j(I_))}}function qf(e){return e!=null?zM(M_(e)):null}function h_(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function qM(e){return e._rawValidators}function WM(e){return e._rawAsyncValidators}function Uf(e){return e?Array.isArray(e)?e:[e]:[]}function Pc(e,n){return Array.isArray(e)?e.includes(n):e===n}function p_(e,n){let t=Uf(n);return Uf(e).forEach(i=>{Pc(t,i)||t.push(i)}),t}function g_(e,n){return Uf(n).filter(t=>!Pc(e,t))}var Fc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=zf(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=qf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},di=class extends Fc{name;get formDirective(){return null}get path(){return null}},Go=class extends Fc{_parent=null;name=null;valueAccessor=null},Lc=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},iU=k(y({},GM),{"[class.ng-submitted]":"isSubmitted"}),$c=(()=>{class e extends Lc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(A(Go,2))};static \u0275dir=he({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&en("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ft]})}return e})(),T_=(()=>{class e extends Lc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(A(di,10))};static \u0275dir=he({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&en("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ft]})}return e})();var Bo="VALID",kc="INVALID",li="PENDING",Ho="DISABLED",pn=class{},jc=class extends pn{value;source;constructor(n,t){super(),this.value=n,this.source=t}},qo=class extends pn{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Wo=class extends pn{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},ui=class extends pn{status;source;constructor(n,t){super(),this.status=n,this.source=t}},$f=class extends pn{source;constructor(n){super(),this.source=n}},Bf=class extends pn{source;constructor(n){super(),this.source=n}};function x_(e){return(Bc(e)?e.validators:e)||null}function ZM(e){return Array.isArray(e)?zf(e):e||null}function A_(e,n){return(Bc(n)?n.asyncValidators:e)||null}function KM(e){return Array.isArray(e)?qf(e):e||null}function Bc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function YM(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new w(1e3,"");if(!r[t])throw new w(1001,"")}function QM(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new w(1002,"")})}var Vc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return nt(this.statusReactive)}set status(n){nt(()=>this.statusReactive.set(n))}_status=Hi(()=>this.statusReactive());statusReactive=Li(void 0);get valid(){return this.status===Bo}get invalid(){return this.status===kc}get pending(){return this.status==li}get disabled(){return this.status===Ho}get enabled(){return this.status!==Ho}errors;get pristine(){return nt(this.pristineReactive)}set pristine(n){nt(()=>this.pristineReactive.set(n))}_pristine=Hi(()=>this.pristineReactive());pristineReactive=Li(!0);get dirty(){return!this.pristine}get touched(){return nt(this.touchedReactive)}set touched(n){nt(()=>this.touchedReactive.set(n))}_touched=Hi(()=>this.touchedReactive());touchedReactive=Li(!1);get untouched(){return!this.touched}_events=new ae;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(p_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(p_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(g_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(g_(n,this._rawAsyncValidators))}hasValidator(n){return Pc(this._rawValidators,n)}hasAsyncValidator(n){return Pc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(k(y({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Wo(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Wo(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(k(y({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new qo(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new qo(!0,r))}markAsPending(n={}){this.status=li;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ui(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(k(y({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ho,this.errors=null,this._forEachChild(i=>{i.disable(k(y({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new jc(this.value,r)),this._events.next(new ui(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(y({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Bo,this._forEachChild(r=>{r.enable(k(y({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(k(y({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bo||this.status===li)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new jc(this.value,t)),this._events.next(new ui(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(k(y({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ho:Bo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=li,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=E_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new ui(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?Ho:this.errors?kc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(li)?li:this._anyControlsHaveStatus(kc)?kc:Bo}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new qo(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wo(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Bc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=ZM(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=KM(this._rawAsyncValidators)}},Uc=class extends Vc{constructor(n,t,r){super(x_(t),A_(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){QM(this,!0,n),Object.keys(n).forEach(r=>{YM(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Wf=new b("",{providedIn:"root",factory:()=>Gf}),Gf="always";function JM(e,n){return[...n.path,e]}function N_(e,n,t=Gf){R_(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),eT(e,n),nT(e,n),tT(e,n),XM(e,n)}function m_(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function XM(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function R_(e,n){let t=qM(e);n.validator!==null?e.setValidators(h_(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=WM(e);n.asyncValidator!==null?e.setAsyncValidators(h_(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();m_(n._rawValidators,i),m_(n._rawAsyncValidators,i)}function eT(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&O_(e,n)})}function tT(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&O_(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function O_(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function nT(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function rT(e,n){e==null,R_(e,n)}function iT(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function oT(e){return Object.getPrototypeOf(e.constructor)===PM}function sT(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function aT(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===fi?t=o:oT(o)?r=o:i=o}),i||r||t||null}var cT={provide:di,useExisting:An(()=>Zf)},zo=Promise.resolve(),Zf=(()=>{class e extends di{callSetDisabledState;get submitted(){return nt(this.submittedReactive)}_submitted=Hi(()=>this.submittedReactive());submittedReactive=Li(!1);_directives=new Set;form;ngSubmit=new le;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Uc({},zf(t),qf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){zo.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),N_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){zo.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){zo.then(()=>{let r=this._findContainer(t.path),i=new Uc({});rT(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){zo.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){zo.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),sT(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new $f(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Bf(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(A(Hf,10),A(b_,10),A(Wf,8))};static \u0275dir=he({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&tt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$i([cT]),Ft]})}return e})();function v_(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function y_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var lT=class extends Vc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(x_(t),A_(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(y_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){v_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){v_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){y_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var uT={provide:Go,useExisting:An(()=>Zo)},__=Promise.resolve(),Zo=(()=>{class e extends Go{_changeDetectorRef;callSetDisabledState;control=new lT;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new le;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aT(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),iT(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){N_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){__.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Bi(r);__.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?JM(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(A(di,9),A(Hf,10),A(b_,10),A(D_,10),A(sn,8),A(Wf,8))};static \u0275dir=he({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[$i([uT]),Ft,Nn]})}return e})();var k_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=he({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var dT=(()=>{class e{_validator=f_;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):f_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=he({type:e,features:[Nn]})}return e})();var fT={provide:Hf,useExisting:An(()=>Kf),multi:!0};var Kf=(()=>{class e extends dT{required;inputName="required";normalizeInput=Bi;createValidator=t=>$M;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(e)))(i||e)}})();static \u0275dir=he({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ma("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[$i([fT]),Ft]})}return e})();var hT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Pt({type:e});static \u0275inj=Rt({})}return e})();var Hc=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Wf,useValue:t.callSetDisabledState??Gf}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Pt({type:e});static \u0275inj=Rt({imports:[hT]})}return e})();var pT=(e,n)=>({more:e,less:n}),gT=e=>({highlight:e});function mT(e,n){if(e&1&&(q(0,"div",6),pe(1),K()),e&2){let t=gt();en("error",t.message.includes("Error")),ee(),rn(" ",t.message," ")}}function vT(e,n){if(e&1){let t=va();q(0,"div",7)(1,"span",8),pe(2),K(),q(3,"input",9),Vt("ngModelChange",function(i){let o=Yt(t).$implicit;return on(o.check_in,i)||(o.check_in=i),Qt(i)}),K(),q(4,"input",9),Vt("ngModelChange",function(i){let o=Yt(t).$implicit;return on(o.check_out,i)||(o.check_out=i),Qt(i)}),K(),q(5,"span",10),pe(6),K(),q(7,"button",11),tt("click",function(){let i=Yt(t).$implicit,o=gt();return Qt(o.saveEntry(i))}),pe(8,"Save"),K(),q(9,"button",12),tt("click",function(){let i=Yt(t).$implicit,o=gt();return Qt(o.clearEntry(i))}),pe(10,"Clear"),K()()}if(e&2){let t=n.$implicit,r=n.index,i=gt();et("ngClass",Om(5,gT,r===i.currentDayIndex)),ee(2),nn(t.day),ee(),jt("ngModel",t.check_in),ee(),jt("ngModel",t.check_out),ee(2),rn("",t.total_minutes," mins")}}var zc=class e{constructor(n,t,r){this.router=n;this.titleService=t;this.loadingService=r}workWeek=[];currentDayIndex=new Date().getDay()-1;userName="";loading=!0;message="";DEFAULT_IN="11:15";DEFAULT_OUT="20:30";ngOnInit(){return h(this,null,function*(){this.loadingService.show();try{yield this.loadUserInfo(),yield this.loadEntries()}catch(n){console.error("Initialization error:",n)}finally{this.loading=!1,this.loadingService.hide()}})}loadUserInfo(){return h(this,null,function*(){this.loadingService.show();try{let{data:{user:n},error:t}=yield hn.auth.getUser();if(t||!n){console.error("Auth error:",t),alert("Please login or signup first!"),this.router.navigate(["/"]);return}let{data:r,error:i}=yield hn.from("users").select("first_name, last_name").eq("id",n.id).maybeSingle();if(i){console.error("Error fetching user info:",i),this.userName="User";return}r?this.userName=`${r.first_name}`:(console.warn("No user profile found, using default name"),this.userName="User"),this.titleService.setTitle(`Time Calculator | ${this.userName}`)}finally{this.loadingService.hide()}})}loadEntries(){return h(this,null,function*(){this.loadingService.show();try{let{data:{user:n}}=yield hn.auth.getUser();if(!n){alert("Please login or signup first!"),this.router.navigate(["/"]);return}let{data:t,error:r}=yield hn.from("time_entries").select("*").eq("user_id",n.id).order("day");r&&(console.error("Error fetching entries:",r),this.message="Error loading time entries."),this.message="";let i=["Monday","Tuesday","Wednesday","Thursday","Friday"];this.workWeek=i.map(o=>{let s=t?.find(a=>a.day===o);return s?k(y({},s),{check_in:s.check_in||this.DEFAULT_IN,check_out:s.check_out||this.DEFAULT_OUT,total_minutes:s.total_minutes||0}):{day:o,check_in:this.DEFAULT_IN,check_out:this.DEFAULT_OUT,total_minutes:0}})}finally{this.loadingService.hide()}})}saveEntry(n){return h(this,null,function*(){if(!n.check_in||!n.check_out){console.error("Invalid time values");return}this.loadingService.show();try{let{data:{user:t}}=yield hn.auth.getUser();if(!t){alert("Session expired. Please login again."),this.router.navigate(["/"]);return}try{let[r,i]=n.check_in.split(":").map(Number),[o,s]=n.check_out.split(":").map(Number);if(isNaN(r)||isNaN(i)||isNaN(o)||isNaN(s)){console.error("Invalid time format");return}let a=r*60+i,c=o*60+s,l=11*60+15,u=20*60+30,d=a>l?-(a-l):0,p=c>u?c-u:0;if(n.total_minutes=d+p,n.id){let{error:f}=yield hn.from("time_entries").update({check_in:n.check_in,check_out:n.check_out,total_minutes:n.total_minutes}).eq("id",n.id);if(f)throw f}else{let{data:f,error:g}=yield hn.from("time_entries").insert([{user_id:t.id,day:n.day,check_in:n.check_in,check_out:n.check_out,total_minutes:n.total_minutes}]).select().single();if(g)throw g;f&&(n.id=f.id,this.message=`${n.day} entry saved successfully!`)}setTimeout(()=>{this.message=""},3e3)}catch(r){console.error("Save failed:",r.message),this.message=`Error saving entry: ${r.message}`,alert("Error saving entry: "+r.message)}}finally{this.loadingService.hide()}})}get weeklyTotal(){return this.workWeek.reduce((n,t)=>n+t.total_minutes,0)}formatMinutes(n){let t=Math.floor(Math.abs(n)/60),r=Math.abs(n)%60;return`${n<0?"-":""}${t}h ${r}m`}clearEntry(n){return h(this,null,function*(){n.check_in=this.DEFAULT_IN,n.check_out=this.DEFAULT_OUT,n.total_minutes=0,yield this.saveEntry(n)})}isCurrentDay(n){return n===this.currentDayIndex}static \u0275fac=function(t){return new(t||e)(A(Fe),A(Vr),A(bt))};static \u0275cmp=pt({type:e,selectors:[["app-timeinput"]],decls:14,vars:8,consts:[[1,"time-calculator"],["class","message-box",3,"error",4,"ngIf"],[1,"user-info"],["class","day-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"weekly-total"],[3,"ngClass"],[1,"message-box"],[1,"day-row",3,"ngClass"],[1,"day-label"],["type","time",3,"ngModelChange","ngModel"],[1,"time-output"],[1,"save-btn",3,"click"],[1,"clear-btn",3,"click"]],template:function(t,r){t&1&&(q(0,"div",0)(1,"h2"),pe(2,"Time Calculator"),K(),Lt(3,mT,2,3,"div",1),q(4,"div",2)(5,"p"),pe(6,"Welcome, "),q(7,"strong"),pe(8),K()()(),Lt(9,vT,11,7,"div",3),q(10,"div",4),pe(11," Weekly Total: "),q(12,"strong",5),pe(13),K()()()),t&2&&(ee(3),et("ngIf",r.message),ee(5),nn(r.userName),ee(),et("ngForOf",r.workWeek),ee(3),et("ngClass",km(5,pT,r.weeklyTotal>0,r.weeklyTotal<0)),ee(),rn("",r.weeklyTotal," mins"))},dependencies:[vt,yd,Ea,kn,Hc,fi,$c,Zo],styles:[".time-calculator[_ngcontent-%COMP%]{font-family:Arial,sans-serif;max-width:680px;margin:auto;padding:20px;height:100vh;display:flex;flex-direction:column;box-sizing:border-box}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px;font-size:clamp(1.5rem,4vw,2rem);flex-shrink:0}.day-rows-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;min-height:0}.day-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px;padding:8px;border:1px solid #ddd;border-radius:6px;background:#f9f9f9;transition:background .3s ease;flex-shrink:0}.day-label[_ngcontent-%COMP%]{width:100px;font-weight:700;font-size:clamp(.9rem,2.5vw,1rem);flex-shrink:0}.time-output[_ngcontent-%COMP%]{margin-left:auto;font-weight:700;font-size:clamp(.9rem,2.5vw,1rem);flex-shrink:0;min-width:80px;text-align:center}.highlight[_ngcontent-%COMP%]{background:#d2f8d2!important;border-color:#4caf50}input[_ngcontent-%COMP%]{padding:4px;font-size:clamp(.9rem,2.5vw,1rem);width:120px;flex-shrink:0}.weekly-total[_ngcontent-%COMP%]{margin-top:16px;font-size:clamp(1rem,3vw,1.2rem);text-align:right;font-weight:700;flex-shrink:0;padding:10px;background:#f0f0f0;border-radius:6px}button[_ngcontent-%COMP%]{padding:8px 16px;border:none;color:#fff;border-radius:6px;cursor:pointer;font-size:clamp(.8rem,2.5vw,.9rem);flex-shrink:0;min-width:70px}.save-btn[_ngcontent-%COMP%]{background-color:#468346}.save-btn[_ngcontent-%COMP%]:hover{background-color:#067506}.clear-btn[_ngcontent-%COMP%]{background-color:#ff4d4d}.clear-btn[_ngcontent-%COMP%]:hover{background-color:#e60000}.more[_ngcontent-%COMP%]{color:green}.less[_ngcontent-%COMP%]{color:red}@media (max-width: 768px){.time-calculator[_ngcontent-%COMP%]{padding:15px;max-width:100%}.day-row[_ngcontent-%COMP%]{gap:8px;padding:6px;margin-bottom:6px}.day-label[_ngcontent-%COMP%]{width:80px;font-size:.9rem}input[_ngcontent-%COMP%]{width:90px;padding:3px}button[_ngcontent-%COMP%]{padding:6px 12px;min-width:60px}.time-output[_ngcontent-%COMP%]{min-width:70px;font-size:.9rem}}@media (max-width: 480px){.time-calculator[_ngcontent-%COMP%]{padding:10px}.day-row[_ngcontent-%COMP%]{gap:6px;padding:5px;margin-bottom:5px;flex-wrap:wrap;justify-content:space-between}.day-label[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:5px;font-size:.85rem}.time-inputs[_ngcontent-%COMP%]{display:flex;gap:6px;flex:1;justify-content:center}input[_ngcontent-%COMP%]{width:80px;font-size:.85rem;padding:2px}.time-output[_ngcontent-%COMP%]{min-width:60px;font-size:.85rem;margin-left:0;text-align:center}.button-group[_ngcontent-%COMP%]{display:flex;gap:5px;width:100%;justify-content:center;margin-top:5px}button[_ngcontent-%COMP%]{padding:5px 10px;min-width:55px;font-size:.8rem;flex:1;max-width:80px}.weekly-total[_ngcontent-%COMP%]{margin-top:12px;padding:8px;font-size:.9rem}}@media (max-width: 320px){.time-calculator[_ngcontent-%COMP%]{padding:8px}.day-row[_ngcontent-%COMP%]{gap:4px;padding:4px}input[_ngcontent-%COMP%]{width:70px;font-size:.8rem}button[_ngcontent-%COMP%]{padding:4px 8px;min-width:50px;font-size:.75rem}.time-output[_ngcontent-%COMP%]{min-width:50px;font-size:.8rem}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden}.day-rows-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.day-rows-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.day-rows-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:2px}.day-rows-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"]})};var qc=class e{constructor(n){this.loadingService=n;this.supabase=Oc("https://qdzklqbqqjrxcoqxkiky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkemtscWJxcWpyeGNvcXhraWt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MjU4NDMsImV4cCI6MjA3NDEwMTg0M30.C9ozRZSa06i8ie6AfVRSFoNucWbNTRsjh-_qZ4zHk6g")}supabase;signUpWithProfile(n,t,r,i){return h(this,null,function*(){this.loadingService.show();try{return yield this.supabase.auth.signUp({email:n,password:t,options:{data:{first_name:r,last_name:i}}})}finally{this.loadingService.hide()}})}signUp(n,t){return h(this,null,function*(){try{return this.supabase.auth.signUp({email:n,password:t})}finally{this.loadingService.hide()}})}signIn(n,t){return h(this,null,function*(){this.loadingService.show();try{return this.supabase.auth.signInWithPassword({email:n,password:t})}finally{this.loadingService.hide()}})}signOut(){return h(this,null,function*(){return this.supabase.auth.signOut()})}getUser(){return h(this,null,function*(){let{data:n}=yield this.supabase.auth.getUser();return n.user})}getUserProfile(n){return h(this,null,function*(){let{data:t,error:r}=yield this.supabase.from("users").select("*").eq("id",n).single();return r?(console.error("Error fetching user profile:",r),null):t})}createUserProfile(n,t,r,i){return h(this,null,function*(){let{data:o,error:s}=yield this.supabase.from("users").upsert([{id:n,email:t,first_name:r,last_name:i,updated_at:new Date().toISOString()}]).select().single();if(s)throw console.error("Error creating user profile:",s),s;return o})}insertTimeEntry(n,t,r,i,o){return h(this,null,function*(){return this.supabase.from("time_entries").insert([{user_id:n,day:t,check_in:r,check_out:i,total_minutes:o}])})}fetchTimeEntries(n){return h(this,null,function*(){return this.supabase.from("time_entries").select("*").eq("user_id",n)})}clearUserEntries(n){return h(this,null,function*(){return this.supabase.from("time_entries").delete().eq("user_id",n)})}getClient(){return this.supabase}static \u0275fac=function(t){return new(t||e)(I(bt))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};function _T(e,n){if(e&1){let t=va();q(0,"div")(1,"input",8),Vt("ngModelChange",function(i){Yt(t);let o=gt();return on(o.firstName,i)||(o.firstName=i),Qt(i)}),K(),q(2,"input",9),Vt("ngModelChange",function(i){Yt(t);let o=gt();return on(o.lastName,i)||(o.lastName=i),Qt(i)}),K()()}if(e&2){let t=gt();ee(),jt("ngModel",t.firstName),ee(),jt("ngModel",t.lastName)}}function wT(e,n){if(e&1&&(q(0,"p",10),pe(1),K()),e&2){let t=gt();en("error",t.message.includes("Error")),ee(),nn(t.message)}}var Wc=class e{constructor(n,t,r,i){this.supabase=n;this.router=t;this.titleService=r;this.loadingService=i}email="";password="";isLoginMode=!0;message="";firstName="";lastName="";ngOnInit(){this.updateTitle()}updateTitle(){let n=this.isLoginMode?"Login":"Sign Up";this.titleService.setTitle(`Time Calculator | ${n}`)}onSubmit(){return h(this,null,function*(){this.loadingService.show();try{if(this.isLoginMode){let{data:n,error:t}=yield this.supabase.signIn(this.email,this.password);if(t)throw t;this.message="Login successful! Redirecting...",setTimeout(()=>{this.router.navigate(["/dashboard"])},1e3)}else{let{data:n,error:t}=yield this.supabase.signUpWithProfile(this.email,this.password,this.firstName,this.lastName);if(t)throw t;this.message="Signup successful! Please check your email to confirm your account.",setTimeout(()=>{this.isLoginMode=!0,this.updateTitle(),this.message="Please login with your confirmed account."},5e3)}}catch(n){this.message=n.message,console.error("Auth error:",n)}finally{this.loadingService.hide()}})}toggleMode(){this.isLoginMode=!this.isLoginMode,this.message="",this.updateTitle()}static \u0275fac=function(t){return new(t||e)(A(qc),A(Fe),A(Vr),A(bt))};static \u0275cmp=pt({type:e,selectors:[["app-auth"]],decls:12,vars:7,consts:[[1,"auth-container"],[3,"ngSubmit"],[4,"ngIf"],["type","email","placeholder","Email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","placeholder","Password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"toggle",3,"click"],["class","message",3,"error",4,"ngIf"],["type","text","placeholder","First Name","name","firstName","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","Last Name","name","lastName","required","",3,"ngModelChange","ngModel"],[1,"message"]],template:function(t,r){t&1&&(q(0,"div",0)(1,"h2"),pe(2),K(),q(3,"form",1),tt("ngSubmit",function(){return r.onSubmit()}),Lt(4,_T,3,2,"div",2),q(5,"input",3),Vt("ngModelChange",function(o){return on(r.email,o)||(r.email=o),o}),K(),q(6,"input",4),Vt("ngModelChange",function(o){return on(r.password,o)||(r.password=o),o}),K(),q(7,"button",5),pe(8),K()(),q(9,"p",6),tt("click",function(){return r.toggleMode()}),pe(10),K(),Lt(11,wT,2,3,"p",7),K()),t&2&&(ee(2),nn(r.isLoginMode?"Login":"Sign Up"),ee(2),et("ngIf",!r.isLoginMode),ee(),jt("ngModel",r.email),ee(),jt("ngModel",r.password),ee(2),nn(r.isLoginMode?"Login":"Sign Up"),ee(2),rn(" ",r.isLoginMode?"Don't have an account? Sign Up":"Already have an account? Login"," "),ee(),et("ngIf",r.message))},dependencies:[vt,kn,Hc,k_,fi,$c,T_,Kf,Zo,Zf],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;border:1px solid #ddd;border-radius:8px;background:#f9f9f9;text-align:center}input[_ngcontent-%COMP%]{width:100%;margin:8px 0;padding:10px;border:1px solid #ccc;border-radius:6px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background:#4caf50;border:none;color:#fff;border-radius:6px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#45a049}.toggle[_ngcontent-%COMP%]{margin-top:12px;color:#007bff;cursor:pointer}.message[_ngcontent-%COMP%]{margin-top:10px;color:red}"]})};var F_=[{path:"",component:Wc},{path:"dashboard",component:zc},{path:"**",redirectTo:""}];Nd(ac,{providers:[af(F_,lf())]}).catch(e=>console.error(e));
