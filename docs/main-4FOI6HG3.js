import{a as y,b as F,c as Yt,d as v_,e as y_,f as p,h as Of,i as kf,l as __,m as Pf}from"./chunk-PZ5UXJ7I.js";var Jd=Yt(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});var Yd=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qd.default=Yd});var ef=Yt(hi=>{"use strict";var Vv=hi&&hi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hi,"__esModule",{value:!0});var pS=Vv((Pf(),y_(__))),gS=Vv(Jd()),Xd=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=pS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c,l;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){let q=yield i.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=q:d=JSON.parse(q))}let _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&_===""?(f=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new gS.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};hi.default=Xd});var nf=Yt(pi=>{"use strict";var mS=pi&&pi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pi,"__esModule",{value:!0});var vS=mS(ef()),tf=class extends vS.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};pi.default=tf});var Xa=Yt(gi=>{"use strict";var yS=gi&&gi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gi,"__esModule",{value:!0});var _S=yS(nf()),rf=class extends _S.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};gi.default=rf});var sf=Yt(vi=>{"use strict";var wS=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vi,"__esModule",{value:!0});var mi=wS(Xa()),of=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new mi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new mi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new mi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new mi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new mi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};vi.default=of});var $v=Yt(yi=>{"use strict";var Uv=yi&&yi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yi,"__esModule",{value:!0});var DS=Uv(sf()),bS=Uv(Xa()),af=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){let n=new URL(`${this.url}/${t}`);return new DS.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",l=n);let u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new bS.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};yi.default=af});var Zv=Yt(ge=>{"use strict";var Ur=ge&&ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ge,"__esModule",{value:!0});ge.PostgrestError=ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;var Bv=Ur($v());ge.PostgrestClient=Bv.default;var Hv=Ur(sf());ge.PostgrestQueryBuilder=Hv.default;var zv=Ur(Xa());ge.PostgrestFilterBuilder=zv.default;var qv=Ur(nf());ge.PostgrestTransformBuilder=qv.default;var Gv=Ur(ef());ge.PostgrestBuilder=Gv.default;var Wv=Ur(Jd());ge.PostgrestError=Wv.default;ge.default={PostgrestClient:Bv.default,PostgrestQueryBuilder:Hv.default,PostgrestFilterBuilder:zv.default,PostgrestTransformBuilder:qv.default,PostgrestBuilder:Gv.default,PostgrestError:Wv.default}});function Uc(e,t){return Object.is(e,t)}var oe=null,Bi=!1,$c=1,Pe=Symbol("SIGNAL");function k(e){let t=oe;return oe=e,t}function Bc(){return oe}var no={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ro(e){if(Bi)throw new Error("");if(oe===null)return;oe.consumerOnSignalRead(e);let t=oe.nextProducerIndex++;if(Gi(oe),t<oe.producerNode.length&&oe.producerNode[t]!==e&&to(oe)){let n=oe.producerNode[t];qi(n,oe.producerIndexOfThis[t])}oe.producerNode[t]!==e&&(oe.producerNode[t]=e,oe.producerIndexOfThis[t]=to(oe)?Lf(e,oe,t):0),oe.producerLastReadVersion[t]=e.version}function Ff(){$c++}function Hc(e){if(!(to(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===$c)){if(!e.producerMustRecompute(e)&&!Wc(e)){Vc(e);return}e.producerRecomputeValue(e),Vc(e)}}function zc(e){if(e.liveConsumerNode===void 0)return;let t=Bi;Bi=!0;try{for(let n of e.liveConsumerNode)n.dirty||w_(n)}finally{Bi=t}}function qc(){return oe?.consumerAllowSignalWrites!==!1}function w_(e){e.dirty=!0,zc(e),e.consumerMarkedDirty?.(e)}function Vc(e){e.dirty=!1,e.lastCleanEpoch=$c}function zi(e){return e&&(e.nextProducerIndex=0),k(e)}function Gc(e,t){if(k(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(to(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)qi(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Wc(e){Gi(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Hc(n),r!==n.version))return!0}return!1}function Zc(e){if(Gi(e),to(e))for(let t=0;t<e.producerNode.length;t++)qi(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Lf(e,t,n){if(jf(e),e.liveConsumerNode.length===0&&Vf(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Lf(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function qi(e,t){if(jf(e),e.liveConsumerNode.length===1&&Vf(e))for(let r=0;r<e.producerNode.length;r++)qi(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Gi(o),o.producerIndexOfThis[r]=t}}function to(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Gi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function jf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Vf(e){return e.producerNode!==void 0}function Kc(e,t){let n=Object.create(D_);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Hc(n),ro(n),n.value===Hi)throw n.error;return n.value};return r[Pe]=n,r}var Lc=Symbol("UNSET"),jc=Symbol("COMPUTING"),Hi=Symbol("ERRORED"),D_=F(y({},no),{value:Lc,dirty:!0,error:null,equal:Uc,kind:"computed",producerMustRecompute(e){return e.value===Lc||e.value===jc},producerRecomputeValue(e){if(e.value===jc)throw new Error("Detected cycle in computations.");let t=e.value;e.value=jc;let n=zi(e),r,o=!1;try{r=e.computation(),k(null),o=t!==Lc&&t!==Hi&&r!==Hi&&e.equal(t,r)}catch(i){r=Hi,e.error=i}finally{Gc(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function b_(){throw new Error}var Uf=b_;function $f(e){Uf(e)}function Yc(e){Uf=e}var C_=null;function Qc(e,t){let n=Object.create(Wi);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(ro(n),n.value);return r[Pe]=n,r}function oo(e,t){qc()||$f(e),e.equal(e.value,t)||(e.value=t,E_(e))}function Jc(e,t){qc()||$f(e),oo(e,t(e.value))}var Wi=F(y({},no),{equal:Uc,value:void 0,kind:"signal"});function E_(e){e.version++,Ff(),zc(e),C_?.()}function Xc(e){let t=k(null);try{return e()}finally{k(t)}}var el;function io(){return el}function _t(e){let t=el;return el=e,t}var Zi=Symbol("NotFound");function T(e){return typeof e=="function"}function Hn(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ki=Hn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function so(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ee=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(T(r))try{r()}catch(i){t=i instanceof Ki?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Bf(i)}catch(s){t=t??[],s instanceof Ki?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ki(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Bf(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&so(n,t)}remove(t){let{_finalizers:n}=this;n&&so(n,t),t instanceof e&&t._removeParent(this)}};ee.EMPTY=(()=>{let e=new ee;return e.closed=!0,e})();var tl=ee.EMPTY;function Yi(e){return e instanceof ee||e&&"closed"in e&&T(e.remove)&&T(e.add)&&T(e.unsubscribe)}function Bf(e){T(e)?e():e.unsubscribe()}var Ke={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zn={setTimeout(e,t,...n){let{delegate:r}=zn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=zn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Qi(e){zn.setTimeout(()=>{let{onUnhandledError:t}=Ke;if(t)t(e);else throw e})}function ao(){}var Hf=nl("C",void 0,void 0);function zf(e){return nl("E",void 0,e)}function qf(e){return nl("N",e,void 0)}function nl(e,t,n){return{kind:e,value:t,error:n}}var Qt=null;function qn(e){if(Ke.useDeprecatedSynchronousErrorHandling){let t=!Qt;if(t&&(Qt={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Qt;if(Qt=null,n)throw r}}else e()}function Gf(e){Ke.useDeprecatedSynchronousErrorHandling&&Qt&&(Qt.errorThrown=!0,Qt.error=e)}var Jt=class extends ee{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Yi(t)&&t.add(this)):this.destination=A_}static create(t,n,r){return new Gn(t,n,r)}next(t){this.isStopped?ol(qf(t),this):this._next(t)}error(t){this.isStopped?ol(zf(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ol(Hf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},T_=Function.prototype.bind;function rl(e,t){return T_.call(e,t)}var il=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ji(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ji(r)}else Ji(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ji(n)}}},Gn=class extends Jt{constructor(t,n,r){super();let o;if(T(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Ke.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&rl(t.next,i),error:t.error&&rl(t.error,i),complete:t.complete&&rl(t.complete,i)}):o=t}this.destination=new il(o)}};function Ji(e){Ke.useDeprecatedSynchronousErrorHandling?Gf(e):Qi(e)}function x_(e){throw e}function ol(e,t){let{onStoppedNotification:n}=Ke;n&&zn.setTimeout(()=>n(e,t))}var A_={closed:!0,next:ao,error:x_,complete:ao};var Wn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Me(e){return e}function sl(...e){return al(e)}function al(e){return e.length===0?Me:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var B=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=R_(n)?n:new Gn(n,r,o);return qn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Wf(r),new r((o,i)=>{let s=new Gn({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wn](){return this}pipe(...n){return al(n)(this)}toPromise(n){return n=Wf(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Wf(e){var t;return(t=e??Ke.Promise)!==null&&t!==void 0?t:Promise}function N_(e){return e&&T(e.next)&&T(e.error)&&T(e.complete)}function R_(e){return e&&e instanceof Jt||N_(e)&&Yi(e)}function cl(e){return T(e?.lift)}function j(e){return t=>{if(cl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(e,t,n,r,o){return new ll(e,t,n,r,o)}var ll=class extends Jt{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Zn(){return j((e,t)=>{let n=null;e._refCount++;let r=P(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Kn=class extends B{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cl(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ee;let n=this.getSubject();t.add(this.source.subscribe(P(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ee.EMPTY)}return t}refCount(){return Zn()(this)}};var Zf=Hn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=(()=>{class e extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Xi(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zf}next(n){qn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){qn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?tl:(this.currentObservers=null,i.push(n),new ee(()=>{this.currentObservers=null,so(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new B;return n.source=this,n}}return e.create=(t,n)=>new Xi(t,n),e})(),Xi=class extends ie{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:tl}};var fe=class extends ie{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var we=new B(e=>e.complete());function Kf(e){return e&&T(e.schedule)}function Yf(e){return e[e.length-1]}function es(e){return T(Yf(e))?e.pop():void 0}function Ot(e){return Kf(Yf(e))?e.pop():void 0}function Jf(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Qf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xt(e){return this instanceof Xt?(this.v=e,this):new Xt(e)}function Xf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(v){return new Promise(function(_,b){i.push([f,v,_,b])>1||c(f,v)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(v){h(i[0][3],v)}}function l(f){f.value instanceof Xt?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function eh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Qf=="function"?Qf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var ts=e=>e&&typeof e.length=="number"&&typeof e!="function";function ns(e){return T(e?.then)}function rs(e){return T(e[Wn])}function os(e){return Symbol.asyncIterator&&T(e?.[Symbol.asyncIterator])}function is(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function O_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ss=O_();function as(e){return T(e?.[ss])}function cs(e){return Xf(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Xt(n.read());if(o)return yield Xt(void 0);yield yield Xt(r)}}finally{n.releaseLock()}})}function ls(e){return T(e?.getReader)}function te(e){if(e instanceof B)return e;if(e!=null){if(rs(e))return k_(e);if(ts(e))return P_(e);if(ns(e))return F_(e);if(os(e))return th(e);if(as(e))return L_(e);if(ls(e))return j_(e)}throw is(e)}function k_(e){return new B(t=>{let n=e[Wn]();if(T(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function P_(e){return new B(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function F_(e){return new B(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Qi)})}function L_(e){return new B(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function th(e){return new B(t=>{V_(e,t).catch(n=>t.error(n))})}function j_(e){return th(cs(e))}function V_(e,t){var n,r,o,i;return Jf(this,void 0,void 0,function*(){try{for(n=eh(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function De(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function us(e,t=0){return j((n,r)=>{n.subscribe(P(r,o=>De(r,e,()=>r.next(o),t),()=>De(r,e,()=>r.complete(),t),o=>De(r,e,()=>r.error(o),t)))})}function ds(e,t=0){return j((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function nh(e,t){return te(e).pipe(ds(t),us(t))}function rh(e,t){return te(e).pipe(ds(t),us(t))}function oh(e,t){return new B(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ih(e,t){return new B(n=>{let r;return De(n,t,()=>{r=e[ss](),De(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>T(r?.return)&&r.return()})}function fs(e,t){if(!e)throw new Error("Iterable cannot be null");return new B(n=>{De(n,t,()=>{let r=e[Symbol.asyncIterator]();De(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function sh(e,t){return fs(cs(e),t)}function ah(e,t){if(e!=null){if(rs(e))return nh(e,t);if(ts(e))return oh(e,t);if(ns(e))return rh(e,t);if(os(e))return fs(e,t);if(as(e))return ih(e,t);if(ls(e))return sh(e,t)}throw is(e)}function K(e,t){return t?ah(e,t):te(e)}function I(...e){let t=Ot(e);return K(e,t)}function Yn(e,t){let n=T(e)?e:()=>e,r=o=>o.error(n());return new B(t?o=>t.schedule(r,0,o):r)}function ul(e){return!!e&&(e instanceof B||T(e.lift)&&T(e.subscribe))}var wt=Hn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function L(e,t){return j((n,r)=>{let o=0;n.subscribe(P(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:U_}=Array;function $_(e,t){return U_(t)?e(...t):e(t)}function hs(e){return L(t=>$_(e,t))}var{isArray:B_}=Array,{getPrototypeOf:H_,prototype:z_,keys:q_}=Object;function ps(e){if(e.length===1){let t=e[0];if(B_(t))return{args:t,keys:null};if(G_(t)){let n=q_(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function G_(e){return e&&typeof e=="object"&&H_(e)===z_}function gs(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function co(...e){let t=Ot(e),n=es(e),{args:r,keys:o}=ps(e);if(r.length===0)return K([],t);let i=new B(W_(r,t,o?s=>gs(o,s):Me));return n?i.pipe(hs(n)):i}function W_(e,t,n=Me){return r=>{ch(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)ch(t,()=>{let l=K(e[c],t),u=!1;l.subscribe(P(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ch(e,t,n){e?De(n,e,t):t()}function lh(e,t,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&t.complete()},f=v=>l<r?g(v):c.push(v),g=v=>{i&&t.next(v),l++;let _=!1;te(n(v,u++)).subscribe(P(t,b=>{o?.(b),i?f(b):t.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let b=c.shift();s?De(t,s,()=>g(b)):g(b)}h()}catch(b){t.error(b)}}))};return e.subscribe(P(t,f,()=>{d=!0,h()})),()=>{a?.()}}function J(e,t,n=1/0){return T(t)?J((r,o)=>L((i,s)=>t(r,i,o,s))(te(e(r,o))),n):(typeof t=="number"&&(n=t),j((r,o)=>lh(r,o,e,n)))}function Qn(e=1/0){return J(Me,e)}function uh(){return Qn(1)}function Jn(...e){return uh()(K(e,Ot(e)))}function ms(e){return new B(t=>{te(e()).subscribe(t)})}function dl(...e){let t=es(e),{args:n,keys:r}=ps(e),o=new B(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;te(n[u]).subscribe(P(i,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?gs(r,a):a),i.complete())}))}});return t?o.pipe(hs(t)):o}function Te(e,t){return j((n,r)=>{let o=0;n.subscribe(P(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Dt(e){return j((t,n)=>{let r=null,o=!1,i;r=t.subscribe(P(n,void 0,void 0,s=>{i=te(e(s,Dt(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function dh(e,t,n,r,o){return(i,s)=>{let a=n,c=t,l=0;i.subscribe(P(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function kt(e,t){return T(t)?J(e,t,1):J(e,1)}function Pt(e){return j((t,n)=>{let r=!1;t.subscribe(P(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function bt(e){return e<=0?()=>we:j((t,n)=>{let r=0;t.subscribe(P(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function vs(e=Z_){return j((t,n)=>{let r=!1;t.subscribe(P(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Z_(){return new wt}function lo(e){return j((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Ct(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Te((o,i)=>e(o,i,r)):Me,bt(1),n?Pt(t):vs(()=>new wt))}function Xn(e){return e<=0?()=>we:j((t,n)=>{let r=[];t.subscribe(P(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function fl(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Te((o,i)=>e(o,i,r)):Me,Xn(1),n?Pt(t):vs(()=>new wt))}function hl(e,t){return j(dh(e,t,arguments.length>=2,!0))}function pl(...e){let t=Ot(e);return j((n,r)=>{(t?Jn(e,n,t):Jn(e,n)).subscribe(r)})}function Fe(e,t){return j((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(P(r,c=>{o?.unsubscribe();let l=0,u=i++;te(e(c,u)).subscribe(o=P(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function gl(e){return j((t,n)=>{te(e).subscribe(P(n,()=>n.complete(),ao)),!n.closed&&t.subscribe(n)})}function he(e,t,n){let r=T(e)||t||n?{next:e,error:t,complete:n}:e;return r?j((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(P(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Me}var K_="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(t,n){super(ep(t,n)),this.code=t}};function Y_(e){return`NG0${Math.abs(e)}`}function ep(e,t){return`${Y_(e)}${t?": "+t:""}`}var tp=Symbol("InputSignalNode#UNSET"),Q_=F(y({},Wi),{transformFn:void 0,applyValueToInputSignal(e,t){oo(e,t)}});function np(e,t){let n=Object.create(Q_);n.value=e,n.transformFn=t?.transform;function r(){if(ro(n),n.value===tp){let o=null;throw new w(-950,o)}return n.value}return r[Pe]=n,r}function bo(e){return{toString:e}.toString()}var ys="__parameters__";function J_(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function rp(e,t,n){return bo(()=>{let r=J_(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(ys)?c[ys]:Object.defineProperty(c,ys,{value:[]})[ys];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function z(e){for(let t in e)if(e[t]===z)return t;throw Error("Could not find renamed property on target object.")}function X_(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function be(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(be).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function fh(e,t){return e?t?`${e} ${t}`:e:t||""}var ew=z({__forward_ref__:z});function dn(e){return e.__forward_ref__=dn,e.toString=function(){return be(this())},e}function ve(e){return op(e)?e():e}function op(e){return typeof e=="function"&&e.hasOwnProperty(ew)&&e.__forward_ref__===dn}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function It(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ys(e){return hh(e,sp)||hh(e,ap)}function ip(e){return Ys(e)!==null}function hh(e,t){return e.hasOwnProperty(t)?e[t]:null}function tw(e){let t=e&&(e[sp]||e[ap]);return t||null}function ph(e){return e&&(e.hasOwnProperty(gh)||e.hasOwnProperty(nw))?e[gh]:null}var sp=z({\u0275prov:z}),gh=z({\u0275inj:z}),ap=z({ngInjectableDef:z}),nw=z({ngInjectorDef:z}),C=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cp(e){return e&&!!e.\u0275providers}var rw=z({\u0275cmp:z}),ow=z({\u0275dir:z}),iw=z({\u0275pipe:z}),sw=z({\u0275mod:z}),Is=z({\u0275fac:z}),po=z({__NG_ELEMENT_ID__:z}),mh=z({__NG_ENV_ID__:z});function vu(e){return typeof e=="string"?e:e==null?"":String(e)}function aw(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():vu(e)}function lp(e,t){throw new w(-200,e)}function yu(e,t){throw new w(-201,!1)}var N=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(N||{}),xl;function up(){return xl}function Le(e){let t=xl;return xl=e,t}function dp(e,t,n){let r=Ys(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&N.Optional)return null;if(t!==void 0)return t;yu(e,"Injector")}var cw={},en=cw,Al="__NG_DI_FLAG__",Ss=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Zi:en,r)}},Ms="ngTempTokenPath",lw="ngTokenPath",uw=/\n/gm,dw="\u0275",vh="__source";function fw(e,t=N.Default){if(io()===void 0)throw new w(-203,!1);if(io()===null)return dp(e,void 0,t);{let n=io(),r;return n instanceof Ss?r=n.injector:r=n,r.get(e,t&N.Optional?null:void 0,t)}}function S(e,t=N.Default){return(up()||fw)(ve(e),t)}function m(e,t=N.Default){return S(e,Qs(t))}function Qs(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Nl(e){let t=[];for(let n=0;n<e.length;n++){let r=ve(e[n]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let o,i=N.Default;for(let s=0;s<r.length;s++){let a=r[s],c=hw(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(S(o,i))}else t.push(S(r))}return t}function fp(e,t){return e[Al]=t,e.prototype[Al]=t,e}function hw(e){return e[Al]}function pw(e,t,n,r){let o=e[Ms];throw t[vh]&&o.unshift(t[vh]),e.message=gw(`
`+e.message,o,n,r),e[lw]=o,e[Ms]=null,e}function gw(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==dw?e.slice(2):e;let o=be(t);if(Array.isArray(t))o=t.map(be).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):be(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(uw,`
  `)}`}var mw=fp(rp("Optional"),8);var vw=fp(rp("SkipSelf"),4);function sr(e,t){let n=e.hasOwnProperty(Is);return n?e[Is]:null}function _u(e,t){e.forEach(n=>Array.isArray(n)?_u(n,t):t(n))}function hp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ts(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function yw(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function _w(e,t,n){let r=Co(e,t);return r>=0?e[r|1]=n:(r=~r,yw(e,r,t,n)),r}function ml(e,t){let n=Co(e,t);if(n>=0)return e[n|1]}function Co(e,t){return ww(e,t,1)}function ww(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var nn={},je=[],go=new C(""),pp=new C("",-1),gp=new C(""),xs=class{get(t,n=en){if(n===en){let r=new Error(`NullInjectorError: No provider for ${be(t)}!`);throw r.name="NullInjectorError",r}return n}};function mp(e,t){let n=e[sw]||null;if(!n&&t===!0)throw new Error(`Type ${be(e)} does not have '\u0275mod' property.`);return n}function rn(e){return e[rw]||null}function Dw(e){return e[ow]||null}function bw(e){return e[iw]||null}function wu(e){return{\u0275providers:e}}function Cw(...e){return{\u0275providers:vp(!0,e),\u0275fromNgModule:!0}}function vp(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return _u(t,s=>{let a=s;Rl(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&yp(o,i),n}function yp(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Du(o,i=>{t(i,r)})}}function Rl(e,t,n,r){if(e=ve(e),!e)return!1;let o=null,i=ph(e),s=!i&&rn(e);if(!i&&!s){let c=e.ngModule;if(i=ph(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Rl(l,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{_u(i.imports,u=>{Rl(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&yp(l,t)}if(!a){let l=sr(o)||(()=>new o);t({provide:o,useFactory:l,deps:je},o),t({provide:gp,useValue:o,multi:!0},o),t({provide:go,useValue:()=>S(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;Du(c,u=>{t(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function Du(e,t){for(let n of e)cp(n)&&(n=n.\u0275providers),Array.isArray(n)?Du(n,t):t(n)}var Ew=z({provide:String,useValue:z});function _p(e){return e!==null&&typeof e=="object"&&Ew in e}function Iw(e){return!!(e&&e.useExisting)}function Sw(e){return!!(e&&e.useFactory)}function ar(e){return typeof e=="function"}function Mw(e){return!!e.useClass}var Js=new C(""),ws={},yh={},vl;function bu(){return vl===void 0&&(vl=new xs),vl}var Ce=class{},mo=class extends Ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,kl(t,s=>this.processProvider(s)),this.records.set(pp,er(void 0,this)),o.has("environment")&&this.records.set(Ce,er(void 0,this));let i=this.records.get(Js);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(gp,je,N.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Zi:en,r)}destroy(){fo(this),this._destroyed=!0;let t=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(t)}}onDestroy(t){return fo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){fo(this);let n=_t(this),r=Le(void 0),o;try{return t()}finally{_t(n),Le(r)}}get(t,n=en,r=N.Default){if(fo(this),t.hasOwnProperty(mh))return t[mh](this);r=Qs(r);let o,i=_t(this),s=Le(void 0);try{if(!(r&N.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=Rw(t)&&Ys(t);l&&this.injectableDefInScope(l)?c=er(Ol(t),ws):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,r)}let a=r&N.Self?bu():this.parent;return n=r&N.Optional&&n===en?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ms]=a[Ms]||[]).unshift(be(t)),i)throw a;return pw(a,t,"R3InjectorError",this.source)}else throw a}finally{Le(s),_t(i)}}resolveInjectorInitializers(){let t=k(null),n=_t(this),r=Le(void 0),o;try{let i=this.get(go,je,N.Self);for(let s of i)s()}finally{_t(n),Le(r),k(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(be(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ve(t);let n=ar(t)?t:ve(t&&t.provide),r=xw(t);if(!ar(t)&&t.multi===!0){let o=this.records.get(n);o||(o=er(void 0,ws,!0),o.factory=()=>Nl(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=k(null);try{return n.value===yh?lp(be(t)):n.value===ws&&(n.value=yh,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Nw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{k(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ve(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ol(e){let t=Ys(e),n=t!==null?t.factory:sr(e);if(n!==null)return n;if(e instanceof C)throw new w(204,!1);if(e instanceof Function)return Tw(e);throw new w(204,!1)}function Tw(e){if(e.length>0)throw new w(204,!1);let n=tw(e);return n!==null?()=>n.factory(e):()=>new e}function xw(e){if(_p(e))return er(void 0,e.useValue);{let t=wp(e);return er(t,ws)}}function wp(e,t,n){let r;if(ar(e)){let o=ve(e);return sr(o)||Ol(o)}else if(_p(e))r=()=>ve(e.useValue);else if(Sw(e))r=()=>e.useFactory(...Nl(e.deps||[]));else if(Iw(e))r=(o,i)=>S(ve(e.useExisting),i!==void 0&&i&N.Optional?N.Optional:void 0);else{let o=ve(e&&(e.useClass||e.provide));if(Aw(e))r=()=>new o(...Nl(e.deps));else return sr(o)||Ol(o)}return r}function fo(e){if(e.destroyed)throw new w(205,!1)}function er(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Aw(e){return!!e.deps}function Nw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Rw(e){return typeof e=="function"||typeof e=="object"&&e instanceof C}function kl(e,t){for(let n of e)Array.isArray(n)?kl(n,t):n&&cp(n)?kl(n.\u0275providers,t):t(n)}function Be(e,t){let n;e instanceof mo?(fo(e),n=e):n=new Ss(e);let r,o=_t(n),i=Le(void 0);try{return t()}finally{_t(o),Le(i)}}function Dp(){return up()!==void 0||io()!=null}function Ow(e){if(!Dp())throw new w(-203,!1)}function kw(e){return typeof e=="function"}var St=0,V=1,x=2,ye=3,Qe=4,Je=5,As=6,Ns=7,Ee=8,cr=9,jt=10,ae=11,vo=12,_h=13,gr=14,ot=15,lr=16,tr=17,ur=18,Xs=19,bp=20,Ft=21,yl=22,Rs=23,Ve=24,or=25,Et=26,Cp=1;var on=7,Os=8,ks=9,Ue=10;function Lt(e){return Array.isArray(e)&&typeof e[Cp]=="object"}function Mt(e){return Array.isArray(e)&&e[Cp]===!0}function Ep(e){return(e.flags&4)!==0}function mr(e){return e.componentOffset>-1}function Cu(e){return(e.flags&1)===1}function it(e){return!!e.template}function Ps(e){return(e[x]&512)!==0}function vr(e){return(e[x]&256)===256}var Pl=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ip(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var fn=(()=>{let e=()=>Sp;return e.ngInherit=!0,e})();function Sp(e){return e.type.prototype.ngOnChanges&&(e.setInput=Fw),Pw}function Pw(){let e=Tp(this),t=e?.current;if(t){let n=e.previous;if(n===nn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Fw(e,t,n,r,o){let i=this.declaredInputs[r],s=Tp(e)||Lw(e,{previous:nn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Pl(l&&l.currentValue,n,c===nn),Ip(e,t,o,n)}var Mp="__ngSimpleChanges__";function Tp(e){return e[Mp]||null}function Lw(e,t){return e[Mp]=t}var wh=null;var H=function(e,t=null,n){wh?.(e,t,n)},jw="svg",Vw="math";function st(e){for(;Array.isArray(e);)e=e[St];return e}function xp(e,t){return st(t[e])}function ut(e,t){return st(t[e.index])}function Ap(e,t){return e.data[t]}function at(e,t){let n=t[e];return Lt(n)?n:n[St]}function Eu(e){return(e[x]&128)===128}function Uw(e){return Mt(e[ye])}function Fs(e,t){return t==null?null:e[t]}function Np(e){e[tr]=0}function Rp(e){e[x]&1024||(e[x]|=1024,Eu(e)&&Eo(e))}function $w(e,t){for(;e>0;)t=t[gr],e--;return t}function ea(e){return!!(e[x]&9216||e[Ve]?.dirty)}function Fl(e){e[jt].changeDetectionScheduler?.notify(8),e[x]&64&&(e[x]|=1024),ea(e)&&Eo(e)}function Eo(e){e[jt].changeDetectionScheduler?.notify(0);let t=sn(e);for(;t!==null&&!(t[x]&8192||(t[x]|=8192,!Eu(t)));)t=sn(t)}function Op(e,t){if(vr(e))throw new w(911,!1);e[Ft]===null&&(e[Ft]=[]),e[Ft].push(t)}function Bw(e,t){if(e[Ft]===null)return;let n=e[Ft].indexOf(t);n!==-1&&e[Ft].splice(n,1)}function sn(e){let t=e[ye];return Mt(t)?t[ye]:t}function kp(e){return e[Ns]??=[]}function Pp(e){return e.cleanup??=[]}var O={lFrame:Hp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ll=!1;function Hw(){return O.lFrame.elementDepthCount}function zw(){O.lFrame.elementDepthCount++}function qw(){O.lFrame.elementDepthCount--}function Fp(){return O.bindingsEnabled}function Gw(){return O.skipHydrationRootTNode!==null}function Ww(e){return O.skipHydrationRootTNode===e}function Zw(){O.skipHydrationRootTNode=null}function W(){return O.lFrame.lView}function xe(){return O.lFrame.tView}function Io(e){return O.lFrame.contextLView=e,e[Ee]}function So(e){return O.lFrame.contextLView=null,e}function Ae(){let e=Lp();for(;e!==null&&e.type===64;)e=e.parent;return e}function Lp(){return O.lFrame.currentTNode}function Kw(){let e=O.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Mo(e,t){let n=O.lFrame;n.currentTNode=e,n.isParent=t}function jp(){return O.lFrame.isParent}function Yw(){O.lFrame.isParent=!1}function Vp(){return Ll}function Dh(e){let t=Ll;return Ll=e,t}function Qw(){let e=O.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Jw(e){return O.lFrame.bindingIndex=e}function ta(){return O.lFrame.bindingIndex++}function Xw(e){let t=O.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function eD(){return O.lFrame.inI18n}function tD(e,t){let n=O.lFrame;n.bindingIndex=n.bindingRootIndex=e,jl(t)}function nD(){return O.lFrame.currentDirectiveIndex}function jl(e){O.lFrame.currentDirectiveIndex=e}function rD(e){let t=O.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Up(e){O.lFrame.currentQueryIndex=e}function oD(e){let t=e[V];return t.type===2?t.declTNode:t.type===1?e[Je]:null}function $p(e,t,n){if(n&N.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&N.Host);)if(o=oD(i),o===null||(i=i[gr],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=O.lFrame=Bp();return r.currentTNode=t,r.lView=e,!0}function Iu(e){let t=Bp(),n=e[V];O.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Bp(){let e=O.lFrame,t=e===null?null:e.child;return t===null?Hp(e):t}function Hp(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function zp(){let e=O.lFrame;return O.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var qp=zp;function Su(){let e=zp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function iD(e){return(O.lFrame.contextLView=$w(e,O.lFrame.contextLView))[Ee]}function yr(){return O.lFrame.selectedIndex}function an(e){O.lFrame.selectedIndex=e}function Mu(){let e=O.lFrame;return Ap(e.tView,e.selectedIndex)}function sD(){return O.lFrame.currentNamespace}var Gp=!0;function Tu(){return Gp}function xu(e){Gp=e}function aD(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Sp(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Wp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ds(e,t,n){Zp(e,t,3,n)}function bs(e,t,n,r){(e[x]&3)===n&&Zp(e,t,n,r)}function _l(e,t){let n=e[x];(n&3)===t&&(n&=16383,n+=1,e[x]=n)}function Zp(e,t,n,r){let o=r!==void 0?e[tr]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[tr]+=65536),(a<i||i==-1)&&(cD(e,n,t,c),e[tr]=(e[tr]&4294901760)+c+2),c++}function bh(e,t){H(4,e,t);let n=k(null);try{t.call(e)}finally{k(n),H(5,e,t)}}function cD(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[x]>>14<e[tr]>>16&&(e[x]&3)===t&&(e[x]+=16384,bh(a,i)):bh(a,i)}var ir=-1,cn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function lD(e){return(e.flags&8)!==0}function uD(e){return(e.flags&16)!==0}function dD(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];hD(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function fD(e){return e===3||e===4||e===6}function hD(e){return e.charCodeAt(0)===64}function yo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Ch(e,n,o,null,t[++r]):Ch(e,n,o,null,null))}}return e}function Ch(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function Kp(e){return e!==ir}function Ls(e){return e&32767}function pD(e){return e>>16}function js(e,t){let n=pD(e),r=t;for(;n>0;)r=r[gr],n--;return r}var Vl=!0;function Eh(e){let t=Vl;return Vl=e,t}var gD=256,Yp=gD-1,Qp=5,mD=0,rt={};function vD(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(po)&&(r=n[po]),r==null&&(r=n[po]=mD++);let o=r&Yp,i=1<<o;t.data[e+(o>>Qp)]|=i}function Vs(e,t){let n=Jp(e,t);if(n!==-1)return n;let r=t[V];r.firstCreatePass&&(e.injectorIndex=t.length,wl(r.data,e),wl(t,null),wl(r.blueprint,null));let o=Au(e,t),i=e.injectorIndex;if(Kp(o)){let s=Ls(o),a=js(o,t),c=a[V].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function wl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jp(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Au(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=rg(o),r===null)return ir;if(n++,o=o[gr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ir}function Ul(e,t,n){vD(e,t,n)}function Xp(e,t,n){if(n&N.Optional||e!==void 0)return e;yu(t,"NodeInjector")}function eg(e,t,n,r){if(n&N.Optional&&r===void 0&&(r=null),(n&(N.Self|N.Host))===0){let o=e[cr],i=Le(void 0);try{return o?o.get(t,r,n&N.Optional):dp(t,r,n&N.Optional)}finally{Le(i)}}return Xp(r,t,n)}function tg(e,t,n,r=N.Default,o){if(e!==null){if(t[x]&2048&&!(r&N.Self)){let s=bD(e,t,n,r,rt);if(s!==rt)return s}let i=ng(e,t,n,r,rt);if(i!==rt)return i}return eg(t,n,r,o)}function ng(e,t,n,r,o){let i=wD(n);if(typeof i=="function"){if(!$p(t,e,r))return r&N.Host?Xp(o,n,r):eg(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&N.Optional))yu(n);else return s}finally{qp()}}else if(typeof i=="number"){let s=null,a=Jp(e,t),c=ir,l=r&N.Host?t[ot][Je]:null;for((a===-1||r&N.SkipSelf)&&(c=a===-1?Au(e,t):t[a+8],c===ir||!Sh(r,!1)?a=-1:(s=t[V],a=Ls(c),t=js(c,t)));a!==-1;){let u=t[V];if(Ih(i,a,u.data)){let d=yD(a,t,n,s,r,l);if(d!==rt)return d}c=t[a+8],c!==ir&&Sh(r,t[V].data[a+8]===l)&&Ih(i,a,t)?(s=u,a=Ls(c),t=js(c,t)):a=-1}}return o}function yD(e,t,n,r,o,i){let s=t[V],a=s.data[e+8],c=r==null?mr(a)&&Vl:r!=s&&(a.type&3)!==0,l=o&N.Host&&i===a,u=_D(a,s,n,c,l);return u!==null?Us(t,s,u,a,o):rt}function _D(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,d=r?a:a+u,h=o?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(o){let f=s[c];if(f&&it(f)&&f.type===n)return c}return null}function Us(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof cn){let a=i;a.resolving&&lp(aw(s[n]));let c=Eh(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Le(a.injectImpl):null,d=$p(e,r,N.Default);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&aD(n,s[n],t)}finally{u!==null&&Le(u),Eh(c),a.resolving=!1,qp()}}return i}function wD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(po)?e[po]:void 0;return typeof t=="number"?t>=0?t&Yp:DD:t}function Ih(e,t,n){let r=1<<e;return!!(n[t+(e>>Qp)]&r)}function Sh(e,t){return!(e&N.Self)&&!(e&N.Host&&t)}var tn=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return tg(this._tNode,this._lView,t,Qs(r),n)}};function DD(){return new tn(Ae(),W())}function _r(e){return bo(()=>{let t=e.prototype.constructor,n=t[Is]||$l(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Is]||$l(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function $l(e){return op(e)?()=>{let t=$l(ve(e));return t&&t()}:sr(e)}function bD(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[x]&2048&&!Ps(s);){let a=ng(i,s,n,r|N.Self,rt);if(a!==rt)return a;let c=i.parent;if(!c){let l=s[bp];if(l){let u=l.get(n,rt,r);if(u!==rt)return u}c=rg(s),s=s[gr]}i=c}return o}function rg(e){let t=e[V],n=t.type;return n===2?t.declTNode:n===1?e[Je]:null}function Mh(e,t=null,n=null,r){let o=og(e,t,n,r);return o.resolveInjectorInitializers(),o}function og(e,t=null,n=null,r,o=new Set){let i=[n||je,Cw(e)];return r=r||(typeof e=="object"?void 0:be(e)),new mo(i,t||bu(),r||null,o)}var $e=class e{static THROW_IF_NOT_FOUND=en;static NULL=new xs;static create(t,n){if(Array.isArray(t))return Mh({name:""},n,t,"");{let r=t.name??"";return Mh({name:r},t.parent,t.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>S(pp)});static __NG_ELEMENT_ID__=-1};var CD=new C("");CD.__NG_ELEMENT_ID__=e=>{let t=Ae();if(t===null)throw new w(204,!1);if(t.type&2)return t.value;if(e&N.Optional)return null;throw new w(204,!1)};var ig=!1,To=(()=>{class e{static __NG_ELEMENT_ID__=ED;static __NG_ENV_ID__=n=>n}return e})(),Bl=class extends To{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return vr(n)?(t(),()=>{}):(Op(n,t),()=>Bw(n,t))}};function ED(){return new Bl(W())}var dr=class{},sg=new C("",{providedIn:"root",factory:()=>!1});var ag=new C(""),cg=new C(""),wr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new fe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})();var Hl=class extends ie{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Dp()&&(this.destroyRef=m(To,{optional:!0})??void 0,this.pendingTasks=m(wr,{optional:!0})??void 0)}emit(t){let n=k(null);try{super.next(t)}finally{k(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof ee&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},se=Hl;function $s(...e){}function lg(e){let t,n;function r(){e=$s;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Th(e){return queueMicrotask(()=>e()),()=>{e=$s}}var Nu="isAngularZone",Bs=Nu+"_ID",ID=0,ne=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new se(!1);onMicrotaskEmpty=new se(!1);onStable=new se(!1);onError=new se(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ig}=t;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,TD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Nu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new w(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,SD,$s,$s);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},SD={};function Ru(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function MD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){lg(()=>{e.callbackScheduled=!1,zl(e),e.isCheckStableRunning=!0,Ru(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zl(e)}function TD(e){let t=()=>{MD(e)},n=ID++;e._inner=e._inner.fork({name:"angular",properties:{[Nu]:!0,[Bs]:n,[Bs+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(xD(c))return r.invokeTask(i,s,a,c);try{return xh(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Ah(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return xh(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!AD(c)&&t(),Ah(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,zl(e),Ru(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function zl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function xh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ah(e){e._nesting--,Ru(e)}var ql=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new se;onMicrotaskEmpty=new se;onStable=new se;onError=new se;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function xD(e){return ug(e,"__ignore_ng_zone__")}function AD(e){return ug(e,"__scheduler_tick__")}function ug(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var ct=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ND=new C("",{providedIn:"root",factory:()=>{let e=m(ne),t=m(ct);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Nh(e,t){return np(e,t)}function RD(e){return np(tp,e)}var dg=(Nh.required=RD,Nh);function OD(){return na(Ae(),W())}function na(e,t){return new Ut(ut(e,t))}var Ut=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=OD}return e})();function kD(e){return typeof e=="function"&&e[Pe]!==void 0}function xo(e,t){let n=Qc(e,t?.equal),r=n[Pe];return n.set=o=>oo(r,o),n.update=o=>Jc(r,o),n.asReadonly=PD.bind(n),n}function PD(){let e=this[Pe];if(e.readonlyFn===void 0){let t=()=>this();t[Pe]=e,e.readonlyFn=t}return e.readonlyFn}function fg(e){return kD(e)&&typeof e.set=="function"}function hg(e){return(e.flags&128)===128}var pg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(pg||{}),gg=new Map,FD=0;function LD(){return FD++}function jD(e){gg.set(e[Xs],e)}function Gl(e){gg.delete(e[Xs])}var Rh="__ngContext__";function Ao(e,t){Lt(t)?(e[Rh]=t[Xs],jD(t)):e[Rh]=t}function mg(e){return yg(e[vo])}function vg(e){return yg(e[Qe])}function yg(e){for(;e!==null&&!Mt(e);)e=e[Qe];return e}var Wl;function _g(e){Wl=e}function VD(){if(Wl!==void 0)return Wl;if(typeof document<"u")return document;throw new w(210,!1)}var Ou=new C("",{providedIn:"root",factory:()=>UD}),UD="ng",ku=new C(""),Dr=new C("",{providedIn:"platform",factory:()=>"unknown"});var Pu=new C("",{providedIn:"root",factory:()=>VD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $D="h",BD="b";var wg=!1,HD=new C("",{providedIn:"root",factory:()=>wg});var Fu=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Fu||{}),br=new C(""),Oh=new Set;function No(e){Oh.has(e)||(Oh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Dg=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=zD}return e})();function zD(){return new Dg(W(),Ae())}var nr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(nr||{}),bg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),qD=[nr.EarlyRead,nr.Write,nr.MixedReadWrite,nr.Read],GD=(()=>{class e{ngZone=m(ne);scheduler=m(dr);errorHandler=m(ct,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(br,{optional:!0})}execute(){let n=this.sequences.size>0;n&&H(16),this.executing=!0;for(let r of qD)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&H(17)}register(n){let{view:r}=n;r!==void 0?((r[or]??=[]).push(n),Eo(r),r[x]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Fu.AFTER_NEXT_RENDER,n):n()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),Zl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[or];t&&(this.view[or]=t.filter(n=>n!==this))}};function Lu(e,t){!t?.injector&&Ow(Lu);let n=t?.injector??m($e);return No("NgAfterNextRender"),ZD(e,n,t,!0)}function WD(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function ZD(e,t,n,r){let o=t.get(bg);o.impl??=t.get(GD);let i=t.get(br,null,{optional:!0}),s=n?.phase??nr.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(To):null,c=t.get(Dg,null,{optional:!0}),l=new Zl(o.impl,WD(e,s),c?.view,r,a,i?.snapshot(null));return o.impl.register(l),l}var KD=(e,t,n,r)=>{};function YD(e,t,n,r){KD(e,t,n,r)}var QD=()=>null;function Cg(e,t,n=!1){return QD(e,t,n)}function Eg(e,t){let n=e.contentQueries;if(n!==null){let r=k(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Up(i),a.contentQueries(2,t[s],s)}}}finally{k(r)}}}function Kl(e,t,n){Up(0);let r=k(null);try{t(e,n)}finally{k(r)}}function Ig(e,t,n){if(Ep(t)){let r=k(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{k(r)}}}var lt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(lt||{});var Yl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${K_})`}};function Sg(e){return e instanceof Yl?e.changingThisBreaksApplicationSecurity:e}function Mg(e){return e instanceof Function?e():e}function JD(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Tg="ng-template";function XD(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&JD(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(ju(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function ju(e){return e.type===4&&e.value!==Tg}function eb(e,t,n){let r=e.type===4&&!n?Tg:e.value;return t===r}function tb(e,t,n){let r=4,o=e.attrs,i=o!==null?ob(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Ye(r)&&!Ye(c))return!1;if(s&&Ye(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!eb(e,c,n)||c===""&&t.length===1){if(Ye(r))return!1;s=!0}}else if(r&8){if(o===null||!XD(e,o,c,n)){if(Ye(r))return!1;s=!0}}else{let l=t[++a],u=nb(c,o,ju(e),n);if(u===-1){if(Ye(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(Ye(r))return!1;s=!0}}}}return Ye(r)||s}function Ye(e){return(e&1)===0}function nb(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return ib(t,e)}function rb(e,t,n=!1){for(let r=0;r<t.length;r++)if(tb(e,t[r],n))return!0;return!1}function ob(e){for(let t=0;t<e.length;t++){let n=e[t];if(fD(n))return t}return e.length}function ib(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function kh(e,t){return e?":not("+t.trim()+")":t}function sb(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Ye(s)&&(t+=kh(i,o),o=""),r=s,i=i||!Ye(r);n++}return o!==""&&(t+=kh(i,o)),t}function ab(e){return e.map(sb).join(",")}function cb(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!Ye(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var hn={};function lb(e,t){return e.createText(t)}function ub(e,t,n){e.setValue(t,n)}function xg(e,t,n){return e.createElement(t,n)}function Hs(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Ag(e,t,n){e.appendChild(t,n)}function Ph(e,t,n,r,o){r!==null?Hs(e,t,n,r,o):Ag(e,t,n)}function db(e,t,n){e.removeChild(null,t,n)}function fb(e,t,n){e.setAttribute(t,"style",n)}function hb(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ng(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&dD(e,t,r),o!==null&&hb(e,t,o),i!==null&&fb(e,t,i)}function Vu(e,t,n,r,o,i,s,a,c,l,u){let d=Et+r,h=d+o,f=pb(d,h),g=typeof l=="function"?l():l;return f[V]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function pb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:hn);return n}function gb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Vu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Uu(e,t,n,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[St]=o,d[x]=r|4|128|8|64|1024,(l!==null||e&&e[x]&2048)&&(d[x]|=2048),Np(d),d[ye]=d[gr]=e,d[Ee]=n,d[jt]=s||e&&e[jt],d[ae]=a||e&&e[ae],d[cr]=c||e&&e[cr]||null,d[Je]=i,d[Xs]=LD(),d[As]=u,d[bp]=l,d[ot]=t.type==2?e[ot]:d,d}function mb(e,t,n){let r=ut(t,e),o=gb(n),i=e[jt].rendererFactory,s=$u(e,Uu(e,o,null,Rg(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Rg(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Og(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function $u(e,t){return e[vo]?e[_h][Qe]=t:e[vo]=t,e[_h]=t,t}function Ie(e=1){kg(xe(),W(),yr()+e,!1)}function kg(e,t,n,r){if(!r)if((t[x]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Ds(t,i,n)}else{let i=e.preOrderHooks;i!==null&&bs(t,i,0,n)}an(n)}var ra=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ra||{});function Ql(e,t,n,r){let o=k(null);try{let[i,s,a]=e.inputs[n],c=null;(s&ra.SignalBased)!==0&&(c=t[i][Pe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Ip(t,c,i,r)}finally{k(o)}}function Pg(e,t,n,r,o){let i=yr(),s=r&2;try{an(-1),s&&t.length>Et&&kg(e,t,Et,!1),H(s?2:0,o),n(r,o)}finally{an(i),H(s?3:1,o)}}function Bu(e,t,n){bb(e,t,n),(n.flags&64)===64&&Cb(e,t,n)}function Fg(e,t,n=ut){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function vb(e,t,n,r){let i=r.get(HD,wg)||n===lt.ShadowDom,s=e.selectRootElement(t,i);return yb(s),s}function yb(e){_b(e)}var _b=()=>null;function wb(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Lg(e,t,n,r,o,i,s,a){if(!a&&Hu(t,e,n,r,o)){mr(t)&&Db(n,t.index);return}if(t.type&3){let c=ut(t,n);r=wb(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)}else t.type&12}function Db(e,t){let n=at(t,e);n[x]&16||(n[x]|=64)}function bb(e,t,n){let r=n.directiveStart,o=n.directiveEnd;mr(n)&&mb(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Vs(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Us(t,e,s,n);if(Ao(c,t),i!==null&&Mb(t,s-r,c,a,n,i),it(a)){let l=at(n.index,t);l[Ee]=Us(t,e,s,n)}}}function Cb(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=nD();try{an(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];jl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Eb(c,l)}}finally{an(-1),jl(s)}}function Eb(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function jg(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];rb(t,i.selectors,!1)&&(r??=[],it(i)?r.unshift(i):r.push(i))}return r}function Ib(e,t,n,r,o,i){let s=ut(e,t);Sb(t[ae],s,i,e.value,n,r,o)}function Sb(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?vu(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function Mb(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Ql(r,n,c,l)}}function Tb(e,t){let n=e[cr],r=n?n.get(ct,null):null;r&&r.handleError(t)}function Hu(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Ql(d,n[l],u,o),a=!0}if(i)for(let c of i){let l=n[c],u=t.data[c];Ql(u,l,r,o),a=!0}return a}function xb(e,t){let n=at(t,e),r=n[V];Ab(r,n);let o=n[St];o!==null&&n[As]===null&&(n[As]=Cg(o,n[cr])),H(18),zu(r,n,n[Ee]),H(19,n[Ee])}function Ab(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function zu(e,t,n){Iu(t);try{let r=e.viewQuery;r!==null&&Kl(1,r,n);let o=e.template;o!==null&&Pg(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ur]?.finishViewCreation(e),e.staticContentQueries&&Eg(e,t),e.staticViewQueries&&Kl(2,e.viewQuery,n);let i=e.components;i!==null&&Nb(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[x]&=-5,Su()}}function Nb(e,t){for(let n=0;n<t.length;n++)xb(e,t[n])}function Rb(e,t,n,r){let o=k(null);try{let i=t.tView,a=e[x]&4096?4096:16,c=Uu(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[lr]=l;let u=e[ur];return u!==null&&(c[ur]=u.createEmbeddedView(i)),zu(i,c,n),c}finally{k(o)}}function Fh(e,t){return!t||t.firstChild===null||hg(e)}var Ob;function qu(e,t){return Ob(e,t)}var Vt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Vt||{});function Vg(e){return(e.flags&32)===32}function rr(e,t,n,r,o){if(r!=null){let i,s=!1;Mt(r)?i=r:Lt(r)&&(s=!0,r=r[St]);let a=st(r);e===0&&n!==null?o==null?Ag(t,n,a):Hs(t,n,a,o||null,!0):e===1&&n!==null?Hs(t,n,a,o||null,!0):e===2?db(t,a,s):e===3&&t.destroyNode(a),i!=null&&qb(t,e,i,n,o)}}function kb(e,t){Ug(e,t),t[St]=null,t[Je]=null}function Pb(e,t,n,r,o,i){r[St]=o,r[Je]=t,oa(e,r,n,1,o,i)}function Ug(e,t){t[jt].changeDetectionScheduler?.notify(9),oa(e,t,t[ae],2,null,null)}function Fb(e){let t=e[vo];if(!t)return Dl(e[V],e);for(;t;){let n=null;if(Lt(t))n=t[vo];else{let r=t[Ue];r&&(n=r)}if(!n){for(;t&&!t[Qe]&&t!==e;)Lt(t)&&Dl(t[V],t),t=t[ye];t===null&&(t=e),Lt(t)&&Dl(t[V],t),n=t&&t[Qe]}t=n}}function Gu(e,t){let n=e[ks],r=n.indexOf(t);n.splice(r,1)}function $g(e,t){if(vr(t))return;let n=t[ae];n.destroyNode&&oa(e,t,n,3,null,null),Fb(t)}function Dl(e,t){if(vr(t))return;let n=k(null);try{t[x]&=-129,t[x]|=256,t[Ve]&&Zc(t[Ve]),jb(e,t),Lb(e,t),t[V].type===1&&t[ae].destroy();let r=t[lr];if(r!==null&&Mt(t[ye])){r!==t[ye]&&Gu(r,t);let o=t[ur];o!==null&&o.detachView(e)}Gl(t)}finally{k(n)}}function Lb(e,t){let n=e.cleanup,r=t[Ns];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Ns]=null);let o=t[Ft];if(o!==null){t[Ft]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Rs];if(i!==null){t[Rs]=null;for(let s of i)s.destroy()}}function jb(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof cn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];H(4,a,c);try{c.call(a)}finally{H(5,a,c)}}else{H(4,o,i);try{i.call(o)}finally{H(5,o,i)}}}}}function Vb(e,t,n){return Ub(e,t.parent,n)}function Ub(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[St];if(mr(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===lt.None||o===lt.Emulated)return null}return ut(r,n)}function $b(e,t,n){return Hb(e,t,n)}function Bb(e,t,n){return e.type&40?ut(e,n):null}var Hb=Bb,Lh;function Wu(e,t,n,r){let o=Vb(e,r,t),i=t[ae],s=r.parent||t[Je],a=$b(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ph(i,o,n[c],a,!1);else Ph(i,o,n,a,!1);Lh!==void 0&&Lh(i,r,t,n,o)}function ho(e,t){if(t!==null){let n=t.type;if(n&3)return ut(t,e);if(n&4)return Jl(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return ho(e,r);{let o=e[t.index];return Mt(o)?Jl(-1,o):st(o)}}else{if(n&128)return ho(e,t.next);if(n&32)return qu(t,e)()||st(e[t.index]);{let r=Bg(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=sn(e[ot]);return ho(o,r)}else return ho(e,t.next)}}}return null}function Bg(e,t){if(t!==null){let r=e[ot][Je],o=t.projection;return r.projection[o]}return null}function Jl(e,t){let n=Ue+e+1;if(n<t.length){let r=t[n],o=r[V].firstChild;if(o!==null)return ho(r,o)}return t[on]}function Zu(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Ao(st(a),r),n.flags|=2),!Vg(n))if(c&8)Zu(e,t,n.child,r,o,i,!1),rr(t,e,o,a,i);else if(c&32){let l=qu(n,r),u;for(;u=l();)rr(t,e,o,u,i);rr(t,e,o,a,i)}else c&16?zb(e,t,r,n,o,i):rr(t,e,o,a,i);n=s?n.projectionNext:n.next}}function oa(e,t,n,r,o,i){Zu(n,r,e.firstChild,t,o,i,!1)}function zb(e,t,n,r,o,i){let s=n[ot],c=s[Je].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];rr(t,e,o,u,i)}else{let l=c,u=s[ye];hg(r)&&(l.flags|=128),Zu(e,t,l,u,o,i,!0)}}function qb(e,t,n,r,o){let i=n[on],s=st(n);i!==s&&rr(t,e,r,i,o);for(let a=Ue;a<n.length;a++){let c=n[a];oa(c[V],c,e,t,r,i)}}function Gb(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Vt.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Vt.Important),e.setStyle(n,r,o,i))}}function zs(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(st(i)),Mt(i)&&Wb(i,r);let s=n.type;if(s&8)zs(e,t,n.child,r);else if(s&32){let a=qu(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Bg(t,n);if(Array.isArray(a))r.push(...a);else{let c=sn(t[ot]);zs(c[V],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Wb(e,t){for(let n=Ue;n<e.length;n++){let r=e[n],o=r[V].firstChild;o!==null&&zs(r[V],r,o,t)}e[on]!==e[St]&&t.push(e[on])}function Hg(e){if(e[or]!==null){for(let t of e[or])t.impl.addSequence(t);e[or].length=0}}var zg=[];function Zb(e){return e[Ve]??Kb(e)}function Kb(e){let t=zg.pop()??Object.create(Qb);return t.lView=e,t}function Yb(e){e.lView[Ve]!==e&&(e.lView=null,zg.push(e))}var Qb=F(y({},no),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Eo(e.lView)},consumerOnSignalRead(){this.lView[Ve]=this}});function Jb(e){let t=e[Ve]??Object.create(Xb);return t.lView=e,t}var Xb=F(y({},no),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=sn(e.lView);for(;t&&!qg(t[V]);)t=sn(t);t&&Rp(t)},consumerOnSignalRead(){this.lView[Ve]=this}});function qg(e){return e.type!==2}function Gg(e){if(e[Rs]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Rs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[x]&8192)}}var eC=100;function Wg(e,t=!0,n=0){let o=e[jt].rendererFactory,i=!1;i||o.begin?.();try{tC(e,n)}catch(s){throw t&&Tb(e,s),s}finally{i||o.end?.()}}function tC(e,t){let n=Vp();try{Dh(!0),Xl(e,t);let r=0;for(;ea(e);){if(r===eC)throw new w(103,!1);r++,Xl(e,1)}}finally{Dh(n)}}function nC(e,t,n,r){if(vr(t))return;let o=t[x],i=!1,s=!1;Iu(t);let a=!0,c=null,l=null;i||(qg(e)?(l=Zb(t),c=zi(l)):Bc()===null?(a=!1,l=Jb(t),c=zi(l)):t[Ve]&&(Zc(t[Ve]),t[Ve]=null));try{Np(t),Jw(e.bindingStartIndex),n!==null&&Pg(e,t,n,2,r);let u=(o&3)===3;if(!i)if(u){let f=e.preOrderCheckHooks;f!==null&&Ds(t,f,null)}else{let f=e.preOrderHooks;f!==null&&bs(t,f,0,null),_l(t,0)}if(s||rC(t),Gg(t),Zg(t,0),e.contentQueries!==null&&Eg(e,t),!i)if(u){let f=e.contentCheckHooks;f!==null&&Ds(t,f)}else{let f=e.contentHooks;f!==null&&bs(t,f,1),_l(t,1)}iC(e,t);let d=e.components;d!==null&&Yg(t,d,0);let h=e.viewQuery;if(h!==null&&Kl(2,h,r),!i)if(u){let f=e.viewCheckHooks;f!==null&&Ds(t,f)}else{let f=e.viewHooks;f!==null&&bs(t,f,2),_l(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[yl]){for(let f of t[yl])f();t[yl]=null}i||(Hg(t),t[x]&=-73)}catch(u){throw i||Eo(t),u}finally{l!==null&&(Gc(l,c),a&&Yb(l)),Su()}}function Zg(e,t){for(let n=mg(e);n!==null;n=vg(n))for(let r=Ue;r<n.length;r++){let o=n[r];Kg(o,t)}}function rC(e){for(let t=mg(e);t!==null;t=vg(t)){if(!(t[x]&2))continue;let n=t[ks];for(let r=0;r<n.length;r++){let o=n[r];Rp(o)}}}function oC(e,t,n){H(18);let r=at(t,e);Kg(r,n),H(19,r[Ee])}function Kg(e,t){Eu(e)&&Xl(e,t)}function Xl(e,t){let r=e[V],o=e[x],i=e[Ve],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Wc(i)),s||=!1,i&&(i.dirty=!1),e[x]&=-9217,s)nC(r,e,r.template,e[Ee]);else if(o&8192){Gg(e),Zg(e,1);let a=r.components;a!==null&&Yg(e,a,1),Hg(e)}}function Yg(e,t,n){for(let r=0;r<t.length;r++)oC(e,t[r],n)}function iC(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)an(~o);else{let i=o,s=n[++r],a=n[++r];tD(s,i);let c=t[i];H(24,c),a(2,c),H(25,c)}}}finally{an(-1)}}function Ku(e,t){let n=Vp()?64:1088;for(e[jt].changeDetectionScheduler?.notify(t);e;){e[x]|=n;let r=sn(e);if(Ps(e)&&!r)return e;e=r}return null}function Qg(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function sC(e,t,n,r=!0){let o=t[V];if(aC(o,t,e,n),r){let s=Jl(n,e),a=t[ae],c=a.parentNode(e[on]);c!==null&&Pb(o,e[Je],a,t,c,s)}let i=t[As];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function eu(e,t){if(e.length<=Ue)return;let n=Ue+t,r=e[n];if(r){let o=r[lr];o!==null&&o!==e&&Gu(o,r),t>0&&(e[n-1][Qe]=r[Qe]);let i=Ts(e,Ue+t);kb(r[V],r);let s=i[ur];s!==null&&s.detachView(i[V]),r[ye]=null,r[Qe]=null,r[x]&=-129}return r}function aC(e,t,n,r){let o=Ue+r,i=n.length;r>0&&(n[o-1][Qe]=t),r<i-Ue?(t[Qe]=n[o],hp(n,Ue+r,t)):(n.push(t),t[Qe]=null),t[ye]=n;let s=t[lr];s!==null&&n!==s&&Jg(s,t);let a=t[ur];a!==null&&a.insertView(e),Fl(t),t[x]|=128}function Jg(e,t){let n=e[ks],r=t[ye];if(Lt(r))e[x]|=2;else{let o=r[ye][ot];t[ot]!==o&&(e[x]|=2)}n===null?e[ks]=[t]:n.push(t)}var _o=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[V];return zs(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ee]}set context(t){this._lView[Ee]=t}get destroyed(){return vr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ye];if(Mt(t)){let n=t[Os],r=n?n.indexOf(this):-1;r>-1&&(eu(t,r),Ts(n,r))}this._attachedToViewContainer=!1}$g(this._lView[V],this._lView)}onDestroy(t){Op(this._lView,t)}markForCheck(){Ku(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){Fl(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,Wg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ps(this._lView),n=this._lView[lr];n!==null&&!t&&Gu(n,this._lView),Ug(this._lView[V],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t;let n=Ps(this._lView),r=this._lView[lr];r!==null&&!n&&Jg(r,this._lView),Fl(this._lView)}};var Yu=(()=>{class e{static __NG_ELEMENT_ID__=uC}return e})(),cC=Yu,lC=class extends cC{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=Rb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new _o(o)}};function uC(){return dC(Ae(),W())}function dC(e,t){return e.type&4?new lC(t,e,na(e,t)):null}function Qu(e,t,n,r,o){let i=e.data[t];if(i===null)i=fC(e,t,n,r,o),eD()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Kw();i.injectorIndex=s===null?-1:s.injectorIndex}return Mo(i,!0),i}function fC(e,t,n,r,o){let i=Lp(),s=jp(),a=s?i:i&&i.parent,c=e.data[t]=pC(e,a,n,t,r,o);return hC(e,c,i,s),c}function hC(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function pC(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Gw()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var GO=new RegExp(`^(\\d+)*(${BD}|${$D})*(.*)`);var gC=()=>null;function jh(e,t){return gC(e,t)}var mC=class{},Xg=class{},tu=class{resolveComponentFactory(t){throw Error(`No component factory found for ${be(t)}.`)}},ia=class{static NULL=new tu},fr=class{},pn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>vC()}return e})();function vC(){let e=W(),t=Ae(),n=at(t.index,e);return(Lt(n)?n:e)[ae]}var yC=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var bl={},nu=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Qs(r);let o=this.injector.get(t,bl,r);return o!==bl||n===bl?o:this.parentInjector.get(t,n,r)}};function Vh(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=fh(o,a);else if(i==2){let c=a,l=t[++s];r=fh(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function U(e,t=N.Default){let n=W();if(n===null)return S(e,t);let r=Ae();return tg(r,n,ve(e),t)}function em(){let e="invalid";throw new Error(e)}function tm(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a,c=null,l=null,u=wC(s);u===null?a=s:[a,c,l]=u,CC(e,t,n,a,i,c,l)}i!==null&&r!==null&&_C(n,r,i)}function _C(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new w(-301,!1);r.push(t[o],i)}}function wC(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&it(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,DC(s,r,i,o)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,o,i]):null}function DC(e,t,n,r){let o=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[o,t.length-1])}function bC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function CC(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&it(f)&&(c=!0,bC(e,n,h)),Ul(Vs(n,t),e,f.type)}xC(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Og(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=yo(n.mergedAttrs,f.hostAttrs),IC(e,n,t,d,f),TC(d,f,o),s!==null&&s.has(f)){let[v,_]=s.get(f);n.directiveToIndex.set(f.type,[d,v+n.directiveStart,_+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}EC(e,n,i)}function EC(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Uh(0,t,o,r),Uh(1,t,o,r),Bh(t,r,!1);else{let i=n.get(o);$h(0,t,i,r),$h(1,t,i,r),Bh(t,r,!0)}}}function Uh(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),nm(t,i)}}function $h(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),nm(t,s)}}function nm(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Bh(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||ju(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function IC(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=sr(o.type,!0)),s=new cn(i,it(o),U);e.blueprint[r]=s,n[r]=s,SC(e,t,r,Og(e,n,o.hostVars,hn),o)}function SC(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;MC(s)!=a&&s.push(a),s.push(n,r,i)}}function MC(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function TC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;it(t)&&(n[""]=e)}}function xC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function rm(e,t,n,r,o,i,s,a){let c=t.consts,l=Fs(c,s),u=Qu(t,e,2,r,l);return i&&tm(t,n,u,Fs(c,a),o),u.mergedAttrs=yo(u.mergedAttrs,u.attrs),u.attrs!==null&&Vh(u,u.attrs,!1),u.mergedAttrs!==null&&Vh(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function om(e,t){Wp(e,t),Ep(t)&&e.queries.elementEnd(t)}var qs=class extends ia{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=rn(t);return new hr(n,this.ngModule)}};function AC(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&ra.SignalBased)!==0};return o&&(i.transform=o),i})}function NC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function RC(e,t,n){let r=t instanceof Ce?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new nu(n,r):n}function OC(e){let t=e.get(fr,null);if(t===null)throw new w(407,!1);let n=e.get(yC,null),r=e.get(dr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function kC(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return xg(t,n,n==="svg"?jw:n==="math"?Vw:null)}var hr=class extends Xg{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=AC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=NC(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=ab(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o){H(22);let i=k(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:cb(this.componentDef.selectors[0]),c=Vu(0,null,null,1,0,null,null,null,null,[a],null),l=RC(s,o||this.ngModule,t),u=OC(l),d=u.rendererFactory.createRenderer(null,s),h=r?vb(d,r,s.encapsulation,l):kC(s,d),f=Uu(null,c,null,512|Rg(s),null,null,u,d,l,null,Cg(h,l,!0));f[Et]=h,Iu(f);let g=null;try{let v=rm(Et,c,f,"#host",()=>[this.componentDef],!0,0);h&&(Ng(d,h,v),Ao(h,f)),Bu(c,f,v),Ig(c,v,f),om(c,v),n!==void 0&&PC(v,this.ngContentSelectors,n),g=at(v.index,f),f[Ee]=g[Ee],zu(c,f,null)}catch(v){throw g!==null&&Gl(g),Gl(f),v}finally{H(23),Su()}return new ru(this.componentType,f)}finally{k(i)}}},ru=class extends mC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=Ap(n[V],Et),this.location=na(this._tNode,n),this.instance=at(this._tNode.index,n)[Ee],this.hostView=this.changeDetectorRef=new _o(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Hu(r,o[V],o,t,n);this.previousInputValues.set(t,n);let s=at(r.index,o);Ku(s,1)}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function PC(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Ro=(()=>{class e{static __NG_ELEMENT_ID__=FC}return e})();function FC(){let e=Ae();return jC(e,W())}var LC=Ro,im=class extends LC{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){let t=Au(this._hostTNode,this._hostLView);if(Kp(t)){let n=js(t,this._hostLView),r=Ls(t),o=n[V].data[r+8];return new tn(o,n)}else return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Hh(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=jh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Fh(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!kw(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?t:new hr(rn(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let v=(s?l:this.parentInjector).get(Ce,null);v&&(i=v)}let u=rn(c.componentType??{}),d=jh(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,o,h,i);return this.insertImpl(f.hostView,a,Fh(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Uw(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[ye],l=new im(c,c[Je],c[ye]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return sC(s,o,i,r),t.attachToViewContainerRef(),hp(Cl(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Hh(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=eu(this._lContainer,n);r&&(Ts(Cl(this._lContainer),n),$g(r[V],r))}detach(t){let n=this._adjustIndex(t,-1),r=eu(this._lContainer,n);return r&&Ts(Cl(this._lContainer),n)!=null?new _o(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Hh(e){return e[Os]}function Cl(e){return e[Os]||(e[Os]=[])}function jC(e,t){let n,r=t[e.index];return Mt(r)?n=r:(n=Qg(r,t,null,e),t[e.index]=n,$u(t,n)),UC(n,t,e,r),new im(n,e,t)}function VC(e,t){let n=e[ae],r=n.createComment(""),o=ut(t,e),i=n.parentNode(o);return Hs(n,i,r,n.nextSibling(o),!1),r}var UC=HC,$C=()=>!1;function BC(e,t,n){return $C(e,t,n)}function HC(e,t,n,r){if(e[on])return;let o;n.type&8?o=st(r):o=VC(t,n),e[on]=o}var wo=class{},Ju=class{};var ou=class extends wo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qs(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=mp(t);this._bootstrapComponents=Mg(i.bootstrap),this._r3Injector=og(t,n,[{provide:wo,useValue:this},{provide:ia,useValue:this.componentFactoryResolver},...r],be(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},iu=class extends Ju{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ou(this.moduleType,t,[])}};var Gs=class extends wo{injector;componentFactoryResolver=new qs(this);instance=null;constructor(t){super();let n=new mo([...t.providers,{provide:wo,useValue:this},{provide:ia,useValue:this.componentFactoryResolver}],t.parent||bu(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Oo(e,t,n=null){return new Gs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var zC=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=vp(!1,n.type),o=r.length>0?Oo([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(S(Ce))})}return e})();function $t(e){return bo(()=>{let t=sm(e),n=F(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===pg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(zC).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||lt.Emulated,styles:e.styles||je,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&No("NgStandalone"),am(n);let r=e.dependencies;return n.directiveDefs=zh(r,!1),n.pipeDefs=zh(r,!0),n.id=KC(n),n})}function qC(e){return rn(e)||Dw(e)}function GC(e){return e!==null}function Tt(e){return bo(()=>({type:e.type,bootstrap:e.bootstrap||je,declarations:e.declarations||je,imports:e.imports||je,exports:e.exports||je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function WC(e,t){if(e==null)return nn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=ra.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function ZC(e){if(e==null)return nn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function pe(e){return bo(()=>{let t=sm(e);return am(t),t})}function sm(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||nn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||je,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WC(e.inputs,t),outputs:ZC(e.outputs),debugInfo:null}}function am(e){e.features?.forEach(t=>t(e))}function zh(e,t){if(!e)return null;let n=t?bw:qC;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(GC)}function KC(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function YC(e){return Object.getPrototypeOf(e.prototype).constructor}function xt(e){let t=YC(e.type),n=!0,r=[e];for(;t;){let o;if(it(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=El(e.inputs),s.declaredInputs=El(e.declaredInputs),s.outputs=El(e.outputs);let a=o.hostBindings;a&&tE(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&XC(e,c),l&&eE(e,l),QC(e,o),X_(e.outputs,o.outputs),it(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===xt&&(n=!1)}}t=Object.getPrototypeOf(t)}JC(r)}function QC(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function JC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=yo(o.hostAttrs,n=yo(n,o.hostAttrs))}}function El(e){return e===nn?{}:e===je?[]:e}function XC(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function eE(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function tE(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function cm(e){return rE(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function nE(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function rE(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function oE(e,t,n){return e[t]=n}function Cr(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function iE(e,t,n,r,o,i,s,a,c){let l=t.consts,u=Qu(t,e,4,s||null,a||null);Fp()&&tm(t,n,u,Fs(l,c),jg),u.mergedAttrs=yo(u.mergedAttrs,u.attrs),Wp(t,u);let d=u.tView=Vu(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function sE(e,t,n,r,o,i,s,a,c,l){let u=n+Et,d=t.firstCreatePass?iE(u,t,e,r,o,i,s,a,c):t.data[u];Mo(d,!1);let h=aE(t,e,d,n);Tu()&&Wu(t,e,h,d),Ao(h,e);let f=Qg(h,e,h,d);return e[u]=f,$u(e,f),BC(f,d,e),Cu(d)&&Bu(t,e,d),c!=null&&Fg(e,d,l),d}function Xu(e,t,n,r,o,i,s,a){let c=W(),l=xe(),u=Fs(l.consts,i);return sE(c,l,e,t,n,r,o,u,s,a),Xu}var aE=cE;function cE(e,t,n,r){return xu(!0),t[ae].createComment("")}var lm=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var um=new C("");var lE=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new su})}return e})(),su=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Er(e){return!!e&&typeof e.then=="function"}function uE(e){return!!e&&typeof e.subscribe=="function"}var dm=new C("");function ed(e){return wu([{provide:dm,multi:!0,useValue:e}])}var fm=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=m(dm,{optional:!0})??[];injector=m($e);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Be(this.injector,o);if(Er(i))n.push(i);else if(uE(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sa=new C("");function dE(){Yc(()=>{throw new w(600,!1)})}function fE(e){return e.isBoundToModule}var hE=10;var ln=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(ND);afterRenderManager=m(bg);zonelessEnabled=m(sg);rootEffectScheduler=m(lE);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ie;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(wr).hasPendingTasks.pipe(L(n=>!n));constructor(){m(br,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=m(Ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=$e.NULL){H(10);let i=n instanceof Xg;if(!this._injector.get(fm).done){let f="";throw new w(405,f)}let a;i?a=n:a=this._injector.get(ia).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=fE(a)?void 0:this._injector.get(wo),l=r||a.selector,u=a.create(o,[],l,c),d=u.location.nativeElement,h=u.injector.get(um,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Cs(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),H(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){H(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Fu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let n=k(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(n),this.afterTick.next(),H(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<hE;)H(14),this.synchronizeOnce(),H(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)pE(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ea(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Cs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(sa,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function pE(e,t,n,r){if(!n&&!ea(e))return;Wg(e,t,n&&!r?0:1)}function aa(e,t,n,r){let o=W(),i=ta();if(Cr(o,i,t)){let s=xe(),a=Mu();Ib(a,o,e,t,n,r)}return aa}function gE(e,t,n,r){return Cr(e,ta(),n)?t+vu(n)+r:hn}function _s(e,t){return e<<17|t<<2}function un(e){return e>>17&32767}function mE(e){return(e&2)==2}function vE(e,t){return e&131071|t<<17}function au(e){return e|2}function pr(e){return(e&131068)>>2}function Il(e,t){return e&-131069|t<<2}function yE(e){return(e&1)===1}function cu(e){return e|1}function _E(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=un(s),c=pr(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Co(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let h=un(e[a+1]);e[r+1]=_s(h,a),h!==0&&(e[h+1]=Il(e[h+1],r)),e[a+1]=vE(e[a+1],r)}else e[r+1]=_s(a,0),a!==0&&(e[a+1]=Il(e[a+1],r)),a=r;else e[r+1]=_s(c,0),a===0?a=r:e[c+1]=Il(e[c+1],r),c=r;l&&(e[r+1]=au(e[r+1])),qh(e,u,r,!0),qh(e,u,r,!1),wE(t,u,e,r,i),s=_s(a,c),i?t.classBindings=s:t.styleBindings=s}function wE(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Co(i,t)>=0&&(n[r+1]=cu(n[r+1]))}function qh(e,t,n,r){let o=e[n+1],i=t===null,s=r?un(o):pr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];DE(c,t)&&(a=!0,e[s+1]=r?cu(l):au(l)),s=r?un(l):pr(l)}a&&(e[n+1]=r?au(o):cu(o))}function DE(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Co(e,t)>=0:!1}function ca(e,t,n){let r=W(),o=ta();if(Cr(r,o,t)){let i=xe(),s=Mu();Lg(i,s,r,e,t,r[ae],n,!1)}return ca}function Gh(e,t,n,r,o){Hu(t,e,n,o?"class":"style",r)}function la(e,t){return bE(e,t,null,!0),la}function bE(e,t,n,r){let o=W(),i=xe(),s=Xw(2);if(i.firstUpdatePass&&EE(i,e,s,r),t!==hn&&Cr(o,s,t)){let a=i.data[yr()];xE(i,a,o,o[ae],e,o[s+1]=AE(t,n),r,s)}}function CE(e,t){return t>=e.expandoStartIndex}function EE(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[yr()],s=CE(e,n);NE(i,r)&&t===null&&!s&&(t=!1),t=IE(o,i,t,r),_E(o,i,t,n,s,r)}}function IE(e,t,n,r){let o=rD(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Sl(null,e,t,n,r),n=Do(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Sl(o,e,t,n,r),i===null){let c=SE(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Sl(null,e,t,c[1],r),c=Do(c,t.attrs,r),ME(e,t,r,c))}else i=TE(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function SE(e,t,n){let r=n?t.classBindings:t.styleBindings;if(pr(r)!==0)return e[un(r)]}function ME(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[un(o)]=r}function TE(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Do(r,s,n)}return Do(r,t.attrs,n)}function Sl(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Do(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Do(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),_w(e,s,n?!0:t[++i]))}return e===void 0?null:e}function xE(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=yE(l)?Wh(c,t,n,o,pr(l),s):void 0;if(!Ws(u)){Ws(i)||mE(l)&&(i=Wh(c,null,n,o,a,s));let d=xp(yr(),n);Gb(r,s,d,o,i)}}function Wh(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[o+1];h===hn&&(h=d?je:void 0);let f=d?ml(h,r):u===r?h:void 0;if(l&&!Ws(f)&&(f=ml(c,r)),Ws(f)&&(a=f,s))return a;let g=e[o+1];o=s?un(g):pr(g)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=ml(c,r))}return a}function Ws(e){return e!==void 0}function AE(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=be(Sg(e)))),e}function NE(e,t){return(e.flags&(t?8:16))!==0}function re(e,t,n,r){let o=W(),i=xe(),s=Et+e,a=o[ae],c=i.firstCreatePass?rm(s,i,o,t,jg,Fp(),n,r):i.data[s],l=RE(i,o,c,a,t,e);o[s]=l;let u=Cu(c);return Mo(c,!0),Ng(a,l,c),!Vg(c)&&Tu()&&Wu(i,o,l,c),(Hw()===0||u)&&Ao(l,o),zw(),u&&(Bu(i,o,c),Ig(i,c,o)),r!==null&&Fg(o,c),re}function ue(){let e=Ae();jp()?Yw():(e=e.parent,Mo(e,!1));let t=e;Ww(t)&&Zw(),qw();let n=xe();return n.firstCreatePass&&om(n,t),t.classesWithoutHost!=null&&lD(t)&&Gh(n,t,W(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&uD(t)&&Gh(n,t,W(),t.stylesWithoutHost,!1),ue}function ko(e,t,n,r){return re(e,t,n,r),ue(),ko}var RE=(e,t,n,r,o,i)=>(xu(!0),xg(r,o,sD()));function hm(){return W()}var Zs="en-US";var OE=Zs;function kE(e){typeof e=="string"&&(OE=e.toLowerCase().replace(/_/g,"-"))}function Zh(e,t,n){return function r(o){if(o===Function)return n;let i=mr(e)?at(e.index,t):t;Ku(i,5);let s=t[Ee],a=Kh(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Kh(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Kh(e,t,n,r){let o=k(null);try{return H(6,t,n),n(r)!==!1}catch(i){return PE(e,i),!1}finally{H(7,t,n),k(o)}}function PE(e,t){let n=e[cr],r=n?n.get(ct,null):null;r&&r.handleError(t)}function Yh(e,t,n,r,o,i){let s=t[n],a=t[V],l=a.data[n].outputs[r],u=s[l],d=a.firstCreatePass?Pp(a):null,h=kp(t),f=u.subscribe(i),g=h.length;h.push(i,f),d&&d.push(o,e.index,g,-(g+1))}function Xe(e,t,n,r){let o=W(),i=xe(),s=Ae();return pm(i,o,o[ae],s,e,t,r),Xe}function FE(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Ns],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function pm(e,t,n,r,o,i,s){let a=Cu(r),l=e.firstCreatePass?Pp(e):null,u=kp(t),d=!0;if(r.type&3||s){let h=ut(r,t),f=s?s(h):h,g=u.length,v=s?b=>s(st(b[r.index])):r.index,_=null;if(!s&&a&&(_=FE(e,t,o,r.index)),_!==null){let b=_.__ngLastListenerFn__||_;b.__ngNextListenerFn__=i,_.__ngLastListenerFn__=i,d=!1}else{i=Zh(r,t,i),YD(t,f,o,i);let b=n.listen(f,o,i);u.push(i,b),l&&l.push(o,v,g,g+1)}}else i=Zh(r,t,i);if(d){let h=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let g=0;g<f.length;g+=2){let v=f[g],_=f[g+1];Yh(r,t,v,_,o,i)}if(h&&h.length)for(let g of h)Yh(r,t,g,o,o,i)}}function ua(e=1){return iD(e)}function Ne(e,t=""){let n=W(),r=xe(),o=e+Et,i=r.firstCreatePass?Qu(r,o,1,t,null):r.data[o],s=LE(r,n,i,t,e);n[o]=s,Tu()&&Wu(r,n,s,i),Mo(i,!1)}var LE=(e,t,n,r,o)=>(xu(!0),lb(t[ae],r));function gn(e){return mn("",e,""),gn}function mn(e,t,n){let r=W(),o=gE(r,e,t,n);return o!==hn&&jE(r,yr(),o),mn}function jE(e,t,n){let r=xp(t,e);ub(e[ae],r,n)}function vn(e,t,n){fg(t)&&(t=t());let r=W(),o=ta();if(Cr(r,o,t)){let i=xe(),s=Mu();Lg(i,s,r,e,t,r[ae],n,!1)}return vn}function Ir(e,t){let n=fg(e);return n&&e.set(t),n}function yn(e,t){let n=W(),r=xe(),o=Ae();return pm(r,n,n[ae],o,e,t),yn}function VE(e,t,n){let r=xe();if(r.firstCreatePass){let o=it(e);lu(n,r.data,r.blueprint,o,!0),lu(t,r.data,r.blueprint,o,!1)}}function lu(e,t,n,r,o){if(e=ve(e),Array.isArray(e))for(let i=0;i<e.length;i++)lu(e[i],t,n,r,o);else{let i=xe(),s=W(),a=Ae(),c=ar(e)?e:ve(e.provide),l=wp(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ar(e)||!e.multi){let f=new cn(l,o,U),g=Tl(c,t,o?u:u+h,d);g===-1?(Ul(Vs(a,s),i,c),Ml(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Tl(c,t,u+h,d),g=Tl(c,t,u,u+h),v=f>=0&&n[f],_=g>=0&&n[g];if(o&&!_||!o&&!v){Ul(Vs(a,s),i,c);let b=BE(o?$E:UE,n.length,o,r,l);!o&&_&&(n[g].providerFactory=b),Ml(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=gm(n[o?g:f],l,!o&&r);Ml(i,e,f>-1?f:g,b)}!o&&r&&_&&n[g].componentProviders++}}}function Ml(e,t,n,r){let o=ar(t),i=Mw(t);if(o||i){let c=(i?ve(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function gm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Tl(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function UE(e,t,n,r,o){return uu(this.multi,[])}function $E(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Us(r,r[V],this.providerFactory.index,o);s=c.slice(0,a),uu(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],uu(i,s);return s}function uu(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function BE(e,t,n,r,o){let i=new cn(e,n,U);return i.multi=[],i.index=t,i.componentProviders=0,gm(i,o,r&&!n),i}function Po(e,t=[]){return n=>{n.providersResolver=(r,o)=>VE(r,o?o(e):e,t)}}function mm(e,t,n,r){return zE(W(),Qw(),e,t,n,r)}function HE(e,t){let n=e[t];return n===hn?void 0:n}function zE(e,t,n,r,o,i){let s=t+n;return Cr(e,s,o)?oE(e,s+1,i?r.call(i,o):r(o)):HE(e,s+1)}var du=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},vm=(()=>{class e{compileModuleSync(n){return new iu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=mp(n),i=Mg(o.declarations).reduce((s,a)=>{let c=rn(a);return c&&s.push(new hr(c)),s},[]);return new du(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var qE=(()=>{class e{zone=m(ne);changeDetectionScheduler=m(dr);applicationRef=m(ln);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function GE({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ne(F(y({},WE()),{scheduleInRootZone:n})),[{provide:ne,useFactory:e},{provide:go,multi:!0,useFactory:()=>{let r=m(qE,{optional:!0});return()=>r.initialize()}},{provide:go,multi:!0,useFactory:()=>{let r=m(ZE);return()=>{r.initialize()}}},t===!0?{provide:ag,useValue:!0}:[],{provide:cg,useValue:n??ig}]}function WE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var ZE=(()=>{class e{subscription=new ee;initialized=!1;zone=m(ne);pendingTasks=m(wr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var KE=(()=>{class e{appRef=m(ln);taskService=m(wr);ngZone=m(ne);zonelessEnabled=m(sg);tracing=m(br,{optional:!0});disableScheduling=m(ag,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ee;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bs):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(cg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ql||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Th:lg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Th(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function YE(){return typeof $localize<"u"&&$localize.locale||Zs}var ym=new C("",{providedIn:"root",factory:()=>m(ym,N.Optional|N.SkipSelf)||YE()});var fu=new C(""),QE=new C("");function uo(e){return!e.moduleRef}function JE(e){let t=uo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ne);return n.run(()=>{uo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ct,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),uo(e)){let i=()=>t.destroy(),s=e.platformInjector.get(fu);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(fu);s.add(i),e.moduleRef.onDestroy(()=>{Cs(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return eI(r,n,()=>{let i=t.get(fm);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(ym,Zs);if(kE(s||Zs),!t.get(QE,!0))return uo(e)?t.get(ln):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(uo(e)){let c=t.get(ln);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return XE(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function XE(e,t){let n=e.injector.get(ln);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new w(-403,!1);t.push(e)}function eI(e,t,n){try{let r=n();return Er(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Es=null;function tI(e=[],t){return $e.create({name:t,providers:[{provide:Js,useValue:"platform"},{provide:fu,useValue:new Set([()=>Es=null])},...e]})}function nI(e=[]){if(Es)return Es;let t=tI(e);return Es=t,dE(),rI(t),t}function rI(e){let t=e.get(ku,null);Be(e,()=>{t?.forEach(n=>n())})}var _n=(()=>{class e{static __NG_ELEMENT_ID__=oI}return e})();function oI(e){return iI(Ae(),W(),(e&16)===16)}function iI(e,t,n){if(mr(e)&&!n){let r=at(e.index,t);return new _o(r,r)}else if(e.type&175){let r=t[ot];return new _o(r,t)}return null}var hu=class{constructor(){}supports(t){return cm(t)}create(t){return new pu(t)}},sI=(e,t)=>t,pu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||sI}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Qh(r,o,i)?n:r,a=Qh(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let h=0;h<l;h++){let f=h<i.length?i[h]:i[h]=0,g=f+h;u<=g&&g<l&&(i[h]=f+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!cm(t))throw new w(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,nE(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new gu(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ks),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ks),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},gu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},mu=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ks=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new mu,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Qh(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function Jh(){return new td([new hu])}var td=(()=>{class e{factories;static \u0275prov=D({token:e,providedIn:"root",factory:Jh});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Jh()),deps:[[e,new vw,new mw]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new w(901,!1)}}return e})();function _m(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;H(8);try{let i=o?.injector??nI(r),s=[GE({}),{provide:dr,useExisting:KE},...n||[]],a=new Gs({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return JE({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{H(9)}}function Fo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Bt(e){return Xc(e)}function Lo(e,t){return Kc(e,t?.equal)}var Xh=class{[Pe];constructor(t){this[Pe]=t}destroy(){this[Pe].destroy()}};function wm(e){let t=rn(e);if(!t)return null;let n=new hr(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var de=new C("");var Cm=null;function ze(){return Cm}function nd(e){Cm??=e}var jo=class{},Vo=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(Em),providedIn:"platform"})}return e})(),rd=new C(""),Em=(()=>{class e extends Vo{_location;_history;_doc=m(de);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ze().getBaseHref(this._doc)}onPopState(n){let r=ze().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ze().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function da(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Dm(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function et(e){return e&&e[0]!=="?"?`?${e}`:e}var dt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(ha),providedIn:"root"})}return e})(),fa=new C(""),ha=(()=>{class e extends dt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return da(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+et(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+et(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+et(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(S(Vo),S(fa,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ht=(()=>{class e{_subject=new ie;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=lI(Dm(bm(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+et(r))}normalize(n){return e.stripTrailingSlash(cI(this._basePath,bm(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+et(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+et(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=et;static joinWithSlash=da;static stripTrailingSlash=Dm;static \u0275fac=function(r){return new(r||e)(S(dt))};static \u0275prov=D({token:e,factory:()=>aI(),providedIn:"root"})}return e})();function aI(){return new Ht(S(dt))}function cI(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function bm(e){return e.replace(/\/index.html$/,"")}function lI(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var ga=(()=>{class e extends dt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=da(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+et(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+et(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(S(Vo),S(fa,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var od=/\s+/,Im=[],id=(()=>{class e{_ngEl;_renderer;initialClasses=Im;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(od):Im}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(od):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(od).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(U(Ut),U(pn))};static \u0275dir=pe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var pa=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ma=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new pa(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),Sm(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Sm(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(U(Ro),U(Yu),U(td))};static \u0275dir=pe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Sm(e,t){e.context.$implicit=t.item}var Sr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Tt({type:e});static \u0275inj=It({})}return e})();function sd(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var ad="browser",Mm="server";function va(e){return e===Mm}var Uo=class{};var Tm=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new cd(m(de),window)})}return e})(),cd=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=fI(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function fI(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var wa=new C(""),fd=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(S(wa),S(ne))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),$o=class{_doc;constructor(t){this._doc=t}manager},ya="ng-app-id";function xm(e){for(let t of e)t.remove()}function Am(e,t){let n=t.createElement("style");return n.textContent=e,n}function pI(e,t,n,r){let o=e.head?.querySelectorAll(`style[${ya}="${t}"],link[${ya}="${t}"]`);if(o)for(let i of o)i.removeAttribute(ya),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function ud(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var hd=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=va(i),pI(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Am);r?.forEach(o=>this.addUsage(o,this.external,ud))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(xm(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])xm(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Am(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,ud(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ya,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(S(de),S(Ou),S(Pu,8),S(Dr))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ld={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},pd=/%COMP%/g;var Rm="%COMP%",gI=`_nghost-${Rm}`,mI=`_ngcontent-${Rm}`,vI=!0,yI=new C("",{providedIn:"root",factory:()=>vI});function _I(e){return mI.replace(pd,e)}function wI(e){return gI.replace(pd,e)}function Om(e,t){return t.map(n=>n.replace(pd,e))}var gd=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=va(a),this.defaultRenderer=new Bo(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===lt.ShadowDom&&(r=F(y({},r),{encapsulation:lt.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof _a?o.applyToHost(n):o instanceof Ho&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case lt.Emulated:i=new _a(c,l,r,this.appId,u,s,a,d,h);break;case lt.ShadowDom:return new dd(c,l,n,r,s,a,this.nonce,d,h);default:i=new Ho(c,l,r,u,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(S(fd),S(hd),S(Ou),S(yI),S(de),S(Dr),S(ne),S(Pu),S(br,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Bo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(ld[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Nm(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Nm(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=ld[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=ld[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Vt.DashCase|Vt.Important)?t.style.setProperty(n,r,o&Vt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Vt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=ze().getGlobalEventTarget(this.doc,t),!t))throw new w(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Nm(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var dd=class extends Bo{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=Om(o.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=ud(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ho=class extends Bo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?Om(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_a=class extends Ho{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(t,n,r,i,s,a,c,l,u),this.contentAttr=_I(u),this.hostAttr=wI(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Da=class e extends jo{supportsDOMEvents=!0;static makeCurrent(){nd(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=DI();return n==null?null:bI(n)}resetBaseElement(){zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return sd(document.cookie,t)}},zo=null;function DI(){return zo=zo||document.head.querySelector("base"),zo?zo.getAttribute("href"):null}function bI(e){return new URL(e,document.baseURI).pathname}var CI=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Pm=(()=>{class e extends $o{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(S(de))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),km=["alt","control","meta","shift"],EI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},II={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Fm=(()=>{class e extends $o{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ze().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),km.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=EI[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),km.forEach(s=>{if(s!==o){let a=II[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(S(de))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function md(e,t,n){return _m(y({rootComponent:e,platformRef:n?.platformRef},SI(t)))}function SI(e){return{appProviders:[...NI,...e?.providers??[]],platformProviders:AI}}function MI(){Da.makeCurrent()}function TI(){return new ct}function xI(){return _g(document),document}var AI=[{provide:Dr,useValue:ad},{provide:ku,useValue:MI,multi:!0},{provide:de,useFactory:xI}];var NI=[{provide:Js,useValue:"root"},{provide:ct,useFactory:TI},{provide:wa,useClass:Pm,multi:!0,deps:[de]},{provide:wa,useClass:Fm,multi:!0,deps:[de]},gd,hd,fd,{provide:fr,useExisting:gd},{provide:Uo,useClass:CI},[]];var Lm=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(S(de))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var A="primary",ri=Symbol("RouteTitle"),Dd=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function bn(e){return new Dd(e)}function qm(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function OI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ft(e[n],t[n]))return!1;return!0}function ft(e,t){let n=e?bd(e):void 0,r=t?bd(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Gm(e[o],t[o]))return!1;return!0}function bd(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Gm(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function Wm(e){return e.length>0?e[e.length-1]:null}function Wt(e){return ul(e)?e:Er(e)?K(Promise.resolve(e)):I(e)}var kI={exact:Km,subset:Ym},Zm={exact:PI,subset:FI,ignored:()=>!0};function jm(e,t,n){return kI[n.paths](e.root,t.root,n.matrixParams)&&Zm[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function PI(e,t){return ft(e,t)}function Km(e,t,n){if(!wn(e.segments,t.segments)||!Ea(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Km(e.children[r],t.children[r],n))return!1;return!0}function FI(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Gm(e[n],t[n]))}function Ym(e,t,n){return Qm(e,t,t.segments,n)}function Qm(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!wn(o,n)||t.hasChildren()||!Ea(o,n,r))}else if(e.segments.length===n.length){if(!wn(e.segments,n)||!Ea(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!Ym(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!wn(e.segments,o)||!Ea(e.segments,o,r)||!e.children[A]?!1:Qm(e.children[A],t,i,r)}}function Ea(e,t,n){return t.every((r,o)=>Zm[n](e[o].parameters,r.parameters))}var pt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new $([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=bn(this.queryParams),this._queryParamMap}toString(){return VI.serialize(this)}},$=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ia(this)}},zt=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=bn(this.parameters),this._parameterMap}toString(){return Xm(this)}};function LI(e,t){return wn(e,t)&&e.every((n,r)=>ft(n.parameters,t[r].parameters))}function wn(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function jI(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===A&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==A&&(n=n.concat(t(o,r)))}),n}var Cn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new qt,providedIn:"root"})}return e})(),qt=class{parse(t){let n=new Ed(t);return new pt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${qo(t.root,!0)}`,r=BI(t.queryParams),o=typeof t.fragment=="string"?`#${UI(t.fragment)}`:"";return`${n}${r}${o}`}},VI=new qt;function Ia(e){return e.segments.map(t=>Xm(t)).join("/")}function qo(e,t){if(!e.hasChildren())return Ia(e);if(t){let n=e.children[A]?qo(e.children[A],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==A&&r.push(`${o}:${qo(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=jI(e,(r,o)=>o===A?[qo(e.children[A],!1)]:[`${o}:${qo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[A]!=null?`${Ia(e)}/${n[0]}`:`${Ia(e)}/(${n.join("//")})`}}function Jm(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ba(e){return Jm(e).replace(/%3B/gi,";")}function UI(e){return encodeURI(e)}function Cd(e){return Jm(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sa(e){return decodeURIComponent(e)}function Vm(e){return Sa(e.replace(/\+/g,"%20"))}function Xm(e){return`${Cd(e.path)}${$I(e.parameters)}`}function $I(e){return Object.entries(e).map(([t,n])=>`;${Cd(t)}=${Cd(n)}`).join("")}function BI(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${ba(n)}=${ba(o)}`).join("&"):`${ba(n)}=${ba(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var HI=/^[^\/()?;#]+/;function vd(e){let t=e.match(HI);return t?t[0]:""}var zI=/^[^\/()?;=#]+/;function qI(e){let t=e.match(zI);return t?t[0]:""}var GI=/^[^=?&#]+/;function WI(e){let t=e.match(GI);return t?t[0]:""}var ZI=/^[^&#]+/;function KI(e){let t=e.match(ZI);return t?t[0]:""}var Ed=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[A]=new $(t,n)),r}parseSegment(){let t=vd(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(t),new zt(Sa(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=qI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=vd(this.remaining);o&&(r=o,this.capture(r))}t[Sa(n)]=Sa(r)}parseQueryParam(t){let n=WI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=KI(this.remaining);s&&(r=s,this.capture(r))}let o=Vm(n),i=Vm(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vd(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new w(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=A);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[A]:new $([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new w(4011,!1)}};function ev(e){return e.segments.length>0?new $([],{[A]:e}):e}function tv(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=tv(o);if(r===A&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new $(e.segments,t);return YI(n)}function YI(e){if(e.numberOfChildren===1&&e.children[A]){let t=e.children[A];return new $(e.segments.concat(t.segments),t.children)}return e}function Nr(e){return e instanceof pt}function nv(e,t,n=null,r=null){let o=rv(e);return ov(o,t,n,r)}function rv(e){let t;function n(i){let s={};for(let c of i.children){let l=n(c);s[c.outlet]=l}let a=new $(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=ev(r);return t??o}function ov(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return yd(o,o,o,n,r);let i=QI(t);if(i.toRoot())return yd(o,o,new $([],{}),n,r);let s=JI(i,o,e),a=s.processChildren?Wo(s.segmentGroup,s.index,i.commands):sv(s.segmentGroup,s.index,i.commands);return yd(o,s.segmentGroup,a,n,r)}function Ta(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ko(e){return typeof e=="object"&&e!=null&&e.outlets}function yd(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=iv(e,t,n);let a=ev(tv(s));return new pt(a,i,o)}function iv(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=iv(i,t,n)}),new $(e.segments,r)}var xa=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ta(r[0]))throw new w(4003,!1);let o=r.find(Ko);if(o&&o!==Wm(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QI(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new xa(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new xa(n,t,r)}var xr=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function JI(e,t,n){if(e.isAbsolute)return new xr(t,!0,0);if(!n)return new xr(t,!1,NaN);if(n.parent===null)return new xr(n,!0,0);let r=Ta(e.commands[0])?0:1,o=n.segments.length-1+r;return XI(n,o,e.numberOfDoubleDots)}function XI(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new w(4005,!1);o=r.segments.length}return new xr(r,!1,o-i)}function e0(e){return Ko(e[0])?e[0].outlets:{[A]:e}}function sv(e,t,n){if(e??=new $([],{}),e.segments.length===0&&e.hasChildren())return Wo(e,t,n);let r=t0(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new $(e.segments.slice(0,r.pathIndex),{});return i.children[A]=new $(e.segments.slice(r.pathIndex),e.children),Wo(i,0,o)}else return r.match&&o.length===0?new $(e.segments,{}):r.match&&!e.hasChildren()?Id(e,t,n):r.match?Wo(e,0,o):Id(e,t,n)}function Wo(e,t,n){if(n.length===0)return new $(e.segments,{});{let r=e0(n),o={};if(Object.keys(r).some(i=>i!==A)&&e.children[A]&&e.numberOfChildren===1&&e.children[A].segments.length===0){let i=Wo(e.children[A],t,n);return new $(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=sv(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new $(e.segments,o)}}function t0(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(Ko(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!$m(c,l,s))return i;r+=2}else{if(!$m(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Id(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(Ko(i)){let c=n0(i.outlets);return new $(r,c)}if(o===0&&Ta(n[0])){let c=e.segments[t];r.push(new zt(c.path,Um(n[0]))),o++;continue}let s=Ko(i)?i.outlets[A]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Ta(a)?(r.push(new zt(s,Um(a))),o+=2):(r.push(new zt(s,{})),o++)}return new $(r,{})}function n0(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Id(new $([],{}),0,r))}),t}function Um(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function $m(e,t,n){return e==n.path&&ft(t,n.parameters)}var Ma="imperative",ce=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ce||{}),Oe=class{id;url;constructor(t,n){this.id=t,this.url=n}},Gt=class extends Oe{type=ce.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nt=class extends Oe{urlAfterRedirects;type=ce.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Se=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Se||{}),Rr=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Rr||{}),ht=class extends Oe{reason;code;type=ce.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gt=class extends Oe{reason;code;type=ce.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Or=class extends Oe{error;target;type=ce.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yo=class extends Oe{urlAfterRedirects;state;type=ce.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Aa=class extends Oe{urlAfterRedirects;state;type=ce.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Na=class extends Oe{urlAfterRedirects;state;shouldActivate;type=ce.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ra=class extends Oe{urlAfterRedirects;state;type=ce.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oa=class extends Oe{urlAfterRedirects;state;type=ce.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ka=class{route;type=ce.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pa=class{route;type=ce.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fa=class{snapshot;type=ce.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},La=class{snapshot;type=ce.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ja=class{snapshot;type=ce.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Va=class{snapshot;type=ce.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kr=class{routerEvent;position;anchor;type=ce.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Qo=class{},Pr=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function r0(e,t){return e.providers&&!e._injector&&(e._injector=Oo(e.providers,t,`Route: ${e.path}`)),e._injector??t}function tt(e){return e.outlet||A}function o0(e,t){let n=e.filter(r=>tt(r)===t);return n.push(...e.filter(r=>tt(r)!==t)),n}function oi(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ua=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return oi(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new En(this.rootInjector)}},En=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ua(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(S(Ce))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$a=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Sd(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Sd(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Md(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Md(t,this._root).map(n=>n.value)}};function Sd(e,t){if(e===t.value)return t;for(let n of t.children){let r=Sd(e,n);if(r)return r}return null}function Md(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Md(e,n);if(r.length)return r.unshift(t),r}return[]}var Re=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Tr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Jo=class extends $a{snapshot;constructor(t,n){super(t),this.snapshot=n,Pd(this,t)}toString(){return this.snapshot.toString()}};function av(e){let t=i0(e),n=new fe([new zt("",{})]),r=new fe({}),o=new fe({}),i=new fe({}),s=new fe(""),a=new At(n,r,i,s,o,A,e,t.root);return a.snapshot=t.root,new Jo(new Re(a,[]),t)}function i0(e){let t={},n={},r={},o="",i=new Dn([],t,r,o,n,A,e,null,{});return new Xo("",new Re(i,[]))}var At=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[ri]))??I(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(t=>bn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(t=>bn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ba(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:y(y({},t.params),e.params),data:y(y({},t.data),e.data),resolve:y(y(y(y({},e.data),t.data),o?.data),e._resolvedData)}:r={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},o&&lv(o)&&(r.resolve[ri]=o.title),r}var Dn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ri]}constructor(t,n,r,o,i,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Xo=class extends $a{url;constructor(t,n){super(n),this.url=t,Pd(this,n)}toString(){return cv(this._root)}};function Pd(e,t){t.value._routerState=e,t.children.forEach(n=>Pd(e,n))}function cv(e){let t=e.children.length>0?` { ${e.children.map(cv).join(", ")} } `:"";return`${e.value}${t}`}function _d(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ft(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ft(t.params,n.params)||e.paramsSubject.next(n.params),OI(t.url,n.url)||e.urlSubject.next(n.url),ft(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Td(e,t){let n=ft(e.params,t.params)&&LI(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Td(e.parent,t.parent))}function lv(e){return typeof e.title=="string"||e.title===null}var uv=new C(""),ii=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=A;activateEvents=new se;deactivateEvents=new se;attachEvents=new se;detachEvents=new se;routerOutletData=dg(void 0);parentContexts=m(En);location=m(Ro);changeDetector=m(_n);inputBinder=m(si,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new xd(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fn]})}return e})(),xd=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===At?this.route:t===En?this.childContexts:t===uv?this.outletData:this.parent.get(t,n)}},si=new C(""),Fd=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=co([r.queryParams,r.params,r.data]).pipe(Fe(([i,s,a],c)=>(a=y(y(y({},i),s),a),c===0?I(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=wm(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Ld=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=$t({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&ko(0,"router-outlet")},dependencies:[ii],encapsulation:2})}return e})();function jd(e){let t=e.children&&e.children.map(jd),n=t?F(y({},e),{children:t}):y({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==A&&(n.component=Ld),n}function s0(e,t,n){let r=ei(e,t._root,n?n._root:void 0);return new Jo(r,t)}function ei(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=a0(e,t,n);return new Re(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ei(e,a)),s}}let r=c0(t.value),o=t.children.map(i=>ei(e,i));return new Re(r,o)}}function a0(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return ei(e,r,o);return ei(e,r)})}function c0(e){return new At(new fe(e.url),new fe(e.params),new fe(e.queryParams),new fe(e.fragment),new fe(e.data),e.outlet,e.component,e)}var Fr=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},dv="ngNavigationCancelingError";function Ha(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Nr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=fv(!1,Se.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function fv(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[dv]=!0,n.cancellationCode=t,n}function l0(e){return hv(e)&&Nr(e.url)}function hv(e){return!!e&&e[dv]}var u0=(e,t,n,r)=>L(o=>(new Ad(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Ad=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),_d(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Tr(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Tr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Tr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Tr(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Va(i.value.snapshot))}),t.children.length&&this.forwardEvent(new La(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(_d(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_d(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},za=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ar=class{component;route;constructor(t,n){this.component=t,this.route=n}};function d0(e,t,n){let r=e._root,o=t?t._root:null;return Go(r,o,n,[r.value])}function f0(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function jr(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!ip(e)?e:t.get(e):r}function Go(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Tr(t);return e.children.forEach(s=>{h0(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Zo(a,n.getContext(s),o)),o}function h0(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=p0(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new za(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Go(e,t,a?a.children:null,r,o):Go(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Ar(a.outlet.component,s))}else s&&Zo(t,a,o),o.canActivateChecks.push(new za(r)),i.component?Go(e,null,a?a.children:null,r,o):Go(e,null,n,r,o);return o}function p0(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!wn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wn(e.url,t.url)||!ft(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Td(e,t)||!ft(e.queryParams,t.queryParams);case"paramsChange":default:return!Td(e,t)}}function Zo(e,t,n){let r=Tr(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?Zo(s,t.children.getContext(i),n):Zo(s,null,n):Zo(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ar(t.outlet.component,o)):n.canDeactivateChecks.push(new Ar(null,o)):n.canDeactivateChecks.push(new Ar(null,o))}function ai(e){return typeof e=="function"}function g0(e){return typeof e=="boolean"}function m0(e){return e&&ai(e.canLoad)}function v0(e){return e&&ai(e.canActivate)}function y0(e){return e&&ai(e.canActivateChild)}function _0(e){return e&&ai(e.canDeactivate)}function w0(e){return e&&ai(e.canMatch)}function pv(e){return e instanceof wt||e?.name==="EmptyError"}var Ca=Symbol("INITIAL_VALUE");function Lr(){return Fe(e=>co(e.map(t=>t.pipe(bt(1),pl(Ca)))).pipe(L(t=>{for(let n of t)if(n!==!0){if(n===Ca)return Ca;if(n===!1||D0(n))return n}return!0}),Te(t=>t!==Ca),bt(1)))}function D0(e){return Nr(e)||e instanceof Fr}function b0(e,t){return J(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?I(F(y({},n),{guardsResult:!0})):C0(s,r,o,e).pipe(J(a=>a&&g0(a)?E0(r,i,e,t):I(a)),L(a=>F(y({},n),{guardsResult:a})))})}function C0(e,t,n,r){return K(e).pipe(J(o=>x0(o.component,o.route,n,t,r)),Ct(o=>o!==!0,!0))}function E0(e,t,n,r){return K(t).pipe(kt(o=>Jn(S0(o.route.parent,r),I0(o.route,r),T0(e,o.path,n),M0(e,o.route,n))),Ct(o=>o!==!0,!0))}function I0(e,t){return e!==null&&t&&t(new ja(e)),I(!0)}function S0(e,t){return e!==null&&t&&t(new Fa(e)),I(!0)}function M0(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return I(!0);let o=r.map(i=>ms(()=>{let s=oi(t)??n,a=jr(i,s),c=v0(a)?a.canActivate(t,e):Be(s,()=>a(t,e));return Wt(c).pipe(Ct())}));return I(o).pipe(Lr())}function T0(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>f0(s)).filter(s=>s!==null).map(s=>ms(()=>{let a=s.guards.map(c=>{let l=oi(s.node)??n,u=jr(c,l),d=y0(u)?u.canActivateChild(r,e):Be(l,()=>u(r,e));return Wt(d).pipe(Ct())});return I(a).pipe(Lr())}));return I(i).pipe(Lr())}function x0(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return I(!0);let s=i.map(a=>{let c=oi(t)??o,l=jr(a,c),u=_0(l)?l.canDeactivate(e,t,n,r):Be(c,()=>l(e,t,n,r));return Wt(u).pipe(Ct())});return I(s).pipe(Lr())}function A0(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return I(!0);let i=o.map(s=>{let a=jr(s,e),c=m0(a)?a.canLoad(t,n):Be(e,()=>a(t,n));return Wt(c)});return I(i).pipe(Lr(),gv(r))}function gv(e){return sl(he(t=>{if(typeof t!="boolean")throw Ha(e,t)}),L(t=>t===!0))}function N0(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return I(!0);let i=o.map(s=>{let a=jr(s,e),c=w0(a)?a.canMatch(t,n):Be(e,()=>a(t,n));return Wt(c)});return I(i).pipe(Lr(),gv(r))}var ti=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ni=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Mr(e){return Yn(new ti(e))}function R0(e){return Yn(new w(4e3,!1))}function O0(e){return Yn(fv(!1,Se.GuardRejected))}var Nd=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return I(r);if(o.numberOfChildren>1||!o.children[A])return R0(`${t.redirectTo}`);o=o.children[A]}}applyRedirectCommands(t,n,r,o,i){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:f,data:g,title:v}=o,_=Be(i,()=>a({params:f,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:v}));if(_ instanceof pt)throw new ni(_);n=_}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new ni(s);return s}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new pt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new $(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new w(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}},Rd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k0(e,t,n,r,o){let i=mv(e,t,n);return i.matched?(r=r0(t,r),N0(r,t,n,o).pipe(L(s=>s===!0?i:y({},Rd)))):I(i)}function mv(e,t,n){if(t.path==="**")return P0(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?y({},Rd):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||qm)(n,e,t);if(!o)return y({},Rd);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?y(y({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function P0(e){return{matched:!0,parameters:e.length>0?Wm(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Bm(e,t,n,r){return n.length>0&&j0(e,n,r)?{segmentGroup:new $(t,L0(r,new $(n,e.children))),slicedSegments:[]}:n.length===0&&V0(e,n,r)?{segmentGroup:new $(e.segments,F0(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new $(e.segments,e.children),slicedSegments:n}}function F0(e,t,n,r){let o={};for(let i of n)if(Ga(e,t,i)&&!r[tt(i)]){let s=new $([],{});o[tt(i)]=s}return y(y({},r),o)}function L0(e,t){let n={};n[A]=t;for(let r of e)if(r.path===""&&tt(r)!==A){let o=new $([],{});n[tt(r)]=o}return n}function j0(e,t,n){return n.some(r=>Ga(e,t,r)&&tt(r)!==A)}function V0(e,t,n){return n.some(r=>Ga(e,t,r))}function Ga(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function U0(e,t,n){return t.length===0&&!e.children[n]}var Od=class{};function $0(e,t,n,r,o,i,s="emptyOnly"){return new kd(e,t,n,r,o,s,i).recognize()}var B0=31,kd=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Nd(this.urlSerializer,this.urlTree)}noMatchError(t){return new w(4002,`'${t.segmentGroup}'`)}recognize(){let t=Bm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(L(({children:n,rootSnapshot:r})=>{let o=new Re(r,n),i=new Xo("",o),s=nv(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new Dn([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),A,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,A,n).pipe(L(r=>({children:r,rootSnapshot:n})),Dt(r=>{if(r instanceof ni)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ti?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(L(s=>s instanceof Re?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return K(i).pipe(kt(s=>{let a=r.children[s],c=o0(n,s);return this.processSegmentGroup(t,c,a,s,o)}),hl((s,a)=>(s.push(...a),s)),Pt(null),fl(),J(s=>{if(s===null)return Mr(r);let a=vv(s);return H0(a),I(a)}))}processSegment(t,n,r,o,i,s,a){return K(n).pipe(kt(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(Dt(l=>{if(l instanceof ti)return I(null);throw l}))),Ct(c=>!!c),Dt(c=>{if(pv(c))return U0(r,o,i)?I(new Od):Mr(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return tt(r)!==s&&(s===A||!Ga(o,i,r))?Mr(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):Mr(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=mv(n,o,i);if(!c)return Mr(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>B0&&(this.allowRedirects=!1));let f=new Dn(i,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Hm(o),tt(o),o.component??o._loadedComponent??null,o,zm(o)),g=Ba(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(o,v).pipe(J(_=>this.processSegment(t,r,n,_.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=k0(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Fe(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Fe(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new Dn(h,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Hm(r),tt(r),r.component??r._loadedComponent??null,r,zm(r)),v=Ba(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:b}=Bm(n,h,f,l);if(b.length===0&&_.hasChildren())return this.processChildren(u,l,_,g).pipe(L(Q=>new Re(g,Q)));if(l.length===0&&b.length===0)return I(new Re(g,[]));let q=tt(r)===i;return this.processSegment(u,l,_,b,q?A:i,!0,g).pipe(L(Q=>new Re(g,Q instanceof Re?[Q]:[])))}))):Mr(n)))}getChildConfig(t,n,r){return n.children?I({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?I({routes:n._loadedRoutes,injector:n._loadedInjector}):A0(t,n,r,this.urlSerializer).pipe(J(o=>o?this.configLoader.loadChildren(t,n).pipe(he(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):O0(n))):I({routes:[],injector:t})}};function H0(e){e.sort((t,n)=>t.value.outlet===A?-1:n.value.outlet===A?1:t.value.outlet.localeCompare(n.value.outlet))}function z0(e){let t=e.value.routeConfig;return t&&t.path===""}function vv(e){let t=[],n=new Set;for(let r of e){if(!z0(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=vv(r.children);t.push(new Re(r.value,o))}return t.filter(r=>!n.has(r))}function Hm(e){return e.data||{}}function zm(e){return e.resolve||{}}function q0(e,t,n,r,o,i){return J(s=>$0(e,t,n,r,s.extractedUrl,o,i).pipe(L(({state:a,tree:c})=>F(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function G0(e,t){return J(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return I(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of yv(c))s.add(l);let a=0;return K(s).pipe(kt(c=>i.has(c)?W0(c,r,e,t):(c.data=Ba(c,c.parent,e).resolve,I(void 0))),he(()=>a++),Xn(1),J(c=>a===s.size?I(n):we))})}function yv(e){let t=e.children.map(n=>yv(n)).flat();return[e,...t]}function W0(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!lv(o)&&(i[ri]=o.title),Z0(i,e,t,r).pipe(L(s=>(e._resolvedData=s,e.data=Ba(e,e.parent,n).resolve,null)))}function Z0(e,t,n,r){let o=bd(e);if(o.length===0)return I({});let i={};return K(o).pipe(J(s=>K0(e[s],t,n,r).pipe(Ct(),he(a=>{if(a instanceof Fr)throw Ha(new qt,a);i[s]=a}))),Xn(1),L(()=>i),Dt(s=>pv(s)?we:Yn(s)))}function K0(e,t,n,r){let o=oi(t)??r,i=jr(e,o),s=i.resolve?i.resolve(t,n):Be(o,()=>i(t,n));return Wt(s)}function wd(e){return Fe(t=>{let n=e(t);return n?K(n).pipe(L(()=>t)):I(t)})}var Vd=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===A);return r}getResolvedTitleForRoute(n){return n.data[ri]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(_v),providedIn:"root"})}return e})(),_v=(()=>{class e extends Vd{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(S(Lm))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),In=new C("",{providedIn:"root",factory:()=>({})}),Sn=new C(""),Wa=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(vm);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return I(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Wt(n.loadComponent()).pipe(L(Dv),he(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),lo(()=>{this.componentLoaders.delete(n)})),o=new Kn(r,()=>new ie).pipe(Zn());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return I({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=wv(r,this.compiler,n,this.onLoadEndListener).pipe(lo(()=>{this.childrenLoaders.delete(r)})),s=new Kn(i,()=>new ie).pipe(Zn());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wv(e,t,n,r){return Wt(e.loadChildren()).pipe(L(Dv),J(o=>o instanceof Ju||Array.isArray(o)?I(o):K(t.compileModuleAsync(o))),L(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(Sn,[],{optional:!0,self:!0}).flat()),{routes:s.map(jd),injector:i}}))}function Y0(e){return e&&typeof e=="object"&&"default"in e}function Dv(e){return Y0(e)?e.default:e}var Za=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(Q0),providedIn:"root"})}return e})(),Q0=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ud=new C(""),$d=new C("");function bv(e,t,n){let r=e.get($d),o=e.get(de);return e.get(ne).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,s=new Promise(l=>{i=l}),a=o.startViewTransition(()=>(i(),J0(e))),{onViewTransitionCreated:c}=r;return c&&Be(e,()=>c({transition:a,from:t,to:n})),s})}function J0(e){return new Promise(t=>{Lu({read:()=>setTimeout(t)},{injector:e})})}var Bd=new C(""),Ka=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ie;transitionAbortSubject=new ie;configLoader=m(Wa);environmentInjector=m(Ce);destroyRef=m(To);urlSerializer=m(Cn);rootContexts=m(En);location=m(Ht);inputBindingEnabled=m(si,{optional:!0})!==null;titleStrategy=m(Vd);options=m(In,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(Za);createViewTransition=m(Ud,{optional:!0});navigationErrorHandler=m(Bd,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>I(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new ka(o)),r=o=>this.events.next(new Pa(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(F(y({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new fe(null),this.transitions.pipe(Te(r=>r!==null),Fe(r=>{let o=!1,i=!1;return I(r).pipe(Fe(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Se.SupersededByNewNavigation),we;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?F(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new gt(s.id,this.urlSerializer.serialize(s.rawUrl),l,Rr.IgnoredSameUrlNavigation)),s.resolve(!1),we}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return I(s).pipe(Fe(l=>(this.events.next(new Gt(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?we:Promise.resolve(l))),q0(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),he(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=F(y({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Yo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:h,extras:f}=s,g=new Gt(l,this.urlSerializer.serialize(u),d,h);this.events.next(g);let v=av(this.rootComponentType).snapshot;return this.currentTransition=r=F(y({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:F(y({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,I(r)}else{let l="";return this.events.next(new gt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Rr.IgnoredByUrlHandlingStrategy)),s.resolve(!1),we}}),he(s=>{let a=new Aa(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),L(s=>(this.currentTransition=r=F(y({},s),{guards:d0(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),b0(this.environmentInjector,s=>this.events.next(s)),he(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Ha(this.urlSerializer,s.guardsResult);let a=new Na(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Te(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Se.GuardRejected),!1)),wd(s=>{if(s.guards.canActivateChecks.length!==0)return I(s).pipe(he(a=>{let c=new Ra(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Fe(a=>{let c=!1;return I(a).pipe(G0(this.paramsInheritanceStrategy,this.environmentInjector),he({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Se.NoDataFromResolver)}}))}),he(a=>{let c=new Oa(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),wd(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(he(u=>{c.component=u}),L(()=>{})));for(let u of c.children)l.push(...a(u));return l};return co(a(s.targetSnapshot.root)).pipe(Pt(null),bt(1))}),wd(()=>this.afterPreactivation()),Fe(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?K(c).pipe(L(()=>r)):I(r)}),L(s=>{let a=s0(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=F(y({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),he(()=>{this.events.next(new Qo)}),u0(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),bt(1),he({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),gl(this.transitionAbortSubject.pipe(he(s=>{throw s}))),lo(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Se.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dt(s=>{if(this.destroyed)return r.resolve(!1),we;if(i=!0,hv(s))this.events.next(new ht(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),l0(s)?this.events.next(new Pr(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Fr){let{message:l,cancellationCode:u}=Ha(this.urlSerializer,c);this.events.next(new ht(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Pr(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return we}))}))}cancelNavigationTransition(n,r,o){let i=new ht(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function X0(e){return e!==Ma}var Cv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(eS),providedIn:"root"})}return e})(),qa=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},eS=(()=>{class e extends qa{static \u0275fac=(()=>{let n;return function(o){return(n||(n=_r(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ev=(()=>{class e{urlSerializer=m(Cn);options=m(In,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(Ht);urlHandlingStrategy=m(Za);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new pt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof pt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=av(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(tS),providedIn:"root"})}return e})(),tS=(()=>{class e extends Ev{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Gt?this.updateStateMemento():n instanceof gt?this.commitTransition(r):n instanceof Yo?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Qo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ht&&(n.code===Se.GuardRejected||n.code===Se.NoDataFromResolver)?this.restoreHistory(r):n instanceof Or?this.restoreHistory(r,!0):n instanceof nt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=y(y({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=y(y({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=_r(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ya(e,t){e.events.pipe(Te(n=>n instanceof nt||n instanceof ht||n instanceof Or||n instanceof gt),L(n=>n instanceof nt||n instanceof gt?0:(n instanceof ht?n.code===Se.Redirect||n.code===Se.SupersededByNewNavigation:!1)?2:1),Te(n=>n!==2),bt(1)).subscribe(()=>{t()})}var nS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ke=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(lm);stateManager=m(Ev);options=m(In,{optional:!0})||{};pendingTasks=m(wr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(Ka);urlSerializer=m(Cn);location=m(Ht);urlHandlingStrategy=m(Za);_events=new ie;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(Cv);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(Sn,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(si,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ee;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof ht&&r.code!==Se.Redirect&&r.code!==Se.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nt)this.navigated=!0;else if(r instanceof Pr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=y({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||X0(o.source)},s);this.scheduleNavigation(a,Ma,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}iS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ma,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=y({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=rv(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return ov(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Nr(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ma,null,r)}navigate(n,r={skipLocationChange:!1}){return oS(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=y({},nS):r===!1?o=y({},rS):o=r,Nr(n))return jm(this.currentUrlTree,n,o);let i=this.parseUrl(n);return jm(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return Ya(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oS(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new w(4008,!1)}function iS(e){return!(e instanceof Qo)&&!(e instanceof Pr)}var ci=class{};var Iv=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Te(n=>n instanceof nt),kt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Oo(i.providers,n,`Route: ${i.path}`));let s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return K(o).pipe(Qn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=I(null);let i=o.pipe(J(s=>s===null?I(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return K([i,s]).pipe(Qn())}else return i})}static \u0275fac=function(r){return new(r||e)(S(ke),S(Ce),S(ci),S(Wa))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sv=new C(""),sS=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Gt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof nt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof gt&&n.code===Rr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof kr&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kr(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){em()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function zd(e,...t){return wu([{provide:Sn,multi:!0,useValue:e},[],{provide:At,useFactory:Mv,deps:[ke]},{provide:sa,multi:!0,useFactory:Tv},t.map(n=>n.\u0275providers)])}function Mv(e){return e.routerState.root}function Vr(e,t){return{\u0275kind:e,\u0275providers:t}}function Tv(){let e=m($e);return t=>{let n=e.get(ln);if(t!==n.components[0])return;let r=e.get(ke),o=e.get(xv);e.get(qd)===1&&r.initialNavigation(),e.get(Rv,null,N.Optional)?.setUpPreloading(),e.get(Sv,null,N.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var xv=new C("",{factory:()=>new ie}),qd=new C("",{providedIn:"root",factory:()=>1});function Av(){let e=[{provide:qd,useValue:0},ed(()=>{let t=m($e);return t.get(rd,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(ke),i=t.get(xv);Ya(o,()=>{r(!0)}),t.get(Ka).afterPreactivation=()=>(r(!0),i.closed?I(void 0):i),o.initialNavigation()}))})];return Vr(2,e)}function Nv(){let e=[ed(()=>{m(ke).setUpLocationChangeListener()}),{provide:qd,useValue:2}];return Vr(3,e)}var Rv=new C("");function Ov(e){return Vr(0,[{provide:Rv,useExisting:Iv},{provide:ci,useExisting:e}])}function Gd(){return Vr(6,[{provide:dt,useClass:ga}])}function kv(){return Vr(8,[Fd,{provide:si,useExisting:Fd}])}function Pv(e){No("NgRouterViewTransitions");let t=[{provide:Ud,useValue:bv},{provide:$d,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return Vr(9,t)}var Fv=[Ht,{provide:Cn,useClass:qt},ke,En,{provide:At,useFactory:Mv,deps:[ke]},Wa,[]],Wd=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[Fv,[],{provide:Sn,multi:!0,useValue:n},[],r?.errorHandler?{provide:Bd,useValue:r.errorHandler}:[],{provide:In,useValue:r||{}},r?.useHash?cS():lS(),aS(),r?.preloadingStrategy?Ov(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?uS(r):[],r?.bindToComponentInputs?kv().\u0275providers:[],r?.enableViewTransitions?Pv().\u0275providers:[],dS()]}}static forChild(n){return{ngModule:e,providers:[{provide:Sn,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Tt({type:e});static \u0275inj=It({})}return e})();function aS(){return{provide:Sv,useFactory:()=>{let e=m(Tm),t=m(ne),n=m(In),r=m(Ka),o=m(Cn);return n.scrollOffset&&e.setOffset(n.scrollOffset),new sS(o,r,e,t,n)}}}function cS(){return{provide:dt,useClass:ga}}function lS(){return{provide:dt,useClass:ha}}function uS(e){return[e.initialNavigation==="disabled"?Nv().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Av().\u0275providers:[]]}var Hd=new C("");function dS(){return[{provide:Hd,useFactory:Tv},{provide:sa,multi:!0,useExisting:Hd}]}var Qa=class e{title="time-calculator-app";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=$t({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&ko(0,"router-outlet")},dependencies:[Wd,ii],encapsulation:2})};var jv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var li=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Ja=class extends li{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ui=class extends li{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},di=class extends li{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Kd=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Kd||{});var hS=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},fi=class{constructor(t,{headers:n={},customFetch:r,region:o=Kd.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=jv(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return hS(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=n,a={},{region:c}=n;c||(c=this.region);let l=new URL(`${this.url}/${t}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let d=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:u}).catch(v=>{throw new Ja(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new ui(d);if(!d.ok)throw new di(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(o){return{data:null,error:o,response:o instanceof di||o instanceof ui?o.context:void 0}}})}};var Kv=v_(Zv(),1),{PostgrestClient:Yv,PostgrestQueryBuilder:w1,PostgrestFilterBuilder:D1,PostgrestTransformBuilder:b1,PostgrestBuilder:C1,PostgrestError:CS}=Kv.default;var cf=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},lf=cf;var Qv="2.15.5";var Jv=`realtime-js/${Qv}`,Xv="1.0.0";var _i=1e4,ey=1e3,ty=100,wi=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(wi||{}),le=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(le||{}),qe=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(qe||{}),uf=function(e){return e.websocket="websocket",e}(uf||{}),Mn=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Mn||{});var ec=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var $r=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Z=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Z||{}),ff=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=ES(s,e,t,o),i),{})},ES=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?ny(i,s):df(s)},ny=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return TS(t,n)}switch(e){case Z.bool:return IS(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return SS(t);case Z.json:case Z.jsonb:return MS(t);case Z.timestamp:return xS(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return df(t);default:return df(t)}},df=e=>e,IS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},SS=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},TS=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>ny(t,a))}return e},xS=e=>typeof e=="string"?e.replace(" ","T"):e,tc=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};var Br=class{constructor(t,n,r={},o=_i){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Di=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let h=u.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),g=u.filter(_=>f.indexOf(_.presence_ref)<0),v=d.filter(_=>h.indexOf(_.presence_ref)<0);g.length>0&&(a[l]=g),v.length>0&&(c[l]=v)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,o(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var bi=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(bi||{}),Nt=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Nt||{});var Ci=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Br(this,qe.join,this.params,this.timeout),this.rejoinTimer=new $r(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Di(this),this.broadcastEndpointURL=tc(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[bi.PRESENCE]&&this.bindings[bi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Nt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>p(this,[g],function*({postgres_changes:f}){var v;if(this.socket.setAuth(),f===void 0){t?.(Nt.SUBSCRIBED);return}else{let _=this.bindings.postgres_changes,b=(v=_?.length)!==null&&v!==void 0?v:0,q=[];for(let Q=0;Q<b;Q++){let E=_[Q],{filter:{event:G,schema:$n,table:Y,filter:me}}=E,Bn=f&&f[Q];if(Bn&&Bn.event===G&&Bn.schema===$n&&Bn.table===Y&&Bn.filter===me)q.push(Object.assign(Object.assign({},E),{id:Bn.id}));else{this.unsubscribe(),this.state=le.errored,t?.(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,t&&t(Nt.SUBSCRIBED);return}})).receive("error",f=>{this.state=le.errored,t?.(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===le.joined&&t===bi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}send(r){return p(this,arguments,function*(t,n={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=le.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Br(this,qe.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Br(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ty){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=qe;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,v,_;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(v=f.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,v,_,b,q,Q;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,G=(g=f.filter)===null||g===void 0?void 0:g.event;return E&&((v=n.ids)===null||v===void 0?void 0:v.includes(E))&&(G==="*"||G?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{let E=(q=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return E==="*"||E===((Q=n?.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:v,table:_,commit_timestamp:b,type:q,errors:Q}=g;h=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:b,eventType:q,new:{},old:{},errors:Q}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qe.close,{},t)}_onError(t){this._on(qe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ff(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ff(t.columns,t.old_record)),n}};var hf=()=>{},nc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NS=[1e3,2e3,5e3,1e4],RS=1e4,OS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ei=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_i,this.transport=null,this.heartbeatIntervalMs=nc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hf,this.ref=0,this.reconnectTimer=null,this.logger=hf,this.conn=null,this.sendBuffer=[],this.serializer=new ec,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${uf.websocket}`,this.httpEndpoint=tc(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lf.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xv}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return p(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wi.connecting:return Mn.Connecting;case wi.open:return Mn.Open;case wi.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Ci(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return p(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return p(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ey,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},nc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([OS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return p(this,null,function*(){let n;t?n=t:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:Jv};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(qe.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return p(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $r(()=>p(this,null,function*(){setTimeout(()=>p(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),nc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,l,u;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:_i,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:nc.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:hf,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:d=>NS[d-1]||RS,this.encode=(l=t?.encode)!==null&&l!==void 0?l:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Hr=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function X(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var rc=class extends Hr{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Tn=class extends Hr{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var kS=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},ic=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ry=()=>kS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),oc=e=>{if(Array.isArray(e))return e.map(n=>oc(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=oc(r)}),t},oy=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var xn=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},pf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PS=(e,t,n)=>xn(void 0,void 0,void 0,function*(){let r=yield ry();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{let i=e.status||500,s=o?.statusCode||i+"";t(new rc(pf(o),i,s))}).catch(o=>{t(new Tn(pf(o),o))}):t(new Tn(pf(e),e))}),FS=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(oy(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function Ii(e,t,n,r,o,i){return xn(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,FS(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>PS(c,a,r))})})}function zr(e,t,n,r){return xn(this,void 0,void 0,function*(){return Ii(e,"GET",t,n,r)})}function Ge(e,t,n,r,o){return xn(this,void 0,void 0,function*(){return Ii(e,"POST",t,r,o,n)})}function Si(e,t,n,r,o){return xn(this,void 0,void 0,function*(){return Ii(e,"PUT",t,r,o,n)})}function iy(e,t,n,r){return xn(this,void 0,void 0,function*(){return Ii(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function sc(e,t,n,r,o){return xn(this,void 0,void 0,function*(){return Ii(e,"DELETE",t,r,o,n)})}var _e=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},LS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ac=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=ic(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return _e(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},sy),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield(t=="PUT"?Si:Ge)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}upload(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return _e(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:sy.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield Si(this.fetch,a.toString(),c,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(X(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield Ge(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Hr("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}update(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}copy(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield Ge(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return _e(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield Ge(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return _e(this,void 0,void 0,function*(){try{let o=yield Ge(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}download(t,n){return _e(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield zr(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(X(a))return{data:null,error:a};throw a}})}info(t){return _e(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield zr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:oc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}exists(t){return _e(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield iy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r)&&r instanceof Tn){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}list(t,n,r){return _e(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},LS),n),{prefix:t||""});return{data:yield Ge(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}listV2(t,n){return _e(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield Ge(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var ay="2.12.1";var cy={"X-Client-Info":`storage-js/${ay}`};var qr=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},cc=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},cy),n),this.fetch=ic(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qr(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(X(t))return{data:null,error:t};throw t}})}getBucket(t){return qr(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return qr(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return qr(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qr(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qr(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}};var Mi=class extends cc{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new ac(this.url,this.headers,t,this.fetch)}};var ly="2.57.4";var Ti="";typeof Deno<"u"?Ti="deno":typeof document<"u"?Ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ti="react-native":Ti="node";var jS={"X-Client-Info":`supabase-js-${Ti}/${ly}`},uy={headers:jS},dy={schema:"public"},fy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hy={};Pf();var VS=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},US=e=>{let t;return e?t=e:typeof fetch>"u"?t=Of:t=fetch,(...n)=>t(...n)},$S=()=>typeof Headers>"u"?kf:Headers,py=(e,t,n)=>{let r=US(n),o=$S();return(i,s)=>VS(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};var BS=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};function HS(e){return e.endsWith("/")?e:e+"/"}function gy(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>BS(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function my(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var lc="2.71.1";var An=30*1e3,uc=3,dc=uc*An,vy="http://localhost:9999",yy="supabase.auth.token";var _y={"X-Client-Info":`gotrue-js/${lc}`};var xi="X-Supabase-Api-Version",gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dy=10*60*1e3;var Ai=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var fc=class extends Ai{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function by(e){return M(e)&&e.name==="AuthApiError"}var Gr=class extends Ai{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},mt=class extends Ai{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},We=class extends mt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Cy(e){return M(e)&&e.name==="AuthSessionMissingError"}var Nn=class extends mt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Rn=class extends mt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},On=class extends mt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Ey(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ni=class extends mt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Wr=class extends mt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function hc(e){return M(e)&&e.name==="AuthRetryableFetchError"}var Ri=class extends mt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var kn=class extends mt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iy=` 	
\r=`.split(""),zS=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Iy.length;t+=1)e[Iy[t].charCodeAt(0)]=-2;for(let t=0;t<pc.length;t+=1)e[pc[t].charCodeAt(0)]=t;return e})();function Sy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(pc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(pc[r]),t.queuedBits-=6}}function My(e,t,n){let r=zS[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function mf(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{WS(s,r,n)};for(let s=0;s<e.length;s+=1)My(e.charCodeAt(s),o,i);return t.join("")}function qS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GS(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}qS(r,t)}}function WS(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ty(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)My(e.charCodeAt(o),n,r);return new Uint8Array(t)}function xy(e){let t=[];return GS(e,n=>t.push(n)),new Uint8Array(t)}function Ay(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>Sy(o,n,r)),Sy(null,n,r),t.join("")}function Ny(e){return Math.round(Date.now()/1e3)+e}function Ry(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var Ze=()=>typeof window<"u"&&typeof document<"u",Pn={tested:!1,writable:!1},gc=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pn.tested)return Pn.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pn.tested=!0,Pn.writable=!0}catch{Pn.tested=!0,Pn.writable=!1}return Pn.writable};function Oy(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var mc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ky=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fn=(e,t,n)=>p(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Zt=(e,t)=>p(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Rt=(e,t)=>p(null,null,function*(){yield e.removeItem(t)}),Oi=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Oi.promiseConstructor=Promise;function vc(e){let t=e.split(".");if(t.length!==3)throw new kn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!wy.test(t[r]))throw new kn("JWT not in base64url format");return{header:JSON.parse(mf(t[0])),payload:JSON.parse(mf(t[1])),signature:Ty(t[2]),raw:{header:t[0],payload:t[1]}}}function Py(e){return p(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function Fy(e,t){return new Promise((r,o)=>{p(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})})}function ZS(e){return("0"+e.toString(16)).substr(-2)}function KS(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,ZS).join("")}function YS(e){return p(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function QS(e){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield YS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Ln(e,t,n=!1){return p(this,null,function*(){let r=KS(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield Fn(e,`${t}-code-verifier`,o);let i=yield QS(r);return[i,r===i?"plain":"s256"]})}var JS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ly(e){let t=e.headers.get(xi);if(!t||!t.match(JS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jy(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Vy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var XS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jn(e){if(!XS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yc(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vf(e){return JSON.parse(JSON.stringify(e))}var eM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Vn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tM=[502,503,504];function Uy(e){return p(this,null,function*(){var t;if(!ky(e))throw new Wr(Vn(e),0);if(tM.includes(e.status))throw new Wr(Vn(e),e.status);let n;try{n=yield e.json()}catch(i){throw new Gr(Vn(i),i)}let r,o=Ly(e);if(o&&o.getTime()>=gf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ri(Vn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new We}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ri(Vn(n),e.status,n.weak_password.reasons);throw new fc(Vn(n),e.status||500,r)})}var nM=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function R(e,t,n,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[xi]||(i[xi]=gf["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield rM(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function rM(e,t,n,r,o,i){return p(this,null,function*(){let s=nM(t,r,o,i),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new Wr(Vn(c),0)}if(a.ok||(yield Uy(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Uy(c)}})}function vt(e){var t;let n=null;oM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ny(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function yf(e){let t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $y(e){return{data:e,error:null}}function By(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=eM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Hy(e){return e}function oM(e){return e.access_token&&e.refresh_token&&e.expires_in}var _c=["global","local","others"];var iM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Zr=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=mc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return p(this,arguments,function*(t,n=_c[0]){if(_c.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_c.join(", ")}`);try{return yield R(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(M(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return p(this,arguments,function*(t,n={}){try{return yield R(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yt})}catch(o){if(M(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return p(this,null,function*(){try{let{options:n}=t,r=iM(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:By,redirectTo:n?.redirectTo})}catch(n){if(M(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return p(this,null,function*(){try{return yield R(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return p(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Hy});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);l[`${_}Page`]=v}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(M(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return p(this,null,function*(){jn(t);try{return yield R(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return p(this,null,function*(){jn(t);try{return yield R(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:yt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return p(this,null,function*(){jn(t);try{return yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:yt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return p(this,null,function*(){jn(t.userId);try{let{data:n,error:r}=yield R(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(M(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return p(this,null,function*(){jn(t.userId),jn(t.id);try{return{data:yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}})}};function _f(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function zy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Un={debug:!!(globalThis&&gc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ki=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},wc=class extends ki{};function wf(e,t,n){return p(this,null,function*(){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>p(null,null,function*(){if(o){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield n()}finally{Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wc(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Un.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}zy();var sM={url:vy,storageKey:yy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_y,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function qy(e,t,n){return p(this,null,function*(){return yield n()})}var Kr={},Df=(()=>{class e{constructor(n){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},sM),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Zr({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=mc(i.fetch),this.lock=i.lock||qy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ze()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=wf:this.lock=qy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:gc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_f(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_f(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var n,r;return(r=(n=Kr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Kr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lc}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var n;try{let r=Oy(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),Ze()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Ey(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new Gr("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return p(this,null,function*(){var r,o,i;try{let s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:vt}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return p(this,null,function*(){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,g=null,v=null;this.flowType==="pkce"&&([g,v]=yield Ln(this.storage,this.storageKey)),s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:v},xform:vt})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:vt})}else throw new Rn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return p(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:yf})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:yf})}else throw new Rn("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Nn}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return p(this,null,function*(){let{chain:r}=n;if(r==="solana")return yield this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(n){return p(this,null,function*(){var r,o,i,s,a,c,l,u,d,h,f,g;let v,_;if("message"in n)v=n.message,_=n.signature;else{let{chain:b,wallet:q,statement:Q,options:E}=n,G;if(Ze())if(typeof q=="object")G=q;else{let Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))G=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=q}let $n=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in G&&G.signIn){let Y=yield G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:$n.host,uri:$n.href}),Q?{statement:Q}:null)),me;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")me=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)me=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in me&&"signature"in me&&(typeof me.signedMessage=="string"||me.signedMessage instanceof Uint8Array)&&me.signature instanceof Uint8Array)v=typeof me.signedMessage=="string"?me.signedMessage:new TextDecoder().decode(me.signedMessage),_=me.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${$n.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...Q?["",Q,""]:[""],"Version: 1",`URI: ${$n.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(me=>`- ${me}`)]:[]].join(`
`);let Y=yield G.signMessage(new TextEncoder().encode(v),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=Y}}try{let{data:b,error:q}=yield R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ay(_)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:vt});if(q)throw q;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Nn}:(b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:q})}catch(b){if(M(b))return{data:{user:null,session:null},error:b};throw b}})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield Zt(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:vt});if(yield Rt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Nn}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(M(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return p(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:vt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Nn}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,o,i,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Ln(this.storage,this.storageKey));let{error:h}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Rn("You must provide either an email or phone number.")}catch(c){if(M(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return p(this,null,function*(){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:vt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return p(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Ln(this.storage,this.storageKey)),yield R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:$y})}catch(s){if(M(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new We;let{error:i}=yield R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield R(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield R(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Rn("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<dc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=yield Zt(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=yc()}if(this.storage.isServer&&n.user){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:n},error:null}}let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:yt}):yield this._useSession(r=>p(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:yt})}))}catch(r){if(M(r))return Cy(r)&&(yield this._removeSession(),yield Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new We;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield Ln(this.storage,this.storageKey));let{data:d,error:h}=yield R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:yt});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(M(i))return{data:{user:null},error:i};throw i}})}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new We;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=vc(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new We;let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return p(this,null,function*(){try{if(!Ze())throw new On("No browser detected.");if(n.error||n.error_description||n.error_code)throw new On(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ni("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new On("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ni("No code detected.");let{data:Q,error:E}=yield this._exchangeCodeForSession(n.code);if(E)throw E;let G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:Q.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new On("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let g=f-d;g*1e3<=An&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);let{data:_,error:b}=yield this._getUser(s);if(b)throw b;let q={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:n.type},error:null}}catch(o){if(M(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return p(this,null,function*(){let r=yield Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(by(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=Ry(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield Ln(this.storage,this.storageKey,!0));try{return yield R(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(M(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield R(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return Ze()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(M(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield R(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield Fy(i=>p(this,null,function*(){return i>0&&(yield Py(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:vt})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&hc(s)&&Date.now()+a-o<An})}catch(o){if(this._debug(r,"error",o),M(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),Ze()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield Zt(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield Fn(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:yc()}else if(i&&!i.user&&!i.user){let a=yield Zt(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,yield Rt(this.storage,this.storageKey+"-user"),yield Fn(this.storage,this.storageKey,i)):i.user=yc()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<dc;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${dc}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),hc(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,o;if(!n)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Oi;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new We;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),M(s)){let a={session:null,error:s};return hc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield Fn(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let s=vf(i);yield Fn(this.storage,this.storageKey,s)}else{let i=vf(r);yield Fn(this.storage,this.storageKey,i)}})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Rt(this.storage,this.storageKey),yield Rt(this.storage,this.storageKey+"-code-verifier"),yield Rt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Rt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ze()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),An);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/An);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${An}ms, refresh threshold is ${uc} ticks`),i<=uc&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof ki)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Ln(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield R(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:u}=yield R(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(n.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(M(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield R(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(M(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield R(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(M(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=vc(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return p(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(l=>l.kid===n);if(i)return i;let s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===n),i&&this.jwks_cached_at+Dy>s)return i;let{data:a,error:c}=yield R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(l=>l.kid===n),!i)?null:i})}getClaims(o){return p(this,arguments,function*(n,r={}){try{let i=n;if(!i){let{data:v,error:_}=yield this.getSession();if(_||!v.session)return{data:null,error:_};i=v.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=vc(i);r?.allowExpired||jy(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:v}=yield this.getUser(i);if(v)throw v;return{data:{claims:a,header:s,signature:c},error:null}}let h=Vy(s.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,c,xy(`${l}.${u}`))))throw new kn("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(M(i))return{data:null,error:i};throw i}})}}return e.nextInstanceID=0,e})();var aM=Df,bf=aM;var Dc=class extends bf{constructor(t){super(t)}};var cM=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},bc=class{constructor(t,n,r){var o,i,s;this.supabaseUrl=t,this.supabaseKey=n;let a=my(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:dy,realtime:hy,auth:Object.assign(Object.assign({},fy),{storageKey:c}),global:uy},u=gy(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=py(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Yv(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Mi(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new fi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return cM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dc({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ei(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Cc=(e,t,n)=>new bc(e,t,n);function lM(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}lM()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var uM="https://qdzklqbqqjrxcoqxkiky.supabase.co",dM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkemtscWJxcWpyeGNvcXhraWt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MjU4NDMsImV4cCI6MjA3NDEwMTg0M30.C9ozRZSa06i8ie6AfVRSFoNucWbNTRsjh-_qZ4zHk6g",Yr=Cc(uM,dM);var e_=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(U(pn),U(Ut))};static \u0275dir=pe({type:e})}return e})(),fM=(()=>{class e extends e_{static \u0275fac=(()=>{let n;return function(o){return(n||(n=_r(e)))(o||e)}})();static \u0275dir=pe({type:e,features:[xt]})}return e})(),t_=new C("");var hM={provide:t_,useExisting:dn(()=>eo),multi:!0};function pM(){let e=ze()?ze().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var gM=new C(""),eo=(()=>{class e extends e_{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!pM())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(U(pn),U(Ut),U(gM,8))};static \u0275dir=pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Xe("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Po([hM]),xt]})}return e})();function mM(e){return e==null||vM(e)===0}function vM(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Sf=new C(""),n_=new C("");function yM(e){return mM(e.value)?{required:!0}:null}function Gy(e){return null}function r_(e){return e!=null}function o_(e){return Er(e)?K(e):e}function i_(e){let t={};return e.forEach(n=>{t=n!=null?y(y({},t),n):t}),Object.keys(t).length===0?null:t}function s_(e,t){return t.map(n=>n(e))}function _M(e){return!e.validate}function a_(e){return e.map(t=>_M(t)?t:n=>t.validate(n))}function wM(e){if(!e)return null;let t=e.filter(r_);return t.length==0?null:function(n){return i_(s_(n,t))}}function Mf(e){return e!=null?wM(a_(e)):null}function DM(e){if(!e)return null;let t=e.filter(r_);return t.length==0?null:function(n){let r=s_(n,t).map(o_);return dl(r).pipe(L(i_))}}function Tf(e){return e!=null?DM(a_(e)):null}function Wy(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function bM(e){return e._rawValidators}function CM(e){return e._rawAsyncValidators}function Cf(e){return e?Array.isArray(e)?e:[e]:[]}function Ic(e,t){return Array.isArray(e)?e.includes(t):e===t}function Zy(e,t){let n=Cf(t);return Cf(e).forEach(o=>{Ic(n,o)||n.push(o)}),n}function Ky(e,t){return Cf(t).filter(n=>!Ic(e,n))}var Sc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Mf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Tf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Xr=class extends Sc{name;get formDirective(){return null}get path(){return null}},Ui=class extends Sc{_parent=null;name=null;valueAccessor=null},Mc=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},EM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fV=F(y({},EM),{"[class.ng-submitted]":"isSubmitted"}),Nc=(()=>{class e extends Mc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(U(Ui,2))};static \u0275dir=pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&la("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[xt]})}return e})(),c_=(()=>{class e extends Mc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(U(Xr,10))};static \u0275dir=pe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&la("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[xt]})}return e})();var Pi="VALID",Ec="INVALID",Qr="PENDING",Fi="DISABLED",Kt=class{},Tc=class extends Kt{value;source;constructor(t,n){super(),this.value=t,this.source=n}},ji=class extends Kt{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Vi=class extends Kt{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Jr=class extends Kt{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Ef=class extends Kt{source;constructor(t){super(),this.source=t}},If=class extends Kt{source;constructor(t){super(),this.source=t}};function l_(e){return(Rc(e)?e.validators:e)||null}function IM(e){return Array.isArray(e)?Mf(e):e||null}function u_(e,t){return(Rc(t)?t.asyncValidators:e)||null}function SM(e){return Array.isArray(e)?Tf(e):e||null}function Rc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function MM(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new w(1e3,"");if(!r[n])throw new w(1001,"")}function TM(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new w(1002,"")})}var xc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Bt(this.statusReactive)}set status(t){Bt(()=>this.statusReactive.set(t))}_status=Lo(()=>this.statusReactive());statusReactive=xo(void 0);get valid(){return this.status===Pi}get invalid(){return this.status===Ec}get pending(){return this.status==Qr}get disabled(){return this.status===Fi}get enabled(){return this.status!==Fi}errors;get pristine(){return Bt(this.pristineReactive)}set pristine(t){Bt(()=>this.pristineReactive.set(t))}_pristine=Lo(()=>this.pristineReactive());pristineReactive=xo(!0);get dirty(){return!this.pristine}get touched(){return Bt(this.touchedReactive)}set touched(t){Bt(()=>this.touchedReactive.set(t))}_touched=Lo(()=>this.touchedReactive());touchedReactive=xo(!1);get untouched(){return!this.touched}_events=new ie;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Zy(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Zy(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ky(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ky(t,this._rawAsyncValidators))}hasValidator(t){return Ic(this._rawValidators,t)}hasAsyncValidator(t){return Ic(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(F(y({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Vi(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Vi(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(F(y({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ji(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new ji(!0,r))}markAsPending(t={}){this.status=Qr;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Jr(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(F(y({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Fi,this.errors=null,this._forEachChild(o=>{o.disable(F(y({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Tc(this.value,r)),this._events.next(new Jr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Pi,this._forEachChild(r=>{r.enable(F(y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(F(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pi||this.status===Qr)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Tc(this.value,n)),this._events.next(new Jr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(F(y({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fi:Pi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Qr,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=o_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Jr(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Fi:this.errors?Ec:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qr)?Qr:this._anyControlsHaveStatus(Ec)?Ec:Pi}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new ji(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Vi(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Rc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=IM(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=SM(this._rawAsyncValidators)}},Ac=class extends xc{constructor(t,n,r){super(l_(n),u_(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){TM(this,!0,t),Object.keys(t).forEach(r=>{MM(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var xf=new C("",{providedIn:"root",factory:()=>Af}),Af="always";function xM(e,t){return[...t.path,e]}function d_(e,t,n=Af){f_(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),NM(e,t),OM(e,t),RM(e,t),AM(e,t)}function Yy(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function AM(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function f_(e,t){let n=bM(e);t.validator!==null?e.setValidators(Wy(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=CM(e);t.asyncValidator!==null?e.setAsyncValidators(Wy(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();Yy(t._rawValidators,o),Yy(t._rawAsyncValidators,o)}function NM(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&h_(e,t)})}function RM(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&h_(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function h_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function OM(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function kM(e,t){e==null,f_(e,t)}function PM(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function FM(e){return Object.getPrototypeOf(e.constructor)===fM}function LM(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jM(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===eo?n=i:FM(i)?r=i:o=i}),o||r||n||null}var VM={provide:Xr,useExisting:dn(()=>Nf)},Li=Promise.resolve(),Nf=(()=>{class e extends Xr{callSetDisabledState;get submitted(){return Bt(this.submittedReactive)}_submitted=Lo(()=>this.submittedReactive());submittedReactive=xo(!1);_directives=new Set;form;ngSubmit=new se;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new Ac({},Mf(n),Tf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Li.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),d_(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Li.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Li.then(()=>{let r=this._findContainer(n.path),o=new Ac({});kM(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Li.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Li.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),LM(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Ef(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new If(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(U(Sf,10),U(n_,10),U(xf,8))};static \u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Xe("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Po([VM]),xt]})}return e})();function Qy(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Jy(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var UM=class extends xc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(l_(n),u_(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Jy(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Qy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Qy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Jy(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var $M={provide:Ui,useExisting:dn(()=>$i)},Xy=Promise.resolve(),$i=(()=>{class e extends Ui{_changeDetectorRef;callSetDisabledState;control=new UM;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new se;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=jM(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),PM(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){d_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Xy.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Fo(r);Xy.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?xM(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(U(Xr,9),U(Sf,10),U(n_,10),U(t_,10),U(_n,8),U(xf,8))};static \u0275dir=pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Po([$M]),xt,fn]})}return e})();var p_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var BM=(()=>{class e{_validator=Gy;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Gy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,features:[fn]})}return e})();var HM={provide:Sf,useExisting:dn(()=>Rf),multi:!0};var Rf=(()=>{class e extends BM{required;inputName="required";normalizeInput=Fo;createValidator=n=>yM;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=_r(e)))(o||e)}})();static \u0275dir=pe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&aa("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Po([HM]),xt]})}return e})();var zM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Tt({type:e});static \u0275inj=It({})}return e})();var Oc=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:xf,useValue:n.callSetDisabledState??Af}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Tt({type:e});static \u0275inj=It({imports:[zM]})}return e})();var qM=e=>({highlight:e});function GM(e,t){if(e&1){let n=hm();re(0,"div",3)(1,"span",4),Ne(2),ue(),re(3,"input",5),yn("ngModelChange",function(o){let i=Io(n).$implicit;return Ir(i.check_in,o)||(i.check_in=o),So(o)}),ue(),re(4,"input",5),yn("ngModelChange",function(o){let i=Io(n).$implicit;return Ir(i.check_out,o)||(i.check_out=o),So(o)}),ue(),re(5,"span",6),Ne(6),ue(),re(7,"button",7),Xe("click",function(){let o=Io(n).$implicit,i=ua();return So(i.saveEntry(o))}),Ne(8,"Save"),ue(),re(9,"button",8),Xe("click",function(){let o=Io(n).$implicit,i=ua();return So(i.clearEntry(o))}),Ne(10,"Clear"),ue()()}if(e&2){let n=t.$implicit,r=t.index,o=ua();ca("ngClass",mm(5,qM,r===o.currentDayIndex)),Ie(2),gn(n.day),Ie(),vn("ngModel",n.check_in),Ie(),vn("ngModel",n.check_out),Ie(2),mn("",n.total_minutes," mins")}}var kc=class e{constructor(t){this.router=t}workWeek=[];currentDayIndex=new Date().getDay()-1;DEFAULT_IN="11:15";DEFAULT_OUT="20:30";ngOnInit(){return p(this,null,function*(){yield this.loadEntries()})}loadEntries(){return p(this,null,function*(){let{data:{user:t}}=yield Yr.auth.getUser();if(!t){alert("Please login or signup first!"),this.router.navigate(["/"]);return}let{data:n,error:r}=yield Yr.from("time_entries").select("*").eq("user_id",t.id);if(r){console.error("Error fetching entries:",r.message);return}let o=["Monday","Tuesday","Wednesday","Thursday","Friday"];this.workWeek=o.map(i=>{let s=n?.find(a=>a.day===i);return s?y({},s):{day:i,check_in:this.DEFAULT_IN,check_out:this.DEFAULT_OUT,total_minutes:0}})})}saveEntry(t){return p(this,null,function*(){let{data:{user:n}}=yield Yr.auth.getUser();if(!n)return;let[r,o]=t.check_in.split(":").map(Number),[i,s]=t.check_out.split(":").map(Number),a=r*60+o,c=i*60+s,l=11*60+15,u=20*60+30,d=a>l?-(a-l):0,h=c>u?c-u:0;if(t.total_minutes=d+h,t.id){let{error:f}=yield Yr.from("time_entries").update({check_in:t.check_in,check_out:t.check_out,total_minutes:t.total_minutes}).eq("id",t.id);f&&console.error("Update failed:",f.message)}else{let{data:f,error:g}=yield Yr.from("time_entries").insert([{user_id:n.id,day:t.day,check_in:t.check_in,check_out:t.check_out,total_minutes:t.total_minutes}]).select().single();!g&&f?t.id=f.id:g&&console.error("Insert failed:",g.message)}})}get weeklyTotal(){return this.workWeek.reduce((t,n)=>t+n.total_minutes,0)}clearEntry(t){t.check_in=this.DEFAULT_IN,t.check_out=this.DEFAULT_OUT,this.saveEntry(t)}static \u0275fac=function(n){return new(n||e)(U(ke))};static \u0275cmp=$t({type:e,selectors:[["app-timeinput"]],decls:8,vars:2,consts:[[1,"time-calculator"],["class","day-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"weekly-total"],[1,"day-row",3,"ngClass"],[1,"day-label"],["type","time",3,"ngModelChange","ngModel"],[1,"time-output"],[1,"save-btn",3,"click"],[1,"clear-btn",3,"click"]],template:function(n,r){n&1&&(re(0,"div",0)(1,"h2"),Ne(2,"Time Calculator"),ue(),Xu(3,GM,11,7,"div",1),re(4,"div",2),Ne(5," Weekly Total: "),re(6,"strong"),Ne(7),ue()()()),n&2&&(Ie(3),ca("ngForOf",r.workWeek),Ie(4),mn("",r.weeklyTotal," mins"))},dependencies:[Sr,id,ma,Oc,eo,Nc,$i],styles:[".time-calculator[_ngcontent-%COMP%]{font-family:Arial,sans-serif;max-width:600px;margin:auto;padding:20px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.day-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px;padding:8px;border:1px solid #ddd;border-radius:6px;background:#f9f9f9;transition:background .3s ease}.day-label[_ngcontent-%COMP%]{width:100px;font-weight:700}.time-output[_ngcontent-%COMP%]{margin-left:auto;font-weight:700}.highlight[_ngcontent-%COMP%]{background:#d2f8d2!important;border-color:#4caf50}input[_ngcontent-%COMP%]{padding:4px}.weekly-total[_ngcontent-%COMP%]{margin-top:16px;font-size:16px;text-align:right;font-weight:700}button[_ngcontent-%COMP%]{display:block;padding:8px 16px;border:none;color:#fff;border-radius:6px;cursor:pointer;font-size:14px}.save-btn[_ngcontent-%COMP%]{background-color:#468346}.save-btn[_ngcontent-%COMP%]:hover{background-color:#067506}.clear-btn[_ngcontent-%COMP%]{background-color:#ff4d4d}.clear-btn[_ngcontent-%COMP%]:hover{background-color:#e60000}"]})};var Pc=class e{supabase;constructor(){this.supabase=Cc("https://qdzklqbqqjrxcoqxkiky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkemtscWJxcWpyeGNvcXhraWt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MjU4NDMsImV4cCI6MjA3NDEwMTg0M30.C9ozRZSa06i8ie6AfVRSFoNucWbNTRsjh-_qZ4zHk6g")}signUp(t,n){return p(this,null,function*(){return this.supabase.auth.signUp({email:t,password:n})})}signIn(t,n){return p(this,null,function*(){return this.supabase.auth.signInWithPassword({email:t,password:n})})}signOut(){return p(this,null,function*(){return this.supabase.auth.signOut()})}getUser(){return p(this,null,function*(){let{data:t}=yield this.supabase.auth.getUser();return t.user})}insertTimeEntry(t,n,r,o,i){return p(this,null,function*(){return this.supabase.from("time_entries").insert([{user_id:t,day:n,check_in:r,check_out:o,total_minutes:i}])})}fetchTimeEntries(t){return p(this,null,function*(){return this.supabase.from("time_entries").select("*").eq("user_id",t)})}clearUserEntries(t){return p(this,null,function*(){return this.supabase.from("time_entries").delete().eq("user_id",t)})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Fc=class e{constructor(t,n){this.supabase=t;this.router=n}email="";password="";isLoginMode=!0;message="";onSubmit(){return p(this,null,function*(){try{if(this.isLoginMode){let{error:t}=yield this.supabase.signIn(this.email,this.password);if(t)throw t;this.message="Login successful!",this.router.navigate(["/dashboard"])}else{let{error:t}=yield this.supabase.signUp(this.email,this.password);if(t)throw t;this.message="Signup successful! Please check your email to confirm."}}catch(t){this.message=t.message}})}toggleMode(){this.isLoginMode=!this.isLoginMode,this.message=""}static \u0275fac=function(n){return new(n||e)(U(Pc),U(ke))};static \u0275cmp=$t({type:e,selectors:[["app-auth"]],decls:12,vars:6,consts:[[1,"auth-container"],[3,"ngSubmit"],["type","email","placeholder","Email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","placeholder","Password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"toggle",3,"click"],[1,"message"]],template:function(n,r){n&1&&(re(0,"div",0)(1,"h2"),Ne(2),ue(),re(3,"form",1),Xe("ngSubmit",function(){return r.onSubmit()}),re(4,"input",2),yn("ngModelChange",function(i){return Ir(r.email,i)||(r.email=i),i}),ue(),re(5,"input",3),yn("ngModelChange",function(i){return Ir(r.password,i)||(r.password=i),i}),ue(),re(6,"button",4),Ne(7),ue()(),re(8,"p",5),Xe("click",function(){return r.toggleMode()}),Ne(9),ue(),re(10,"p",6),Ne(11),ue()()),n&2&&(Ie(2),gn(r.isLoginMode?"Login":"Sign Up"),Ie(2),vn("ngModel",r.email),Ie(),vn("ngModel",r.password),Ie(2),gn(r.isLoginMode?"Login":"Sign Up"),Ie(2),mn(" ",r.isLoginMode?"Don't have an account? Sign Up":"Already have an account? Login"," "),Ie(2),gn(r.message))},dependencies:[Sr,Oc,p_,eo,Nc,c_,Rf,$i,Nf],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;border:1px solid #ddd;border-radius:8px;background:#f9f9f9;text-align:center}input[_ngcontent-%COMP%]{width:100%;margin:8px 0;padding:10px;border:1px solid #ccc;border-radius:6px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background:#4caf50;border:none;color:#fff;border-radius:6px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#45a049}.toggle[_ngcontent-%COMP%]{margin-top:12px;color:#007bff;cursor:pointer}.message[_ngcontent-%COMP%]{margin-top:10px;color:red}"]})};var m_=[{path:"",component:Fc},{path:"dashboard",component:kc},{path:"**",redirectTo:""}];md(Qa,{providers:[zd(m_,Gd())]}).catch(e=>console.error(e));
